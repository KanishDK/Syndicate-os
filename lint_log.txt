
> syndicate-os@1.1.2 lint
> eslint .


C:\Users\danka\.gemini\antigravity\playground\Syndicate OS Final\src\App.jsx
  56:17  error    Error: Cannot access variable before it is declared

`addLog` is accessed before it is declared, which prevents the earlier access from updating when this value changes over time.

  54 |             if (!showDrone && Math.random() > 0.3) {
  55 |                 setShowDrone(true);
> 56 |                 addLog('⚠️ RADAR: Ukendt drone observeret!', 'warning');
     |                 ^^^^^^ `addLog` accessed before it is declared
  57 |                 playSound('drone');
  58 |             }
  59 |         }, 30000); // Check every 30s for testing (usually 120000)

   93 |     // 4. Custom Hooks (Logic Extraction)
   94 |     const lastLogTime = React.useRef(0);
>  95 |     const addLog = useCallback((msg, type = 'system') => {
      |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
>  96 |         // NYC Patch: Throttle rapid log flooding (Combat/Cheating)
      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
>  97 |         const now = Date.now();
      …
      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 107 |         }));
      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 108 |     }, [setGameState]);
      | ^^^^^^^^^^^^^^^^^^^^^^^^ `addLog` is declared here
  109 |
  110 |     useAchievements(gameState, dispatch, addLog);
  111 |     useTutorial(gameState, setGameState, setRaidModalData, !!raidModalData);  react-hooks/immutability
  62:8   warning  React Hook React.useEffect has a missing dependency: 'addLog'. Either include it or remove the dependency array                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               react-hooks/exhaustive-deps
  68:32  error    Error: Cannot call impure function during render

`Math.random` is an impure function. Calling an impure function can produce unstable results that update unpredictably when the component happens to re-render. (https://react.dev/reference/rules/components-and-hooks-must-be-pure#components-and-hooks-must-be-idempotent).

  66 |         if (caught) {
  67 |             // Reward: 5-10% of current Clean Cash or Dirty Cash
> 68 |             const rewardType = Math.random() > 0.5 ? 'cash' : 'hype';
     |                                ^^^^^^^^^^^^^ Cannot call impure function
  69 |
  70 |             if (rewardType === 'cash') {
  71 |                 const amount = Math.floor((gameState.dirtyCash || 1000) * 0.1) + 5000;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      react-hooks/purity

C:\Users\danka\.gemini\antigravity\playground\Syndicate OS Final\src\components\BriefcaseController.jsx
  45:39  error    Compilation Skipped: Existing memoization could not be preserved

React Compiler has skipped optimizing this component because the existing manual memoization could not be preserved. The inferred dependencies did not match the manually specified dependencies, which could cause the value to change more or less frequently than expected. The inferred dependency was `t`, but the source dependencies were [briefcase, dispatch, addFloat]. Inferred different dependency than source.

  43 |     }, [briefcase]);
  44 |
> 45 |     const handleCollect = useCallback((e) => {
     |                                       ^^^^^^^^
> 46 |         e.stopPropagation(); // Prevent map click if any
     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 47 |         if (!briefcase) return;
     …
     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 85 |         setBriefcase(null);
     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 86 |     }, [briefcase, dispatch, addFloat]);
     | ^^^^^^ Could not preserve existing manual memoization
  87 |
  88 |     if (!briefcase) return null;
  89 |  react-hooks/preserve-manual-memoization
  86:8   warning  React Hook useCallback has a missing dependency: 't'. Either include it or remove the dependency array                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              react-hooks/exhaustive-deps

C:\Users\danka\.gemini\antigravity\playground\Syndicate OS Final\src\components\EmpireTab.jsx
  143:47  error  '_' is defined but never used  no-unused-vars
  191:47  error  '_' is defined but never used  no-unused-vars
  239:43  error  '_' is defined but never used  no-unused-vars

C:\Users\danka\.gemini\antigravity\playground\Syndicate OS Final\src\components\FloatManager.jsx
  29:8  warning  React Hook useEffect has missing dependencies: 'addFloat' and 'gameState.settings?.particles'. Either include them or remove the dependency array. If 'addFloat' changes too often, find the parent component that defines it and wrap that definition in useCallback  react-hooks/exhaustive-deps

C:\Users\danka\.gemini\antigravity\playground\Syndicate OS Final\src\components\Header.jsx
  61:81  error  Error: Cannot call impure function during render

`Date.now` is an impure function. Calling an impure function can produce unstable results that update unpredictably when the component happens to re-render. (https://react.dev/reference/rules/components-and-hooks-must-be-pure#components-and-hooks-must-be-idempotent).

  59 |                             {Object.keys(state.territoryAttacks).map(tId => {
  60 |                                 const attack = state.territoryAttacks[tId];
> 61 |                                 const timeLeft = Math.max(0, attack.expiresAt - Date.now());
     |                                                                                 ^^^^^^^^^^ Cannot call impure function
  62 |                                 return (
  63 |                                     <div key={tId} className="bg-black/30 px-2 py-1 rounded text-[9px] font-mono text-white">
  64 |                                         {tId}: {Math.ceil(timeLeft / 1000)}s  react-hooks/purity

C:\Users\danka\.gemini\antigravity\playground\Syndicate OS Final\src\components\LanguageSelector.jsx
  6:26  error  't' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u  no-unused-vars

C:\Users\danka\.gemini\antigravity\playground\Syndicate OS Final\src\components\MusicPlayer.jsx
  141:8  warning  React Hook useEffect has a missing dependency: 'isPlaying'. Either include it or remove the dependency array  react-hooks/exhaustive-deps

C:\Users\danka\.gemini\antigravity\playground\Syndicate OS Final\src\components\NavButton.jsx
  3:52  error  'color' is defined but never used  no-unused-vars

C:\Users\danka\.gemini\antigravity\playground\Syndicate OS Final\src\components\ProductionCard.jsx
  149:8  warning  React Hook useEffect has a missing dependency: 'addFloat'. Either include it or remove the dependency array. If 'addFloat' changes too often, find the parent component that defines it and wrap that definition in useCallback  react-hooks/exhaustive-deps

C:\Users\danka\.gemini\antigravity\playground\Syndicate OS Final\src\components\StatsCard.jsx
  11:5  error  'icon' is defined but never used  no-unused-vars

C:\Users\danka\.gemini\antigravity\playground\Syndicate OS Final\src\components\SultanTab.jsx
   7:29  error  'addLog' is defined but never used                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    no-unused-vars
  15:42  error  Error: Cannot call impure function during render

`Date.now` is an impure function. Calling an impure function can produce unstable results that update unpredictably when the component happens to re-render. (https://react.dev/reference/rules/components-and-hooks-must-be-pure#components-and-hooks-must-be-idempotent).

  13 |     const dailyMission = state.dailyMission;
  14 |
> 15 |     const [now, setNow] = React.useState(Date.now());
     |                                          ^^^^^^^^^^ Cannot call impure function
  16 |
  17 |     React.useEffect(() => {
  18 |         const interval = setInterval(() => setNow(Date.now()), 1000);  react-hooks/purity

C:\Users\danka\.gemini\antigravity\playground\Syndicate OS Final\src\components\Tooltip.jsx
  2:10  error  'useTooltip' is defined but never used. Allowed unused vars must match /^[A-Z_]/u  no-unused-vars

C:\Users\danka\.gemini\antigravity\playground\Syndicate OS Final\src\components\TutorialOverlay.jsx
  1:27  error  'useEffect' is defined but never used. Allowed unused vars must match /^[A-Z_]/u          no-unused-vars
  7:20  error  'dispatch' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u  no-unused-vars

C:\Users\danka\.gemini\antigravity\playground\Syndicate OS Final\src\components\header\MetaDisplay.jsx
  10:21  error  'toggle' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u  no-unused-vars

C:\Users\danka\.gemini\antigravity\playground\Syndicate OS Final\src\components\header\StatusBar.jsx
   7:10  error  'tokens' is defined but never used. Allowed unused vars must match /^[A-Z_]/u           no-unused-vars
  12:21  error  'toggle' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u  no-unused-vars

C:\Users\danka\.gemini\antigravity\playground\Syndicate OS Final\src\components\layout\GameLayout.jsx
  18:5  error  'isRaid' is defined but never used  no-unused-vars

C:\Users\danka\.gemini\antigravity\playground\Syndicate OS Final\src\components\management\StaffCard.jsx
  29:31  error  Error: Cannot call impure function during render

`Date.now` is an impure function. Calling an impure function can produce unstable results that update unpredictably when the component happens to re-render. (https://react.dev/reference/rules/components-and-hooks-must-be-pure#components-and-hooks-must-be-idempotent).

  27 |         const hiredDate = state?.staffHiredDates?.[role];
  28 |         if (!hiredDate) return 0;
> 29 |         const daysEmployed = (Date.now() - hiredDate) / (1000 * 60 * 60 * 24);
     |                               ^^^^^^^^^^ Cannot call impure function
  30 |         return Math.min(20, Math.floor(daysEmployed));
  31 |     }, [locked, count, role, state?.staffHiredDates]);
  32 |  react-hooks/purity

C:\Users\danka\.gemini\antigravity\playground\Syndicate OS Final\src\components\modals\RaidModal.jsx
  19:22  error  React Hook "useFocusTrap" is called conditionally. React Hooks must be called in the exact same order in every component render. Did you accidentally call a React Hook after an early return?     react-hooks/rules-of-hooks
  22:5   error  React Hook "React.useEffect" is called conditionally. React Hooks must be called in the exact same order in every component render. Did you accidentally call a React Hook after an early return?  react-hooks/rules-of-hooks

C:\Users\danka\.gemini\antigravity\playground\Syndicate OS Final\src\components\modals\WelcomeModal.jsx
  15:22  error  React Hook "useFocusTrap" is called conditionally. React Hooks must be called in the exact same order in every component render. Did you accidentally call a React Hook after an early return?     react-hooks/rules-of-hooks
  18:5   error  React Hook "React.useEffect" is called conditionally. React Hooks must be called in the exact same order in every component render. Did you accidentally call a React Hook after an early return?  react-hooks/rules-of-hooks

C:\Users\danka\.gemini\antigravity\playground\Syndicate OS Final\src\components\overlays\GoldenDrone.jsx
   1:38  error    'useRef' is defined but never used. Allowed unused vars must match /^[A-Z_]/u                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          no-unused-vars
  16:9   error    Error: Calling setState synchronously within an effect can trigger cascading renders

Effects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:
* Update external systems with the latest state from React.
* Subscribe for updates from some external system, calling setState in a callback function when external state changes.

Calling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).

  14 |         // Trigger Animation on Mount
  15 |         const startY = Math.random() * (window.innerHeight - 200) + 100;
> 16 |         setPosition({ x: -100, y: startY });
     |         ^^^^^^^^^^^ Avoid calling setState() directly within an effect
  17 |         setIsVisible(true);
  18 |
  19 |         // Animate  react-hooks/set-state-in-effect
  34:29  error    'prev' is defined but never used                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       no-unused-vars
  42:8   warning  React Hook useEffect has missing dependencies: 'isCaptured' and 'onCapture'. Either include them or remove the dependency array. If 'onCapture' changes too often, find the parent component that defines it and wrap that definition in useCallback                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   react-hooks/exhaustive-deps

C:\Users\danka\.gemini\antigravity\playground\Syndicate OS Final\src\context\GameContext.jsx
  88:8  warning  React Hook useEffect has a missing dependency: 't'. Either include it or remove the dependency array  react-hooks/exhaustive-deps

C:\Users\danka\.gemini\antigravity\playground\Syndicate OS Final\src\context\LanguageContext.jsx
  6:14  error  Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components  react-refresh/only-export-components

C:\Users\danka\.gemini\antigravity\playground\Syndicate OS Final\src\context\ThemeContext.jsx
  73:14  error  Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components  react-refresh/only-export-components

C:\Users\danka\.gemini\antigravity\playground\Syndicate OS Final\src\features\engine\economy.js
  240:38  error  'getHeatMultiplier' is not defined  no-undef

C:\Users\danka\.gemini\antigravity\playground\Syndicate OS Final\src\features\engine\events.js
  21:15  error  'shadowNetLevel' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u  no-unused-vars

C:\Users\danka\.gemini\antigravity\playground\Syndicate OS Final\src\features\engine\gameTick.js
  7:10  error  'playSound' is defined but never used. Allowed unused vars must match /^[A-Z_]/u  no-unused-vars

C:\Users\danka\.gemini\antigravity\playground\Syndicate OS Final\src\hooks\useAchievements.js
  41:8  warning  React Hook useEffect has a missing dependency: 't'. Either include it or remove the dependency array  react-hooks/exhaustive-deps

C:\Users\danka\.gemini\antigravity\playground\Syndicate OS Final\src\hooks\useFinance.js
  141:40  error  'isFull' is assigned a value but never used  no-unused-vars

C:\Users\danka\.gemini\antigravity\playground\Syndicate OS Final\src\hooks\useGameActions.js
  429:37  error    Compilation Skipped: Existing memoization could not be preserved

React Compiler has skipped optimizing this component because the existing manual memoization could not be preserved. The inferred dependencies did not match the manually specified dependencies, which could cause the value to change more or less frequently than expected. The inferred dependency was `addLog`, but the source dependencies were [setGameState]. Inferred different dependency than source.

  427 |     }, [setGameState]);
  428 |
> 429 |     const bribePolice = useCallback(() => {
      |                                     ^^^^^^^
> 430 |         setGameState(prev => {
      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 431 |             const cost = 50000;
      …
      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 454 |         });
      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 455 |     }, [setGameState]);
      | ^^^^^^ Could not preserve existing manual memoization
  456 |
  457 |     const handleMissionChoice = useCallback((missionId, choice) => {
  458 |         setGameState(prev => {  react-hooks/preserve-manual-memoization
  455:8   warning  React Hook useCallback has a missing dependency: 'addLog'. Either include it or remove the dependency array. If 'addLog' changes too often, find the parent component that defines it and wrap that definition in useCallback                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  react-hooks/exhaustive-deps

C:\Users\danka\.gemini\antigravity\playground\Syndicate OS Final\src\hooks\useKeyboard.js
  25:8  warning  React Hook useEffect has a missing dependency: 'setActiveTab'. Either include it or remove the dependency array. If 'setActiveTab' changes too often, find the parent component that defines it and wrap that definition in useCallback  react-hooks/exhaustive-deps

C:\Users\danka\.gemini\antigravity\playground\Syndicate OS Final\src\hooks\useManagement.js
   7:34  error    Compilation Skipped: Existing memoization could not be preserved

React Compiler has skipped optimizing this component because the existing manual memoization could not be preserved. The inferred dependencies did not match the manually specified dependencies, which could cause the value to change more or less frequently than expected. The inferred dependency was `state.heat`, but the source dependencies were [state.level, state.staff, state.cleanCash, setState, addLog]. Inferred different dependency than source.

   5 | export const useManagement = (state, setState, addLog) => {
   6 |
>  7 |     const buyStaff = useCallback((role, amount = 1) => {
     |                                  ^^^^^^^^^^^^^^^^^^^^^^^
>  8 |         const item = CONFIG.staff[role];
     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
>  9 |         if (state.level < (item.reqLevel || 1)) {
     …
     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 58 |         }
     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 59 |     }, [state.level, state.staff, state.cleanCash, setState, addLog]);
     | ^^^^^^ Could not preserve existing manual memoization
  60 |
  61 |     const fireStaff = useCallback((role, amount = 1) => {
  62 |         const currentCount = state.staff[role] || 0;             react-hooks/preserve-manual-memoization
   7:34  error    Compilation Skipped: Existing memoization could not be preserved

React Compiler has skipped optimizing this component because the existing manual memoization could not be preserved. The inferred dependencies did not match the manually specified dependencies, which could cause the value to change more or less frequently than expected. The inferred dependency was `state.informantActive`, but the source dependencies were [state.level, state.staff, state.cleanCash, setState, addLog]. Inferred different dependency than source.

   5 | export const useManagement = (state, setState, addLog) => {
   6 |
>  7 |     const buyStaff = useCallback((role, amount = 1) => {
     |                                  ^^^^^^^^^^^^^^^^^^^^^^^
>  8 |         const item = CONFIG.staff[role];
     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
>  9 |         if (state.level < (item.reqLevel || 1)) {
     …
     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 58 |         }
     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 59 |     }, [state.level, state.staff, state.cleanCash, setState, addLog]);
     | ^^^^^^ Could not preserve existing manual memoization
  60 |
  61 |     const fireStaff = useCallback((role, amount = 1) => {
  62 |         const currentCount = state.staff[role] || 0;  react-hooks/preserve-manual-memoization
  59:8   warning  React Hook useCallback has missing dependencies: 'state.heat' and 'state.informantActive'. Either include them or remove the dependency array                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                react-hooks/exhaustive-deps

C:\Users\danka\.gemini\antigravity\playground\Syndicate OS Final\src\hooks\useNetwork.js
   9:36  error    Error: Cannot call impure function during render

`Date.now` is an impure function. Calling an impure function can produce unstable results that update unpredictably when the component happens to re-render. (https://react.dev/reference/rules/components-and-hooks-must-be-pure#components-and-hooks-must-be-idempotent).

   7 |     const { t } = useLanguage();
   8 |     const [activeShakedown, setActiveShakedown] = useState(null);
>  9 |     const [now, setNow] = useState(Date.now());
     |                                    ^^^^^^^^^^ Cannot call impure function
  10 |
  11 |     // Game Loop for Network Tab (Shakedowns, Respect)
  12 |     useEffect(() => {  react-hooks/purity
  55:57  warning  Unused eslint-disable directive (no problems were reported from 'react-hooks/exhaustive-deps')

C:\Users\danka\.gemini\antigravity\playground\Syndicate OS Final\src\hooks\useOfflineSystem.js
  18:8  warning  React Hook useEffect has a missing dependency: 'gameState'. Either include it or remove the dependency array  react-hooks/exhaustive-deps

C:\Users\danka\.gemini\antigravity\playground\Syndicate OS Final\src\hooks\useTutorial.js
   4:68  error    'isModalOpen' is defined but never used                                                                       no-unused-vars
  53:8   warning  React Hook useEffect has a missing dependency: 'gameState'. Either include it or remove the dependency array  react-hooks/exhaustive-deps
  75:8   warning  React Hook useEffect has a missing dependency: 'gameState'. Either include it or remove the dependency array  react-hooks/exhaustive-deps

C:\Users\danka\.gemini\antigravity\playground\Syndicate OS Final\src\locales\da.js
  395:5  error  Duplicate key 'missions'  no-dupe-keys
  439:5  error  Duplicate key 'news'      no-dupe-keys

C:\Users\danka\.gemini\antigravity\playground\Syndicate OS Final\src\locales\en.js
  395:5  error  Duplicate key 'missions'  no-dupe-keys
  439:5  error  Duplicate key 'news'      no-dupe-keys

C:\Users\danka\.gemini\antigravity\playground\Syndicate OS Final\src\utils\audio.js
  22:5  error  'lastCoinSoundTime' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u  no-unused-vars
  23:5  error  'lastVaskSoundTime' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u  no-unused-vars

✖ 59 problems (44 errors, 15 warnings)
  0 errors and 1 warning potentially fixable with the `--fix` option.

