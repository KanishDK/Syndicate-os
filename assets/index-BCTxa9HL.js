import{r as y,j as e,h as Xe,R as B,a as Je}from"./vendor-DZTTN7vf.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();const Ie="1.1.2 [PLATINUM]",de="syndicate_os_danish_tycoon_v1",x={autoSaveInterval:3e4,levelTitles:["L√∏ber","Hustler","Soldat","Omr√•de-Chef","Vesterbro-Boss","N√∏rrebro-Konge","Gudfader"],initialCash:2500,initialDirtyCash:0,heat:{decay:.1},launderingRate:.7,hardcoreMode:!1,tutorialActive:!0,pols:{name:"Sultanen"},news:[{msg:"DISTORTION FESTIVAL: Gaden fester! Eftersp√∏rgsel p√• MDMA og Speed eksploderer (+100%).",type:"success"},{msg:"ROSKILDE FESTIVAL: Dyrskuepladsen √•bner. Coke og Hash i h√∏j kurs (+60%).",type:"success"},{msg:"JULEFROKOST S√ÜSON: Firmaer fester igennem. Sne falder i stride str√∏mme (+40% Coke).",type:"success"},{msg:"RAZZIA P√Ö STADEN: Osten rydder Pusher Street. Hash priser bunder (-40%).",type:"warning"},{msg:"GR√ÜNSEKONTROL: Sk√¶rpet kontrol i R√∏dby. Import varer sidder fast (-30% Supply).",type:"warning"},{msg:"POLITI-AKTION: 'Operation Hvid Jul'. Alle pushere holder lav profil.",type:"warning"},{msg:"VINTER T√òRKE: Frostvejr og lukkede havne. Alt import er dyrt.",type:"warning"},{msg:"BLOCKCHAIN CRASH: Krypto styrtdykker. Hvidvask er billigere, men risikabelt.",type:"rival"},{msg:"ETHEREUM SURGE: Gas fees er t√•rnh√∏je. Hvidvask koster kassen.",type:"rival"},{msg:"N√∏rrebro: Skudveksling ved Den R√∏de Plads. Folk holder sig inde.",type:"rival"},{msg:"Vesterbro: Turister flokkes til K√∏dbyen. Pusherne har travlt.",type:"success"},{msg:"Nordvest: Unge r√∏dder kaster med kanonslag. Osten er distraheret.",type:"info"},{msg:"Amager: Rockerne holder tr√¶f. Hold lav profil p√• √∏en.",type:"rival"},{msg:"Sydhavnen: Nybyggeriet tiltr√¶kker rige kunder. Priserne stiger.",type:"success"},{msg:"Christiania: Turists√¶sonen starter. Salget af 'souvenirs' stiger.",type:"success"},{msg:"Istedgade: Politiet ops√¶tter overv√•gning. Heat stiger hurtigere.",type:"warning"},{msg:"Vestegnen: GTI-tr√¶f p√• tanken. Speed flyder frit.",type:"info"},{msg:"Politiet har f√•et nye droner med varmes√∏gende kameraer. Hold lav profil.",type:"warning"},{msg:"Lokalbetjent 'Jens' tager imod bestikkelse igen.",type:"info"},{msg:"Rigspolitiet advarer om 'st√¶rk pille' i oml√∏b.",type:"warning"},{msg:"Efterlyst: Din rival 'Lille A' er set ved lufthavnen.",type:"info"},{msg:"Politiradio: 'Mist√¶nkelig aktivitet i din sektor'.",type:"warning"},{msg:"Ny lovgivning: H√•rdere straffe for hvidvask fra i dag.",type:"warning"},{msg:"news.weather_gray",type:"info"},{msg:"news.rumor_viagra",type:"info"},{msg:"news.metro_down",type:"warning"},{msg:"news.sultan_shawarma",type:"success"},{msg:"news.mom_call",type:"info"},{msg:"news.influencer_heat",type:"warning"},{msg:"news.rival_tag",type:"rival"},{msg:"news.junkie_buy",type:"success"},{msg:"news.power_outage",type:"warning"},{msg:"news.dog_patrol",type:"warning"},{msg:"news.season_summer",type:"success"},{msg:"news.season_winter",type:"success"},{msg:"news.season_payday",type:"success"},{msg:"news.season_blue_monday",type:"warning"},{msg:"news.tech_silkroad",type:"rival"},{msg:"news.tech_phones",type:"success"},{msg:"news.tech_atm",type:"warning"},{msg:"news.tech_hacker",type:"info"},{msg:"news.event_auction",type:"success",action:{type:"buy_cheap_equip"}},{msg:"news.event_corrupt_cop",type:"warning",action:{type:"bribe_police"}},{msg:"news.flavor_accountant",type:"info"},{msg:"news.flavor_quality",type:"warning"},{msg:"news.flavor_rival_guards",type:"rival"},{msg:"news.flavor_sultan_vodka",type:"success"},{msg:"news.flavor_taxi_cash",type:"success"},{msg:"news.flavor_mailbox",type:"info"},{msg:"news.flavor_gov_legal",type:"info"},{msg:"news.flavor_netflix",type:"info"}],policeChatter:["Enhed 4: Vi observerer √∏get aktivitet omkring N√∏rrebrogade.","KOC: Alle patruljer, v√¶r opm√¶rksom p√• mist√¶nkelige varevogne i NV.","Politiradio: 'Operation Hvid Jul' er i gang. Hold √∏je med vaskehallerne.","Enhed 12: Mist√¶nkelig person set ved Bl√•g√•rds Plads. Vi rykker ind.","Kommando: Vi har brug for backup ved Istedgade. Massivt salg konstateret.","Scanner: 'Signal 13' bekr√¶ftet. De store drenge er ude i dag.","Enhed 7: Vi har mistet visuel kontakt med m√•let ved S√∏erne.","Kommando: Husk at tjekke Western Union overf√∏rslerne i dag.","Scanner: Der er rapporter om droner over K√∏dbyen. Er det vores?","Politiradio: Vi har fundet endnu et 'Safehouse'. EOD er p√• vej."],missions:[{id:"m1",title:"F√∏rste Levering",req:{type:"produce",item:"hash_lys",amount:5},reward:{xp:100,money:500},giver:"Sultanen",text:"Velkommen til Gaden, bror. En junkie ved Den R√∏de Plads mangler skiver. G√• til <b>Produktion</b> og lav 5x Hash. Tjep."},{id:"m2",title:"Gadeplan",req:{type:"sell",amount:5},reward:{xp:150,money:1e3},giver:"Sultanen",text:"Godt. Men varer p√• lageret betaler ikke huslejen. S√¶lg lortet for at f√• Sorte Penge. Pas p√• varmen (Heat)!"},{id:"m3",title:"Vaskemaskinen",req:{type:"launder",amount:500},reward:{xp:200,money:0},giver:"Sultanen",text:"Du har Sorte Penge, men du kan ikke k√∏be habitter i Netto for dem. G√• til <b>Finans</b> og vask dem til Ren Kapital."},{id:"m4",title:"Organisation",req:{type:"hire",role:"pusher",amount:1},reward:{xp:300,money:2500},giver:"Sultanen",text:"Du ligner en der har travlt. Find en 'Pusher' under <b>Operationer</b> til at s√¶lge for dig, s√• vi kan fokusere p√• de store numre."},{id:"m5",reqLevel:2,title:"Kvalitetskontrol",req:{type:"produce",item:"hash_moerk",amount:20},reward:{xp:500,money:3e3},giver:"Sultanen",text:"Kunderne vil have det gode grej. Dyrk noget Skunk. Det er tungere, dyrere og varmere."},{id:"m5b",title:"Logistik",req:{type:"upgrade",id:"warehouse",amount:1},reward:{xp:600,money:5e3},giver:"Sultanen",text:"K√¶lderen flyder med papkasser. K√∏b et <b>Boxit-rum</b> (Opgraderinger), f√∏r varerne r√•dner op."},{id:"m6",title:"Indtag K√∏dbyen",req:{type:"conquer",amount:1},reward:{xp:1200,money:1e4},giver:"Sultanen",text:"Hipsterne i K√∏dbyen betaler overpris. Hvis du Investerer i et Territorie (Netv√¶rk fanen), ejer vi blokken.",choices:[{text:"Send drengene (+25 Heat)",effect:{heat:25}},{text:"Bestik vagterne (-5000 kr)",effect:{money:-5e3}}]},{id:"m7",reqLevel:4,title:"Det Bl√• Lyn",req:{type:"produce",item:"speed",amount:50},reward:{xp:2e3,money:15e3},giver:"Sultanen",text:"Lastbilchauff√∏rerne p√• Vestegnen mangler energi. Ans√¶t en Kemiker og kog noget Speed."},{id:"m8",title:"Gadekriger",req:{type:"sell",amount:500},reward:{xp:3e3,money:25e3},giver:"Sultanen",text:"F√• skidtet ud p√• gaden. Jeg vil se lapper i h√•nden, habibi! S√¶lg 500 enheder totalt."},{id:"m9",title:"Nordvest Netv√¶rk",req:{type:"conquer",amount:2},reward:{xp:4500,money:4e4},giver:"Sultanen",text:"Nordvest er en guldgrube. Invester i flere territorier for at sikre passiv indkomst."},{id:"m10",reqLevel:6,title:"Vagt-V√¶rnet",req:{type:"defense",id:"guards",amount:5},reward:{xp:3500,money:3e4},giver:"Sultanen",text:"Rivalerne kigger med. Ans√¶t 5 vagter til at beskytte dit hovedkvarter."},{id:"m11",title:"Hvidvask Kongen",req:{type:"launder",amount:1e5},reward:{xp:5e3,money:2e4},giver:"Sultanen",text:"Vi har for mange beskidte penge. Vask 100.000 kr. for at bevise du kan styre flowet."},{id:"m12",reqLevel:7,title:"Frihavnen",req:{type:"hire",role:"importer",amount:1},reward:{xp:6e3,money:0},giver:"Sultanen",text:"Glem lokal produktion. Import er fremtiden. Skaf en <b>Smugler</b> til at hente containerne hjem.",choices:[{text:"Tag chancen (50% for +50k kr / +20 Heat)",effect:{chance:.5,success:{money:5e4},fail:{heat:20}}},{text:"Spil sikkert",effect:{}}]},{id:"m13",title:"Det Hvide Guld",req:{type:"produce",item:"coke",amount:100},reward:{xp:9e3,money:1e5},giver:"Sultanen",text:"Sne. Det hvide guld. Overklassen i City skriger p√• det. Produc√©r 100 enheder."},{id:"m14",title:"Advokaten",req:{type:"hire",role:"lawyer",amount:1},reward:{xp:2e4,money:0},giver:"Sultanen",text:"Osten er varm. F√• fat i en slesk Advokat. En der kan holde Heat nede mens vi vokser."},{id:"m15",reqLevel:10,title:"Nattelivets Konge",req:{type:"conquer",amount:4},reward:{xp:35e3,money:6e5},giver:"Sultanen",text:"Tag kontrollen over byens natteliv. Vi skal eje 4 store territorier nu."},{id:"m16",title:"Front-Butikken",req:{type:"upgrade",id:"studio",amount:1},reward:{xp:5e4,money:3e5},giver:"Sultanen",text:"Vi har brug for en √¶gte front. K√∏b <b>Front-Butik</b> opgraderingen for at g√∏re din hvidvask mere effektiv."},{id:"m17",title:"Kartel Status",req:{type:"produce",item:"coke",amount:1e3},reward:{xp:75e3,money:15e5},giver:"Sultanen",text:"Vi er ikke l√¶ngere en bande. Vi er et kartel. Fyld lageret med coke."},{id:"m18",title:"Hellerup Kuppet",req:{type:"conquer",amount:5},reward:{xp:15e4,money:5e6},giver:"Sultanen",text:"Hellerup. Hvor pengene og magten bor. K√∏b den endelige investering og vis dem hvem der bestemmer."},{id:"m19",title:"Safehouse",req:{type:"defense",id:"bunker",amount:1},reward:{xp:6e5,money:0},giver:"Sultanen",text:"Rivalerne planl√¶gger noget stort. Byg et <b>Safehouse</b> for at sikre din overlevelse.",choices:[{text:"Angrib f√∏rst (+50 Heat)",effect:{heat:50}},{text:"Defensiv (G√∏r intet)",effect:{}}]},{id:"m20",title:"Legenden",req:{type:"sell",amount:1e4},reward:{xp:2e6,money:5e7},giver:"Sultanen",text:"Du ejer denne by, bror. Der er ikke mere at vinde... medmindre du vil starte forfra med endnu mere magt?"}],production:{heatPenalties:{critical:{threshold:95,val:.2},high:{threshold:80,val:.5},med:{threshold:50,val:.8},none:{threshold:0,val:1}},hash_lys:{name:"Hash (1g)",baseCost:15,baseOutput:1,baseRevenue:68,costFactor:1.1,unlockLevel:1,duration:1e3,icon:"fa-cannabis",color:"yellow",tier:1,heatGain:.02,aliases:["En pind","Tjald","Juletr√¶","1-grams pose","Sjov Tobak"]},piller_mild:{name:"Studie-Speed",baseCost:35,baseOutput:1,baseRevenue:113,costFactor:1.15,unlockLevel:1,duration:1500,icon:"fa-pills",color:"blue",tier:1,heatGain:.04,aliases:["Ritalin","Eksamens-hj√¶lp","Kvik-pille","Fokus"]},hash_moerk:{name:"Skunk (1g)",baseCost:25,baseOutput:1,baseRevenue:75,costFactor:1.2,unlockLevel:2,duration:2500,icon:"fa-cubes",color:"amber",tier:1,heatGain:.1,aliases:["Kvali-r√∏g","Marok","Sort Guld","Sovs","Krydderi"]},speed:{name:"Amfetamin (10g)",baseCost:750,baseOutput:1,baseRevenue:2250,costFactor:1.25,unlockLevel:4,duration:4e3,icon:"fa-bolt",color:"white",tier:2,heatGain:.12,aliases:["Gade-Speed","Krudt","Nattelys","Polsk Champagne"]},mdma:{name:"MDMA (10g)",baseCost:1500,baseOutput:1,baseRevenue:4500,costFactor:1.3,unlockLevel:5,duration:6e3,icon:"fa-heart",color:"pink",tier:2,heatGain:.15,aliases:["Emma","Dannebrog","K√¶rlighed","Krystaller"]},keta:{name:"Ketamin (10g)",baseCost:1500,baseOutput:1,baseRevenue:4500,costFactor:1.35,unlockLevel:5,duration:8e3,icon:"fa-horse-head",color:"zinc",tier:2,heatGain:.15,aliases:["Hest","Special K","Bed√∏velse","K-Hole Billet"]},coke:{name:"Kokain (50g)",baseCost:2e4,baseOutput:1,baseRevenue:68e3,costFactor:1.4,unlockLevel:7,duration:1e4,icon:"fa-snowflake",color:"white",tier:3,heatGain:.5,aliases:["Coke","Sne","Det Hvide","Casper C-blanding","VIP Pulver"]},benzos:{name:"Benzos (1000p)",baseCost:15e3,baseOutput:1,baseRevenue:53e3,costFactor:1.45,unlockLevel:8,duration:12e3,icon:"fa-prescription-bottle",color:"blue",tier:3,heatGain:.5,aliases:["Krydser","Bl√•","Sovemedicin","Grosserer-pakke"]},svampe:{name:"Svampe (200g)",baseCost:15e3,baseOutput:1,baseRevenue:45e3,costFactor:1.5,unlockLevel:8,duration:15e3,icon:"fa-frog",color:"purple",tier:3,heatGain:.5,aliases:["Hatte","Psykose-snack","Visuelt","Naturoplevelse"]},oxy:{name:"Oxy (500p)",baseCost:5e4,baseOutput:1,baseRevenue:15e4,costFactor:1.6,unlockLevel:10,duration:2e4,icon:"fa-syringe",color:"teal",tier:4,heatGain:.8,aliases:["Hillbilly Heroin","Apoteker-Guld","Smertestillende","USA-Import"]},heroin:{name:"Heroin (500g)",baseCost:1e5,baseOutput:1,baseRevenue:503e3,costFactor:1.8,unlockLevel:11,duration:3e4,icon:"fa-biohazard",color:"amber",tier:4,heatGain:1,aliases:["Brun","Hest","Dragen","Det Brune Punktum"]},fentanyl:{name:"Fentanyl (500g)",baseCost:18e4,baseOutput:1,baseRevenue:563e3,costFactor:2,unlockLevel:12,duration:45e3,icon:"fa-skull",color:"red",tier:4,heatGain:1.5,aliases:["D√∏den","China White","The End","Sidste Stop"]}},staff:{grower:{name:"Grower",reqLevel:1,baseCost:15e3,costFactor:1.1,role:"producer",target:"hash_moerk",rate:5e3,salary:400,icon:"fa-seedling",desc:"Dyrker b√•de Hash og Skunk",rates:{hash_lys:1.5,hash_moerk:.9}},chemist:{name:"Kemiker",reqLevel:4,baseCost:5e4,costFactor:1.12,role:"producer",target:"speed",rate:1e4,salary:1250,icon:"fa-flask",desc:"Koger Speed og andet godt",rates:{speed:.6,mdma:.45,keta:.3}},importer:{name:"Smugler",reqLevel:7,baseCost:1e5,costFactor:1.15,role:"producer",target:"coke",rate:2e4,salary:4e3,icon:"fa-ship",desc:"Henter varer hjem fra udlandet",rates:{coke:.15,benzos:.12,svampe:.09}},labtech:{name:"Laborant",reqLevel:10,baseCost:2e5,costFactor:1.15,role:"producer",target:"fentanyl",rate:3e4,salary:6e3,icon:"fa-syringe",desc:"Syntetiserer det helt tunge stads",rates:{fentanyl:.06,oxy:.09,heroin:.075}},junkie:{name:"Zombie",reqLevel:1,baseCost:1e3,costFactor:1.15,role:"producer",target:["hash_lys","piller_mild"],rate:1500,salary:25,icon:"fa-person-rays",desc:"Arbejder for fixet. Har ingen fremtid.",survivalRate:.999,rates:{hash_lys:1,piller_mild:.6}},accountant:{name:"Revisor",reqLevel:8,baseCost:25e4,costFactor:1.12,role:"reducer",target:"clean",rate:.05,salary:1e3,icon:"fa-calculator",desc:"Vasker automatisk sorte penge (5%/sek)"},pusher:{name:"Pusher",reqLevel:1,baseCost:1500,costFactor:1.08,role:"seller",target:["hash_lys","piller_mild"],salary:150,icon:"fa-person-walking",desc:"S√¶lger sm√•ting p√• gadehj√∏rnet",rates:{hash_lys:.5,piller_mild:.5}},distributor:{name:"Distribut√∏r",reqLevel:4,baseCost:2e4,costFactor:1.1,role:"seller",target:["hash_moerk","speed","mdma","keta"],salary:600,icon:"fa-truck-fast",desc:"Leverer til klubber og fester",rates:{hash_moerk:.5,speed:.4,mdma:.3,keta:.25}},trafficker:{name:"Bagmand",reqLevel:7,baseCost:15e4,costFactor:1.12,role:"seller",target:["coke","benzos","oxy","heroin","fentanyl"],salary:3e3,icon:"fa-briefcase",desc:"Styrer salget af de tunge varer",rates:{coke:.4,heroin:.25,fentanyl:.2,default:.3}},lawyer:{name:"Advokat",reqLevel:5,baseCost:2e5,costFactor:1.12,role:"reducer",target:"heat",rate:.15,salary:5e3,icon:"fa-scale-balanced",desc:"Effektiv. Holder Osten v√¶k."}},upgrades:{warehouse:{name:"Boxit-Rum",baseCost:2e4,effect:"cap",target:"all",value:2,costFactor:2,icon:"fa-box",desc:"Dobbelt lagerkapacitet."},hydro:{name:"Gro-Lamper",baseCost:5e4,costFactor:1.5,effect:"speed",target:"weed",value:.8,icon:"fa-lightbulb",desc:"+50% fart p√• Hash produktion."},lab:{name:"Uni-Lab Setup",baseCost:1e5,costFactor:1.5,effect:"speed",target:"amf",value:.8,icon:"fa-flask-vial",desc:"+50% fart p√• Kemisk produktion."},studio:{name:"Front-Butik",baseCost:15e4,costFactor:1.5,effect:"passive",target:"clean",value:1.5,icon:"fa-shop",desc:"+50% Hastighed & +20% Effektivitet."},network:{name:"EncroChat",baseCost:1e4,costFactor:1.5,effect:"passive",target:"all",value:1.25,icon:"fa-mobile-screen",desc:"-25% Heat fra salg via kryptering."},deep_wash:{name:"Deep-Wash Server",baseCost:1e6,costFactor:2.5,effect:"passive_launder",target:"clean",value:1.2,icon:"fa-server",desc:"+20% Hvidvask-hastighed & passiv vask."}},defense:{guards:{name:"Vagtv√¶rn",baseCost:1e4,costFactor:1.4,defenseVal:20,desc:"Lokale r√∏dder med veste"},cameras:{name:"Skygge-√òjne",baseCost:15e3,costFactor:1.5,defenseVal:30,desc:"Droner og kameraer i lygtep√¶le"},bunker:{name:"Safehouse",baseCost:5e5,costFactor:1.8,defenseVal:120,desc:"Hemmelig k√¶lder under en kiosk"}},districts:{n√∏rrebro:{id:"n√∏rrebro",name:"N√∏rrebro Master",bonus:"-20% Speed Cost",req:["christiania","n√∏rrebro","nordvest"],effect:{type:"cost",target:"speed",value:.8}},city:{id:"city",name:"City Shark",bonus:"-15% Bribe Cost",req:["vesterbro","city","frederiksberg"],effect:{type:"bribe_cost",value:.85}},vestegnen:{id:"vestegnen",name:"Vestegnen King",bonus:"+15% Production Speed",req:["vestegnen","glostrup","ish√∏j"],effect:{type:"global_speed",value:.85}}},territories:[{id:"christiania",name:"Staden",district:"n√∏rrebro",baseCost:2e4,income:25e3,type:"dirty",reqLevel:2},{id:"n√∏rrebro",name:"Bl√•g√•rds Plads",district:"n√∏rrebro",baseCost:6e4,income:75e3,type:"dirty",reqLevel:6},{id:"nordvest",name:"M√∏ntmestervej",district:"n√∏rrebro",baseCost:3e4,income:37500,type:"dirty",reqLevel:3},{id:"vesterbro",name:"Halmtorvet",district:"city",baseCost:4e4,income:5e4,type:"dirty",reqLevel:4},{id:"city",name:"Slotsholmen",district:"city",baseCost:12e4,income:15e4,type:"clean",reqLevel:8},{id:"frederiksberg",name:"Gammel Kongevej",district:"city",baseCost:8e4,income:1e5,type:"clean",reqLevel:7},{id:"vestegnen",name:"Br√∏ndby Strand",district:"vestegnen",baseCost:16e4,income:225e3,type:"dirty",reqLevel:9},{id:"glostrup",name:"Glostrup Center",district:"vestegnen",baseCost:18e4,income:25e4,type:"clean",reqLevel:10},{id:"ish√∏j",name:"Ish√∏j Station",district:"vestegnen",baseCost:24e4,income:325e3,type:"dirty",reqLevel:11},{id:"hellerup",name:"Strandvejen",district:"elite",baseCost:4e5,income:5e5,type:"clean",reqLevel:12}],luxuryItems:[{id:"penthouse",name:"Luksus Penthouse (Cph K)",cost:5e6,icon:"fa-building-columns",desc:"Indbegrebet af succes. Giver massiv respekt p√• gaden.",buff:"rep_boost"},{id:"yacht",name:"Super Yacht (Frihavnen)",cost:25e6,icon:"fa-ship",desc:"Din egen flydende f√¶stning. Perfekt til hvidvask-fester.",buff:"launder_eff"},{id:"jet",name:"Gulfstream G650 (Kastrup)",cost:1e8,icon:"fa-plane-departure",desc:"Flyv under radaren. Reducerer passiv heat generation.",buff:"heat_floor"},{id:"ghostmode",name:"Ghost Protocol System",cost:25e7,icon:"fa-user-secret",desc:"Avanceret anti-overv√•gning. Aktiv√©r for 10 min heat immunity (1t cooldown).",buff:"ghost_mode"},{id:"island",name:"Privat √ò (Caribien)",cost:5e8,icon:"fa-island-tropical",desc:"Det ultimative end-game. Du er nu untouchable.",buff:"win_condition"}],gameMechanics:{maxCash:1e15,maxHeat:500},leveling:{baseXp:1e3,expFactor:1.8},payroll:{salaryInterval:3e5,emergencyMarkup:1.5},market:{multipliers:{bull:1.3,bear:.7},duration:{min:30,range:60}},prestige:{threshold:1e7,formula:{base:2.5,scale:15,divisor:10,logBase:5e3}},rivals:{sabotageCost:25e3,raidChance:.6},police:{bribeCost:5e4},marketing:{hypeCost:25e3},events:{heatWarnings:{critical:90,high:70,low:65}},raid:{penalties:{high:.6,med:.25,low:.1}},crypto:{eventChance:.1,coins:{bitcoin:{name:"Bitcoin",symbol:"BTC",basePrice:45e3,volatility:.05},ethereum:{name:"Ethereum",symbol:"ETH",basePrice:3e3,volatility:.08},monero:{name:"Monero",symbol:"XMR",basePrice:150,volatility:.12}},bank:{interestRate:.005,interestInterval:3e5,maxSavingsFactor:5e5},manualWashPower:100,marketInfluenceCost:5e4},boss:{triggerLevel:5,damagePerClick:10,regenRate:5,reward:{xp:5e3,money:5e4},combat:{critChance:.1,critMult:2,defenseSynergy:.1,bossDefScale:.5,enrageThreshold:.25,attackInterval:2e3,enragedInterval:1e3,cashLossRatio:.1,speedBonusTime:3e4,speedBonusMult:1.5}},perks:{heat_reduce:{name:"Politikreds",desc:"-5% Heat Generering",baseCost:10,costScale:1.5,maxLevel:10,effect:"heat",val:.05,category:"aggressive"},raid_defense:{name:"Sikkerhedschat",desc:"+10% Raid Forsvar",baseCost:15,costScale:1.5,maxLevel:5,effect:"defense",val:.1,category:"aggressive"},boss_dmg:{name:"Gadekriger",desc:"+10 Boss Damage",baseCost:20,costScale:1.5,maxLevel:10,effect:"boss_dmg",val:10,category:"aggressive"},rival_smash:{name:"Bandekrig",desc:"Lavere Rival Omkostninger",baseCost:25,costScale:1.5,maxLevel:5,effect:"rival_cost",val:.2,category:"aggressive"},launder_speed:{name:"Offshore",desc:"+10% Vaskehastighed",baseCost:10,costScale:1.5,maxLevel:10,effect:"launder",val:.1,category:"greedy"},sales_boost:{name:"Markedsmagt",desc:"+10% Salgspriser",baseCost:15,costScale:1.5,maxLevel:10,effect:"sales",val:.1,category:"greedy"},prod_speed:{name:"Optimeret Lab",desc:"+10% Prod. Hastighed",baseCost:20,costScale:1.5,maxLevel:10,effect:"prod_speed",val:.1,category:"greedy"},xp_boost:{name:"Gade-Respekt",desc:"+20% XP Bonus",baseCost:25,costScale:1.5,maxLevel:5,effect:"xp",val:.2,category:"greedy"},shadow_network:{name:"Skygge Netv√¶rk",desc:"-10% Heat Generering",baseCost:50,costScale:1.6,maxLevel:5,effect:"heat_gen",val:.1,category:"forbidden"},laundering_mastery:{name:"Hvidvask Ekspert",desc:"+5% Effektivitet",baseCost:60,costScale:1.6,maxLevel:5,effect:"launder_eff",val:.05,category:"forbidden"},politician:{name:"Lokalpolitiker",desc:"Passiv Ren Indkomst",baseCost:75,costScale:1.7,maxLevel:5,effect:"passive_income",val:5e3,category:"forbidden"},rival_insider:{name:"Insider Viden",desc:"Se Angrebs Timer",baseCost:100,costScale:2,maxLevel:1,effect:"intel",val:1,category:"forbidden"},offshore_accounts:{name:"Offshore Konto",desc:"Behold % Cash ved Reset",baseCost:150,costScale:2,maxLevel:5,effect:"retention",val:.05,category:"forbidden"}},masteryPerks:{titan_prod:{name:"Titan Production",desc:"+15% Global Speed",cost:50,icon:"fa-industry",effect:"prod_speed",val:.15},market_monopoly:{name:"Market Monopoly",desc:"+15% Sales Margin",cost:100,icon:"fa-store-slash",effect:"sales_boost",val:.15},ghost_ops:{name:"Ghost Operations",desc:"+35% Heat Decay",cost:75,icon:"fa-user-ghost",effect:"heat_decay",val:.35},diamond_network:{name:"Diamond Network",desc:"Double Sultan XP",cost:150,icon:"fa-network-wired",effect:"xp_boost",val:1}},achievements:[{id:"first_blood",name:"Gade S√¶lger",desc:"Tjen din f√∏rste million (1.000.000 kr) i Sorte Penge",req:{type:"dirty",val:1e6},icon:"fa-sack-dollar",reward:5},{id:"clean_house",name:"Hvidvasker",desc:"Vask 10.000.000 kr totalt gennem dine systemer",req:{type:"clean",val:1e7},icon:"fa-soap",reward:25},{id:"king_of_streets",name:"Kongen af Gaden",desc:"Ejer alle 5 territorier i K√∏benhavn samtidigt",req:{type:"territory",val:5},icon:"fa-map-location-dot",reward:50},{id:"escobar",name:"Escobar",desc:"Produc√©r 1.000 enheder Kokain i din karr√≠ere",req:{type:"prod",item:"coke",val:1e3},icon:"fa-snowflake",reward:100},{id:"untouchable",name:"Ur√∏rlig",desc:"N√• 0% Heat mens du har 1.000.000 kr i Sorte Penge",req:{type:"stealth"},icon:"fa-user-secret",reward:50},{id:"prestige_one",name:"Exit Scam",desc:"Genstart dit imperium for f√∏rste gang",req:{type:"prestige",val:1},icon:"fa-crown",reward:150},{id:"diamond_hands",name:"Diamond Hands",desc:"Ejer mindst 10 Bitcoin i din krypto-wallet",req:{type:"crypto",coin:"bitcoin",val:10},icon:"fa-gem",reward:200},{id:"clean_hands",name:"Rene H√¶nder",desc:"Hav 1.000.000 kr i Rene Penge og 0 kr i Sorte Penge samtidigt",req:{type:"clean_streak",val:1e6},icon:"fa-hands-bubbles",reward:300,secret:!0},{id:"hoarder",name:"Lagerforvalter",desc:"Fyld dit lager med mindst 500 enheder varer",req:{type:"inventory",val:500},icon:"fa-boxes-stacked",reward:100,secret:!0},{id:"veteran",name:"Gade-Veteran",desc:"Hav v√¶ret aktiv i gamet i mindst 10 timer totalt",req:{type:"time",val:600},icon:"fa-clock",reward:500,secret:!0}]},Ze={EmpireTab:{title:"PLATINUM IMPERIUM",subtitle:"Din arv i K√∏benhavns underverden"},sultan_greetings:{level_1:"Bror, velkommen til N√∏rrebro. Gaden har brug for friske √∏jne.",level_2:"Du klarer det ikke d√•rligt. Rygtet siger du har styr p√• din hash.",level_5:"Vores venner i K√∏dbyen begynder at kende dit navn. Pas p√• osten.",level_10:"Byen b√∏jer sig, Godfather. Sultanen har altid en plads til dig.",default:"Hvad har du til mig i dag, habibi?"},rival_profiles:{lille_a:"Lille A: En aggressiv strejfer fra Nordvest. Han skyder f√∏rst.",baronen:"Baronen: Han ejer City. Han angriber din hvidvask.",onkel_j:"Onkel J: Gammel skole. Han tager dine territorier hvis du sover."},empire:{title:"DIT IMPERIUM",subtitle:'"En dag vil alt dette v√¶re st√∏v. Men legenden? Legenden lever evigt."',mastery:{title:"Mastery Shop",subtitle:"Permanente opgraderinger for diamanter",active:"Aktiv",unlock:"L√•s op"},prestige:{level:"Prestige Level",income_bonus:"Indkomst Bonus",permanent_mult:"Permanent Multiplier",tokens:"Prestige Tokens",currency:"Prestige Tokens"},lifetime:{earnings:"Livstids Indtjening",produced:"Produceret (Total)",resets:"Prestige Resets",value:"Imperiev√¶rdi",units:"enheder"},network:{title:"Underverdenens Netv√¶rk",enforcer:"Enforcer",tycoon:"Tycoon",forbidden:"Det Forbudte (Unik)",upgrade:"Opgrader",unlock:"L√•s op",maxed:"MAXED"},reset:{title:"EXIT SCAM (Prestige Reset)",desc:"Nulstil alt fremskridt (Cash, Lager, Bygninger). Behold dine Trophies. F√• en permanent indkomst bonus og Prestige Tokens.",button:"RESET NU",current:"Nuv√¶rende",required:"Kr√¶ver Level 10"}},network_interactive:{logs:{drive_by:"Drive-by udf√∏rt! {cash} kr stj√•let fra {district}.",bribe:"Politiet bestukket. Heat reduceret i {district}.",conquer:"Territorium {area} er nu under din kontrol!",defend:"Angreb p√• {area} afv√¶rget!"},actions:{buy_area:"K√∏b Omr√•de",upgrade:"OPGRADER",select_special:"V√¶lg Speciale",locked:"L√ÖST"},stats:{income:"INDT√ÜGT / SEK",base:"Base",mult:"Multiplier",next:"N√¶ste Upgrade"},overlay:{attack:"ANGREB",strength:"STYRKE",defend_safe:"AFV√ÜRG (GRATIS)",defend_merc:"HYR LEJESOLDATER",rival_occ:"RIVAL BES√ÜTTELSE",liberate:"BEFRI",shakedown:"INDRIV G√ÜLD"}},rivals_interactive:{defense:{guards:{name:"Vagtv√¶rn",desc:"Lokale r√∏dder med veste"},cameras:{name:"Skygge-√òjne",desc:"Droner og kameraer i lygtep√¶le"},bunker:{name:"Safehouse",desc:"Hemmelig k√¶lder under en kiosk"}},logs:{sabotage:"Sabotage udf√∏rt! Rival sv√¶kket.",raid:"Raid udf√∏rt! {loot} kr stj√•let.",strike:"Angreb iv√¶rksat! Rivalens styrke reduceret."},wars:{copy_success:"Syndikat-ID kopieret til udklipsholder",search_success:"Rival fundet: {name} (Lvl {level})",search_fail:"Ingen rival fundet med det ID",challenge_sent:"Udfordring sendt!",error_input_not_found:"Input felt ikke fundet",error_empty:"Indtast venligst et ID",error_invalid:"Ugyldig Kode"}},finance_interactive:{logs:{crypto_buy:"K√∏bte {amount}x {coin} for {cost} kr",crypto_sell:"Solgte {amount}x {coin} for {value} kr",deposit:"Indsatte {amount} kr i Sparkassen",withdraw:"H√¶vede {amount} kr fra Sparkassen",borrow:"L√•nte {amount} kr fra Hajen",repay:"Afbetalte {amount} kr p√• g√¶lden"}},boot:{init:"INITIALISERER SYNDICATE OS KERNE v1.1.2...",mounting:"MOUNTER KRYPTEREDE DREV (AES-256)...",proxy:"ETABLERER PROXY K√ÜDER...",bypassing:"OMG√ÖR PET CYBER DEFENSE...",spoofing:"SPOOFER MAC ADRESSE: 00:1A:2B:3C:4D:5E",connecting:"FORBINDER TIL K√òBENHAVN UNDERGROUND HUB...",handshake:"H√ÖNDTRYKS PROTOKOL: SUCCES",decrypting:"DEKRYPTERER BRUGER DATA...",syncing:"SYNKRONISERER TERRITORIE DATABASE...",intel:"INDL√ÜSER RIVAL INTEL...",access:"ADGANG TILLADT: VELKOMMEN SULTAN.",logo_subtitle:"K√òBENHAVN NODE #084",initialize_btn:"Initialiser Adgang",bio_check:"Biometrisk H√•ndtryk P√•kr√¶vet",connection_stable:"KRYPTERET FORBINDELSE STABIL",decrypting_nodes:"Dekrypterer Noder"},active_feed:{level_up:"LEVEL OP! Du er nu Rank"},events:{critical_heat:"üö® KRITISK HEAT! Razzia overh√¶ngende! Reducer heat NU!",high_heat:"‚ö†Ô∏è H√òJ HEAT! Politiet holder √∏je. V√¶r forsigtig!",raid_won_title_high:"SWAT RAID AFVIST",raid_won_title_low:"POLITI KONTROL AFVIST",raid_won_msg_auto:"Din Sikkerhedschef fik stoppet razziaen f√∏r den startede.",raid_won_msg_def:"Dine sikkerhedsforanstaltninger holdt dem ude!",hardcore_game_over:"HARDCORE GAME OVER",raid_lost_hardcore_msg:`Du blev fanget under en Razzia! Dit imperium falder her.
Beslaglagt: {cash} kr og {product}x {type}.`,raid_lost_title_high:"SWAT RAID!",raid_lost_title_low:"RAZZIA",raid_lost_msg:"Beslaglagt: {cash} kr og {product}x {type}.",territory_attack_msg:"‚ö†Ô∏è ALARM: {id} er under angreb!",rival_scared:"Rivaler skr√¶mt v√¶k af dine vagter.",drive_by_title:"DRIVE-BY!",drive_by_msg:"Rivaler sk√∏d l√∏s. Du mistede {cash} kr.",territory_lost_level:"TERRITORIUM MISTET: {id} mistede et level!",territory_looted:"TERRITORIUM PLYNDRET: {id} plyndret for 25.000 kr!",boss_spawn_title:"BOSS FIGHT!",boss_spawn_msg:"En rivaliserende Boss har indtaget gaden! (Level {level} Boss)",achievement_unlocked:"ACHIEVEMENT UNLOCKED",offline_hardcore:"HARDCORE: ANGREBET MENS DU SOV!"},ui:{cash:"Kontanter",dirty_cash:"Sorte Penge",heat:"Heat",level:"Niveau",day:"Dag",save:"Gem Spil",settings:"Indstillinger",help:"Hj√¶lp",back:"Tilbage",close:"Luk",buy:"K√∏b",sell:"S√¶lg",locked:"L√•st",max:"Maks",loading:"Indl√¶ser Syndicate OS...",ok:"OK",understood:"Forst√•et"},header:{xp:{title:"Erfaringspoint",current:"Nuv√¶rende",next:"N√¶ste Lvl"},clean_tooltip:{title:"Finans Indsigt",launder:"Hvidvask",legal:"Lovlig",footer:"Tjek Finans fanen for detaljer"},clean_cash:"Ren Kapital",clean_cash_warning:"RENE PENGE KR√ÜVET",heat_tooltip:{title:"Heat Status",level:"Niveau",risk:"Risiko for Razzia",lawyers:"Advokater",shadow_network:"Skygge Netv√¶rk",bribe:"Bestik (-25%)",cost_warning:"Koster Sorte Penge"},heat_status:"Heat",heat_overheat:"OVERHEAT!!",dirty_tooltip:{title:"Gade Indsigt",sales:"Varelager Salg",desc:"Dette er dit forventede flow baseret p√• nuv√¶rende produktion og salg.",footer:"Tjek Produktion for detaljer"},dirty_cash:"Sort Kapital",siege_alert:"Territorier Under Angreb!",siege_desc:"G√• til Underverdenen for at forsvare dine omr√•der"},tabs:{sultan:"Sultanen",production:"Produktion",network:"Gaden",rivals:"Underverdenen",finance:"Finans",management:"Operationer",empire:"Imperiet"},settings:{title:"System Indstillinger",hard_reset:"Nulstil Alt",hard_reset_desc:"Sletter alt data permanent",export_save:"Eksport√©r Save",import_save:"Import√©r Save",language:"Sprog / Language",format:"Talformat",format_desc_sci:"Videnskabelig (1.2e6)",format_desc_std:"Standard (1.2M)",particles:"Effekter",particles_desc_on:"Til (Bedre oplevelse)",particles_desc_off:"Fra (Bedre ydelse)",sound:"Lyd",sound_desc_muted:"Lydl√∏s",sound_desc_active:"Aktiv",on:"TIL",off:"FRA",mute:"MUTE",unmute:"UNMUTE"},language_selector:{title:"V√¶lg Sprog / Select Language",choose:"V√¶lg foretrukket sprog / Choose preferred language",danish:"Dansk",english:"English",danish_desc:"Original experience",english_desc:"International version"},sultan:{title:"Sultanens Baglokale",subtitle:"Sultanens Tjenester giver dig adgang til eksklusive fordele og kontrakter. Fuldf√∏r missioner for at stige i graderne og l√•se op for nye muligheder.",services_title:"Tjenester",services_desc:"Brug Sultanens tjenester strategisk for at h√•ndtere heat og √∏ge salg.",stats_title:"Mission Statistik",completed:"Fuldf√∏rt",remaining:"Tilbage",progress:"Fremskridt",bribe_title:"Sm√∏r Osten",bribe_desc:"Bestik politiet for at reducere heat. Pris:",reduce_heat:"Reducer Heat",hype_title:"Gade-Hype",hype_desc:"Rygterne spreder sig hurtigt. Fordobler salgshastighed i 2 minutter.",start_campaign:"Start Kampagne",intel_title:"Efterretning",intel_desc:"Markedsprognose",next_event:"N√¶ste H√¶ndelse",waiting_signal:"Venter p√• signal...",connection_stable:"Forbindelse stabil.",seconds_left:"s tilbage.",bribe_sultan:"Bestik Sultanen for prognose.",main_mission:"Hovedopgave",daily_mission:"Daglig Kontrakt",next_mission:"N√¶ste Hovedopgave",req_rank:"Kr√¶ver Rank",you_are_rank:"Du er Rank",earn_xp:"Optjen mere XP for at l√•se denne mission op.",no_contracts:"Ingen Aktive Kontrakter",no_contracts_desc:"Sultanen har intet til dig lige nu. Tjek tilbage om lidt.",achievements:"Achievements",unlocked:"Unlocked",secret:"Hemmelig",market_title:"Markedsmagt",market_desc:"Betal Sultanen for at sprede rygter og skubbe markedet i vejret.",fix_market:"Fiks Markedet"},production:{title:"Laboratoriet",subtitle:"Laboratoriet er hjertet af din operation. Producer varer manuelt eller automatisk med staff.",shortcuts_hint:"Brug taster 1-6 for hurtig produktion.",storage_cap:"Lagerkapacitet",storage_full:"LAGER FULDT!",stats_title:"Produktions Statistik",total_produced:"Total Produceret",total_sold:"Total Solgt",in_stock:"P√• Lager",unlocked:"Produkter Unlocked",shortcuts:"Genveje:",distribution:"DISTRIBUTION",panic_stop:"PANIC STOP",stock:"Lager",prod:"Prod",sell:"Salg",card_storage_full:"LAGER FULDT",sell_now:"S√ÜLG VARER NU",producing:"PRODUCERER...",produce_now:"PRODUCER NU",sell_all:"S√ÜLG ALT",auto_on:"Auto: ON",auto_off:"Auto: OFF",default_desc:"Produc√©r og s√¶lg.",prod_details:"Produktion Detaljer",sell_details:"Salg Detaljer",base:"Base",total:"Total",staff:"Ansatte"},items:{hash_lys:{name:"Hash (1g)",desc:"En pind"},piller_mild:{name:"Studie-Speed",desc:"Ritalin"},hash_moerk:{name:"Skunk (1g)",desc:"Kvali-r√∏g"},speed:{name:"Amfetamin (10g)",desc:"Gade-Speed"},mdma:{name:"MDMA (10g)",desc:"Emma"},keta:{name:"Ketamin (10g)",desc:"Hest"},coke:{name:"Kokain (50g)",desc:"Sne"},benzos:{name:"Benzos (1000p)",desc:"Krydser"},svampe:{name:"Svampe (200g)",desc:"Hatte"},oxy:{name:"Oxy (500p)",desc:"Hillbilly Heroin"},heroin:{name:"Heroin (500g)",desc:"Brun"},fentanyl:{name:"Fentanyl (500g)",desc:"D√∏den"}},staff:{grower:{name:"Grower",desc:"Dyrker b√•de Hash og Skunk"},chemist:{name:"Kemiker",desc:"Koger Speed og andet godt"},importer:{name:"Smugler",desc:"Henter varer hjem fra udlandet"},labtech:{name:"Laborant",desc:"Syntetiserer det helt tunge stads"},junkie:{name:"Zombie",desc:"Arbejder for fixet. Har ingen fremtid."},accountant:{name:"Revisor",desc:"Vasker automatisk sorte penge (5%/sek)"},pusher:{name:"Pusher",desc:"S√¶lger sm√•ting p√• gadehj√∏rnet"},distributor:{name:"Distribut√∏r",desc:"Leverer til klubber og fester"},trafficker:{name:"Bagmand",desc:"Styrer salget af de tunge varer"},lawyer:{name:"Advokat",desc:"Effektiv. Holder Osten v√¶k."}},upgrades:{warehouse:{name:"Boxit-Rum",desc:"Dobbelt lagerkapacitet."},hydro:{name:"Gro-Lamper",desc:"+50% fart p√• Hash produktion."},lab:{name:"Uni-Lab Setup",desc:"+50% fart p√• Kemisk produktion."},studio:{name:"Front-Butik",desc:"+50% Hastighed & +20% Effektivitet."},network:{name:"EncroChat",desc:"-25% Heat fra salg via kryptering."},deep_wash:{name:"Deep-Wash Server",desc:"+20% Hvidvask-hastighed & passiv vask."}},luxury:{penthouse:{name:"Luksus Penthouse (Cph K)",desc:"Indbegrebet af succes. Giver massiv respekt p√• gaden."},yacht:{name:"Super Yacht (Frihavnen)",desc:"Din egen flydende f√¶stning. Perfekt til hvidvask-fester."},jet:{name:"Gulfstream G650 (Kastrup)",desc:"Flyv under radaren. Reducerer passiv heat generation."},ghostmode:{name:"Ghost Protocol System",desc:"Avanceret anti-overv√•gning. Aktiv√©r for 10 min heat immunity (1t cooldown)."},island:{name:"Privat √ò (Caribien)",desc:"Det ultimative end-game. Du er nu untouchable."}},missions:{m1:{title:"F√∏rste Levering",text:"Velkommen til Gaden, bror. En junkie ved Den R√∏de Plads mangler skiver. G√• til <b>Produktion</b> og lav 5x Hash. Tjep."},m2:{title:"Gadeplan",text:"Godt. Men varer p√• lageret betaler ikke huslejen. S√¶lg lortet for at f√• Sorte Penge. Pas p√• varmen (Heat)!"},m3:{title:"Vaskemaskinen",text:"Du har Sorte Penge, men du kan ikke k√∏be habitter i Netto for dem. G√• til <b>Finans</b> og vask dem til Ren Kapital."},m4:{title:"Organisation",text:"Du ligner en der har travlt. Find en 'Pusher' under <b>Operationer</b> til at s√¶lge for dig, s√• vi kan fokusere p√• de store numre."},m5:{title:"Kvalitetskontrol",text:"Kunderne vil have det gode grej. Dyrk noget Skunk. Det er tungere, dyrere og varmere."},m5b:{title:"Logistik",text:"K√¶lderen flyder med papkasser. K√∏b et <b>Boxit-rum</b> (Opgraderinger), f√∏r varerne r√•dner op."},m6:{title:"Indtag K√∏dbyen",text:"Hipsterne i K√∏dbyen betaler overpris. Hvis du Investerer i et Territorie (Netv√¶rk fanen), ejer vi blokken.",choices:{0:{text:"Send drengene (+25 Heat)"},1:{text:"Bestik vagterne (-5000 kr)"}}},m7:{title:"Det Bl√• Lyn",text:"Lastbilchauff√∏rerne p√• Vestegnen mangler energi. Ans√¶t en Kemiker og kog noget Speed."},m8:{title:"Gadekriger",text:"F√• skidtet ud p√• gaden. Jeg vil se lapper i h√•nden, habibi! S√¶lg 500 enheder totalt."},m9:{title:"Nordvest Netv√¶rk",text:"Nordvest er en guldgrube. Invester i flere territorier for at sikre passiv indkomst."},m10:{title:"Vagt-V√¶rnet",text:"Rivalerne kigger med. Ans√¶t 5 vagter til at beskytte dit hovedkvarter."},m11:{title:"Hvidvask Kongen",text:"Vi har for mange beskidte penge. Vask 100.000 kr. for at bevise du kan styre flowet."},m12:{title:"Frihavnen",text:"Glem lokal produktion. Import er fremtiden. Skaf en <b>Smugler</b> til at hente containerne hjem.",choices:{0:{text:"Tag chancen (50% for +50k kr / +20 Heat)"},1:{text:"Spil sikkert"}}},m13:{title:"Det Hvide Guld",text:"Sne. Det hvide guld. Overklassen i City skriger p√• det. Produc√©r 100 enheder."},m14:{title:"Advokaten",text:"Osten er varm. F√• fat i en slesk Advokat. En der kan holde Heat nede mens vi vokser."},m15:{title:"Nattelivets Konge",text:"Tag kontrollen over byens natteliv. Vi skal eje 4 store territorier nu."},m16:{title:"Front-Butikken",text:"Vi har brug for en √¶gte front. K√∏b <b>Front-Butik</b> opgraderingen for at g√∏re din hvidvask mere effektiv."},m17:{title:"Kartel Status",text:"Vi er ikke l√¶ngere en bande. Vi er et kartel. Fyld lageret med coke."},m18:{title:"Hellerup Kuppet",text:"Hellerup. Hvor pengene og magten bor. K√∏b den endelige investering og vis dem hvem der bestemmer."},m19:{title:"Safehouse",text:"Rivalerne planl√¶gger noget stort. Byg et <b>Safehouse</b> for at sikre din overlevelse.",choices:{0:{text:"Angrib f√∏rst (+50 Heat)"},1:{text:"Defensiv (G√∏r intet)"}}},m20:{title:"Legenden",text:"Du ejer denne by, bror. Der er ikke mere at vinde... medmindre du vil starte forfra med endnu mere magt?"}},news:{n1:"DISTORTION FESTIVAL: Gaden fester! Eftersp√∏rgsel p√• MDMA og Speed eksploderer (+100%).",n2:"ROSKILDE FESTIVAL: Dyrskuepladsen √•bner. Coke og Hash i h√∏j kurs (+60%).",n3:"JULEFROKOST S√ÜSON: Firmaer fester igennem. Sne falder i stride str√∏mme (+40% Coke).",n4:"RAZZIA P√Ö STADEN: Osten rydder Pusher Street. Hash priser bunder (-40%).",n5:"GR√ÜNSEKONTROL: Sk√¶rpet kontrol i R√∏dby. Import varer sidder fast (-30% Supply).",n6:"POLITI-AKTION: 'Operation Hvid Jul'. Alle pushere holder lav profil.",n7:"VINTER T√òRKE: Frostvejr og lukkede havne. Alt import er dyrt.",n8:"BLOCKCHAIN CRASH: Krypto styrtdykker. Hvidvask er billigere, men risikabelt.",n9:"ETHEREUM SURGE: Gas fees er t√•rnh√∏je. Hvidvask koster kassen.",n10:"N√∏rrebro: Skudveksling ved Den R√∏de Plads. Folk holder sig inde.",n11:"Vesterbro: Turister flokkes til K√∏dbyen. Pusherne har travlt.",n12:"Nordvest: Unge r√∏dder kaster med kanonslag. Osten er distraheret.",n13:"Amager: Rockerne holder tr√¶f. Hold lav profil p√• √∏en.",n14:"Sydhavnen: Nybyggeriet tiltr√¶kker rige kunder. Priserne stiger.",n15:"Christiania: Turists√¶sonen starter. Salget af 'souvenirs' stiger.",n16:"Istedgade: Politiet ops√¶tter overv√•gning. Heat stiger hurtigere.",n17:"Vestegnen: GTI-tr√¶f p√• tanken. Speed flyder frit.",n18:"Politiet har f√•et nye droner med varmes√∏gende kameraer. Hold lav profil.",n19:"Lokalbetjent 'Jens' tager imod bestikkelse igen.",n20:"Rigspolitiet advarer om 'st√¶rk pille' i oml√∏b.",n21:"Efterlyst: Din rival 'Lille A' er set ved lufthavnen.",n22:"Politiradio: 'Mist√¶nkelig aktivitet i din sektor'.",n23:"Ny lovgivning: H√•rdere straffe for hvidvask fra i dag.",n24:"Vejret: Gr√•t og trist. Perfekt til at lave skejs.",n25:"Rygte: En ny sending 'Bl√• Viagra' hitter p√• plejehjemmene.",n26:"Metroen er ude af drift. Kunderne kan ikke komme frem.",n27:"Sultanen giver en omgang shawarma til drengene.",n28:"Din mor ringer: 'Hvorn√•r f√•r du et rigtigt arbejde?'",n29:"En influencer flasher dine varer p√• TikTok. Heat stiger!",n30:"Alpha Syndikatet har malet over dit tag. Respektl√∏st.",n31:"En junkie fandt 1000kr og k√∏bte hele lageret.",n32:"Str√∏mafbrydelse i laboratoriet. Produktionen holdt stille i 5 min.",n33:"Hundepatrulje set ved din hovedd√∏r. Falsk alarm... denne gang.",n34:"Sommer: Alle vil have Coke til terrassen.",n35:"Vinter: M√∏rketid. Folk vil bare ryge og se Netflix.",n36:"L√∏nningsdag: Folk har penge. Priserne f√•r et lille nyk op.",n37:"Bl√• Mandag: Konfirmander i byen. Pas p√• med at s√¶lge til b√∏rn (Heat++).",n38:"Darkweb markedet 'SilkRoad 4.0' er hacket. Alle er paranoide.",n39:"Nye krypterede telefoner ankommet. Sikkerheden er i top.",n40:"Bitcoin ATM p√• N√∏rrebrogade er ude af drift.",n41:"En hacker tilbyder at slette din straffeattest for 50k.",n42:"POLITI AUKTION: Lagerudstyr s√¶lges billigt (5.000kr). Klik her!",n43:"KORRUPT BETJENT: 'Jeg sletter dine sager for 10.000kr'. Klik her.",n44:"Din revisor sp√∏rger om kvitteringer for 'g√∏dning'.",n45:"En kunde klager over kvaliteten. 'Det er bare oregano!'.",n46:"Rivalerne har hyret nye vagter. Pas p√•.",n47:"Sultanen er tilfreds. Han sender en flaske vodka.",n48:"Du fandt en pose penge i en taxa. Held i uheld.",n49:"Nabokrig: Nogen har stj√•let din postkasse.",n50:"Breaking: Regeringen overvejer legalisering (igen).",n51:"En Netflix serie om dit liv? Nej, bare paranoia."},achievements:{first_blood:{name:"Gade S√¶lger",desc:"Tjen din f√∏rste million (1.000.000 kr) i Sorte Penge"},clean_house:{name:"Hvidvasker",desc:"Vask 10.000.000 kr totalt gennem dine systemer"},king_of_streets:{name:"Kongen af Gaden",desc:"Ejer alle 5 territorier i K√∏benhavn samtidigt"},escobar:{name:"Escobar",desc:"Produc√©r 1.000 enheder Kokain i din karr√≠ere"},untouchable:{name:"Ur√∏rlig",desc:"N√• 0% Heat mens du har 1.000.000 kr i Sorte Penge"},prestige_one:{name:"Exit Scam",desc:"Genstart dit imperium for f√∏rste gang"},diamond_hands:{name:"Diamond Hands",desc:"Ejer mindst 10 Bitcoin i din krypto-wallet"},clean_hands:{name:"Rene H√¶nder",desc:"Hav 1.000.000 kr i Rene Penge og 0 kr i Sorte Penge samtidigt"},hoarder:{name:"Lagerforvalter",desc:"Fyld dit lager med mindst 500 enheder varer"},veteran:{name:"Gade-Veteran",desc:"Hav v√¶ret aktiv i gamet i mindst 10 timer totalt"},locked_desc:"L√•s op for at se denne bedrift."},tutorial:{header:"LIVE ASSISTANT",step_label:"TRIN",status:"STATUS",step1:{title:"M√ÖL: PRODUKTION",text:"K√∏b 5x Hash i 'Produktion' fanen.",sub:"Klik p√• Hash-ikonet for at producere."},step2:{title:"M√ÖL: GADESALG",text:"S√¶lg 5 enheder for at tjene Sorte Penge.",sub:"Brug 'S√¶lg Alt' knappen i toppen."},step3:{title:"M√ÖL: HVIDVASK",text:"Vask 100kr i 'Finans' fanen.",sub:"Sorte Penge kan ikke bruges til alt."},step4:{title:"M√ÖL: ORGANISATION",text:"Ans√¶t en Pusher i 'Organisation' fanen (Management).",sub:"Han s√¶lger automatisk for dig."}},finance:{title:"Finansministeriet",subtitle:"Kapitalstyring, Hvidvask og Globale Investeringer.",net_worth:"Total Net Worth",cashflow_5m:"Netto Cashflow (5m)",liquid_clean:"Liquid Ren Kapital",dirty_cash:"Uvaskede Pengesedler",laundering:{title:"Hvidvask Terminal",op_name:"Operation Clean Sweep",rate:"RATE",desc:"Konverter Sorte Penge til legitim kapital. Risiko for razzia er 5% pr. vask.",warn_crash:"BLOCKCHAIN CRASH: Risiko for√∏get til 15%!",wash_all:"Vask Alt",manual_wash:"Manuel Vask",manual_desc:"Klik her for hurtigrens"},bank:{title:"Sparkasse Opsparing",bank_name:"K√∏benhavns Investeringsbank",balance:"Indest√•ende",interest:"Rente (5m)",next_payout:"N√¶ste Udbetaling",deposit_10k:"Indskud 10k",deposit_all:"Indskud Alt",withdraw_all:"H√¶v Alt"},luxury:{title:"Luksus-aktiver & Prestige",owned:"Ejes",invest:"Invester",penthouse:"Luksus Penthouse (Cph K)",penthouse_desc:"Indbegrebet af succes. Giver massiv respekt p√• gaden.",yacht:"Super Yacht (Frihavnen)",yacht_desc:"Din egen flydende f√¶stning. Perfekt til hvidvask-fester.",jet:"Gulfstream G650 (Kastrup)",jet_desc:"Flyv under radaren. Reducerer passiv heat generation.",ghostmode:"Ghost Protocol System",ghostmode_desc:"Avanceret anti-overv√•gning. Aktiv√©r for 10 min heat immunity (1t cooldown).",island:"Privat √ò (Caribien)",island_desc:"Det ultimative end-game. Du er nu untouchable."},cashflow:{title:"Cashflow Rapport",income:"Indt√¶gter (Territorier)",expenses:"Udgifter (L√∏nninger)",net_profit:"Netto Profit / 5m"},portfolio:{title:"Portef√∏lje",held:"Held",buy:"K√∏b",sell:"S√¶lg"},debt:{title:"G√¶ld & L√•n",borrow_50k:"Optag 50k L√•n",pay_all:"Betal Alt"},chart:{collecting:"Indsamler Data..."}},network:{title:"GADEN",live_feed:"LIVE FEED",controlled:"KONTROLLERET",zones:"zoner",power:"TOTAL MAGT",respect:"GADE RESPEKT",ops:{drive_by:"Drive-By (5k)",bribe:"Bestik (30k)",raid:"Raid (Risiko)",heat_wipe:"HEAT WIPE (1T)"},districts:{elite:"Elite Zoner",other:"Andre Omr√•der"},bonus_active:"üåü BONUS AKTIV",set_bonus:"S√¶t-Bonus",income_sec:"INDT√ÜGT / SEK",income:"INDT√ÜGT",stats:{base:"Base",mult:"Multiplier",next:"N√¶ste Upgrade"},actions:{buy:"K√∏b Omr√•de",upgrade:"OPGRADER"},levels:"Levels",attack:"‚ö†Ô∏è ANGREB ‚ö†Ô∏è",strength:"Styrke",defend_safe:"FORSVAR (Sikker)",defend_merc:"LEJESOLDATER (10k)",rival_occupation:"RIVAL BES√ÜTTELSE",liberate:"BEFRI OMR√ÖDET",spec:{title:"V√¶lg Speciale",safe:"Safe",front:"Front",warehouse:"Lager"},shakedown:{collect:"INDDRIV!"},spec:{title:"V√¶lg Speciale",safe:"SafeHouse",front:"Salg-Front",storage:"Stort Lager"},specialization:"Speciale",spec_chosen:"Du valgte {spec} specialisering!"},rivals:{title:"Underverdenen",subtitle:"Konflikt, Politi og Sikkerhed. Hold dine fjender t√¶t og din ryg fri.",scanner:{title:"Politirapport & Overv√•gning",police:"K√∏benhavns Politi",status_raid:"‚ö†Ô∏è RAZZIA OVERH√ÜNGENDE",status_active:"üì° OVERV√ÖGNING AKTIV",threat_level:"Nuv√¶rende Trusselsniveau",status_label:"Status",level:{critical:"Kritisk",high:"Forh√∏jet",safe:"Sikkert"}},actions:{bribe:"Bestik Betjent",bribe_desc:"-25% HEAT √òJEBLIKKELIGT",sabotage:"Sabotage",sabotage_desc:"Forsink Rival",raid:"Plyndring",raid_desc:"Angreb",war:"Offensiv",war_desc:"Gade-Krig"},cost:"Omkostning",rival_syndicate:"Rivaliserende Syndikat",hostility:"Fjendtlighed",strength:"Rival Styrke",risk:"Risiko",gang_wars:{title:"Gang Wars (Multiplayer Lite)",beta:"BETA",challenge:"Udfordr en Ven",challenge_desc:"Send din kode til en ven. Hvis de indtaster den, bliver DU deres rival.",copy_code:"Kopier Min Kode",find:"Find Rival",find_desc:"Indtast en vens kode for at k√¶mpe mod dem.",search:"S√∏g",copy:"Kopier",copy_success:"Kode kopieret til udklipsholder!",key_generated:"Rival N√∏gle Genereret",error_input_not_found:"Input felt ikke fundet!",error_empty:"Indtast venligst en rival kode.",error_invalid:"Ugyldig rival kode.",rival_found:"Rival Fundet"},grid:{title:"Syndicate Control Grid",dominance:"Global Dominans"},defense:{title:"Forsvar",subtitle:"Sikring af Headquarters",def_unit:"DEFENSE",per_unit:"PR. ENHED",total:"Samlet Forsvarsv√¶rdi",points:"PUNKTER",buy:"K√∏b",active:"Aktiv",hq:"Headquarters Protection"},buy:"K√∏b",max:"Max"},management:{title:"Organisation",subtitle:"Ans√¶t specialister og administrer din operation.",salary:"L√∏nning",status:"Status",active:"Aktiv",inactive:"Uaktiv",details:"Detaljer",per_unit:"Pr. enhed",loyalty:"Loyalitet",total_prod:"Total Produktion",total_ops:"Total Drift",hire:"Ans√¶t",fire:"Fyr",pay_salary:"UDBETAL L√òN",stop_strike:"STOP STREJKE",economy:"√òkonomi",upgrades:"Opgraderinger",salary_interval:"L√∏nninger (Interval)",total_revenue:"Total Oms√¶tning",laundered:"Hvidvasket"},buy:"K√∏b",max:"Max",ranks:{0:"Gade-Pusher",1:"Lokal Boss",2:"Bydels-Konge",3:"Grossist",4:"Kartel-Medlem",5:"Baron",6:"Kingpin",7:"Syndikat-Leder",8:"Gudfar",9:"SULTAN"},boss_modal:{your_hp:"Dit HP",boss_hp:"Boss HP",enraged:"RASENDE",taunt:'"Du tror du kan tage min plads? Kom an!"',attack_btn:"ANGRIB!",speed_bonus:"‚ö†Ô∏è Boss angriber hver {rate}s! | Fart bonus: Vind p√• <30s for +50% loot"},briefcase:{money_log:"GRATIS PENGE: Du fandt en mappe med {amount} kr!",heat_log:"BEVISER FJERNET: Du fandt en mappe med kompromitterende billeder. Heat -20.",buff_log:"HYPE MODE: Salg fordoblet i 30 sekunder!",money_float:"+{amount} kr",heat_float:"-20 Heat",buff_float:"HYPE MODE!"},offline_report:{title:"DRIFTSRAPPORT",time:"Gade Tid: {minutes} minutter",production_title:"Produktion & Lager",security_title:"Sikkerhed",raids:"Razziaer",defended:"Afv√¶rget",failed:"MISLYKKEDES",finance_title:"Regnskab",dirty_income:"Sorte Penge (Gade)",clean_income:"Hvide Penge (Legalt)",laundered_sub:"‚Ü≥ Heraf Hvidvasket",salaries:"L√∏nninger",interest:"Renter (G√¶ld)",net:"NETTO",close_btn:"GODKEND RAPPORT",quote:'"Forretning er forretning." ‚Äî Sultanen'}},Qe={sultan_greetings:{level_1:"Brother, welcome to N√∏rrebro. The streets need fresh eyes.",level_2:"You're not doing bad. Rumor says you have your hash under control.",level_5:"Our friends in K√∏dbyen are starting to know your name. Watch the heat.",level_10:"The city bows, Godfather. The Sultan always has a place for you.",default:"What do you have for me today, habibi?"},rival_profiles:{lille_a:"Lille A: An aggressive drifter from Nordvest. He shoots first.",baronen:"The Baron: He owns the City. He attacks your laundering.",onkel_j:"Uncle J: Old school. He takes your territories if you sleep."},empire:{title:"YOUR EMPIRE",subtitle:'"One day all this will be dust. But the legend? The legend lives forever."',mastery:{title:"Mastery Shop",subtitle:"Permanent upgrades for diamonds",active:"Active",unlock:"Unlock"},prestige:{level:"Prestige Level",income_bonus:"Income Bonus",permanent_mult:"Permanent Multiplier",tokens:"Prestige Tokens",currency:"Prestige Tokens"},lifetime:{earnings:"Lifetime Earnings",produced:"Produced (Total)",resets:"Prestige Resets",value:"Empire Value",units:"units"},network:{title:"Underworld Network",enforcer:"Enforcer",tycoon:"Tycoon",forbidden:"The Forbidden (Unique)",upgrade:"Upgrade",unlock:"Unlock",maxed:"MAXED"},reset:{title:"EXIT SCAM (Prestige Reset)",desc:"Reset all progress (Cash, Stock, Buildings). Keep your Trophies. Gain a permanent income bonus and Prestige Tokens.",button:"RESET NOW",current:"Current",required:"Requires Level 10"}},network:{subtitle:"Control the streets, expand your empire",total_income:"Total Income",owned:"Owned"},network_interactive:{logs:{drive_by:"Drive-by executed! {cash} stolen from {district}.",bribe:"Police bribed. Heat reduced in {district}.",conquer:"Territory {area} is now under your control!",defend:"Attack on {area} repelled!"},actions:{buy_area:"Buy Area",upgrade:"UPGRADE",select_special:"Select Specialist",locked:"LOCKED",drive_by:"Drive-By",bribe:"Bribe",raid:"Raid",heat_wipe:"Heat Wipe"},stats:{income:"INCOME / SEC",base:"Base",mult:"Multiplier",next:"Next Upgrade"},overlay:{attack:"ATTACK",strength:"STRENGTH",defend_safe:"DEFEND (FREE)",defend_merc:"HIRE MERCS",rival_occ:"RIVAL OCCUPATION",liberate:"LIBERATE",shakedown:"COLLECT DEBT"}},rivals_interactive:{defense:{title:"Defense Systems",hq:"Protect your headquarters from raids",total_value:"Total Defense",points:"pts",active:"Active",buy:"Buy",guards:{name:"Security Guard",desc:"Locals with reinforced vests"},cameras:{name:"Shadow-Eyes",desc:"Drones and cameras on lampposts"},bunker:{name:"Safehouse",desc:"Secret basement under a kiosk"}},logs:{sabotage:"Sabotage successful! Rival weakened.",raid:"Raid executed! {loot} stolen.",strike:"Attack launched! Rival strength reduced."},wars:{title:"Syndicate Wars",beta:"BETA Feature",challenge:"Challenge Rival",find:"Find Opponent",copy_success:"Syndicate ID copied to clipboard",search_success:"Rival found: {name} (Lvl {level})",search_fail:"No rival found with that ID",challenge_sent:"Challenge sent!",error_input_not_found:"Input field not found",error_empty:"Please enter an ID",error_invalid:"Invalid Code"}},finance_interactive:{logs:{crypto_buy:"Bought {amount}x {coin} for {cost}",crypto_sell:"Sold {amount}x {coin} for {value}",deposit:"Deposited {amount} into Savings",withdraw:"Withdrew {amount} from Savings",borrow:"Borrowed {amount} from Loan Shark",repay:"Repaid {amount} of debt"}},boot:{init:"INITIALIZING SYNDICATE OS KERNEL v1.1.2...",mounting:"MOUNTING ENCRYPTED VOLUMES (AES-256)...",proxy:"ESTABLISHING PROXY CHAINS...",bypassing:"BYPASSING DANISH CYBER DEFENSE...",spoofing:"SPOOFING MAC ADDRESS: 00:1A:2B:3C:4D:5E",connecting:"CONNECTING TO COPENHAGEN UNDERGROUND HUB...",handshake:"HANDSHAKE PROTOCOL: SUCCESS",decrypting:"DECRYPTING USER DATA...",syncing:"SYNCING TERRITORY DATABASE...",intel:"LOADING RIVAL INTEL...",access:"ACCESS GRANTED: WELCOME SULTAN.",logo_subtitle:"COPENHAGEN NODE #084",initialize_btn:"Initialize Access",bio_check:"Biometric Handshake Required",connection_stable:"ENCRYPTED CONNECTION STABLE",decrypting_nodes:"Decrypting Nodes"},active_feed:{level_up:"LEVEL UP! You are now Rank"},events:{critical_heat:"üö® CRITICAL HEAT! Raid imminent! Reduce heat NOW!",high_heat:"‚ö†Ô∏è HIGH HEAT! Police are watching. Be careful!",raid_won_title_high:"SWAT RAID REPELLED",raid_won_title_low:"DEAL BUST AVOIDED",raid_won_msg_auto:"Your Security Chief stopped the raid before it started.",raid_won_msg_def:"Your security measures kept them out!",hardcore_game_over:"HARDCORE GAME OVER",raid_lost_hardcore_msg:`You were caught in a Raid! Your empire falls here.
Seized: {cash} kr and {product}x {type}.`,raid_lost_title_high:"SWAT RAID!",raid_lost_title_low:"RAID!",raid_lost_msg:"Seized: {cash} kr and {product}x {type}.",territory_attack_msg:"‚ö†Ô∏è ALARM: {id} is under attack!",rival_scared:"Rivals scared off by your guards.",drive_by_title:"DRIVE-BY!",drive_by_msg:"Rivals opened fire. You lost {cash} kr.",territory_lost_level:"TERRITORY LOST: {id} lost a level!",territory_looted:"TERRITORY LOOTED: {id} looted for 25,000 kr!",boss_spawn_title:"BOSS FIGHT!",boss_spawn_msg:"A rival Boss has taken the streets! (Level {level} Boss)",achievement_unlocked:"ACHIEVEMENT UNLOCKED",offline_hardcore:"HARDCORE: ATTACKED WHILE SLEEPING!"},news:{system_ready:"SYSTEM READY",weather_gray:"Copenhagen weather: Gray and depressing as always",rumor_viagra:"Rumor: Someone is selling fake Viagra at the harbor",metro_down:"Metro down: Delays on M1. Pushers stuck in transit",sultan_shawarma:"The Sultan's shawarma stand got 5 stars on TripAdvisor",mom_call:"Your mom called. She's worried about you",influencer_heat:"Influencer posted about 'street culture'. Heat rising",rival_tag:"Rival gang tagged your territory. Disrespect!",junkie_buy:"Junkie bought 10x your product. Payday!",power_outage:"Power outage in N√∏rrebro. Cameras offline",dog_patrol:"K9 unit patrolling your area. Stay low",season_summer:"Summer festival season! Demand is high",season_winter:"Winter blues. People need their fix",season_payday:"Payday weekend! Wallets are full",season_blue_monday:"Blue Monday. Everyone's depressed and buying",tech_silkroad:"Dark web marketplace busted. Competition eliminated",tech_phones:"New encrypted phones available. Upgrade recommended",tech_atm:"ATM skimming ring exposed. Cash is king",tech_hacker:"Hacker group offers services. Interested?",event_auction:"Police auction: Cheap equipment available",event_corrupt_cop:"Corrupt cop wants a cut. Pay up or face heat",flavor_accountant:"Your accountant found a tax loophole. Nice!",flavor_quality:"Quality complaints from customers. Improve your product",flavor_rival_guards:"Rivals hired new guards. They're serious now",flavor_sultan_vodka:"The Sultan is selling vodka on the side now",flavor_taxi_cash:"Taxi driver paid in cash. No questions asked",flavor_mailbox:"Suspicious package in your mailbox. Investigate?",flavor_gov_legal:"Government considering legalization. Market uncertainty",flavor_netflix:"New crime documentary on Netflix. Inspiration?"},ui:{cash:"Cash",dirty_cash:"Dirty Money",heat:"Heat",level:"Level",day:"Day",save:"Save Game",settings:"Settings",help:"Help",back:"Back",close:"Close",buy:"Buy",sell:"Sell",locked:"Locked",max:"Max",loading:"Loading Syndicate OS...",ok:"OK",understood:"Understood"},header:{xp:{title:"Experience Points",current:"Current",next:"Next Lvl"},clean_tooltip:{title:"Financial Insight",launder:"Laundering",legal:"Legal",footer:"Check Finance for details"},clean_cash:"Clean Capital",clean_cash_warning:"CLEAN CASH REQUIRED",heat_tooltip:{title:"Heat Status",level:"Level",risk:"Raid Risk",lawyers:"Lawyers",shadow_network:"Shadow Network",bribe:"Bribe (-25%)",cost_warning:"Costs Dirty Money"},heat_status:"Heat",heat_overheat:"OVERHEAT!!",dirty_tooltip:{title:"Street Insight",sales:"Inventory Sales",desc:"Expected flow based on current production and sales.",footer:"Check Production for details"},dirty_cash:"Dirty Capital",siege_alert:"Territories Under Attack!",siege_desc:"Go to Underworld to defend your territories"},tabs:{sultan:"The Sultan",production:"The Lab",network:"The Street",rivals:"Underworld",finance:"Finance",management:"Operations",empire:"Empire"},settings:{title:"System Settings",hard_reset:"Hard Reset",hard_reset_desc:"Permanently delete all data",export_save:"Export Save",import_save:"Import Save",language:"Sprog / Language",format:"Number Format",format_desc_sci:"Scientific (1.2e6)",format_desc_std:"Standard (1.2M)",particles:"Effects",particles_desc_on:"On (Better experience)",particles_desc_off:"Off (Better performance)",sound:"Sound",sound_desc_muted:"Muted",sound_desc_active:"Active",on:"ON",off:"OFF",mute:"MUTE",unmute:"UNMUTE"},language_selector:{title:"V√¶lg Sprog / Select Language",choose:"V√¶lg foretrukket sprog / Choose preferred language",danish:"Dansk",english:"English",danish_desc:"Original experience",english_desc:"International version"},sultan:{title:"The Sultan's Back Room",subtitle:"The Sultan's Services give you access to exclusive perks and contracts. Complete missions to rise in rank and unlock new opportunities.",services_title:"Services",services_desc:"Use Sultan's services strategically to manage heat and increase sales.",stats_title:"Mission Statistics",completed:"Completed",remaining:"Remaining",progress:"Progress",bribe_title:"Grease the Pigs",bribe_desc:"Bribe the police to reduce heat. Cost:",reduce_heat:"Reduce Heat",hype_title:"Street Hype",hype_desc:"Rumors spread fast. Double sales speed for 2 minutes.",start_campaign:"Start Campaign",intel_title:"Intel",intel_desc:"Market Forecast",next_event:"Next Event",waiting_signal:"Waiting for signal...",connection_stable:"Connection stable.",seconds_left:"s left.",bribe_sultan:"Bribe the Sultan for forecast.",main_mission:"Main Objective",daily_mission:"Daily Contract",next_mission:"Next Main Objective",req_rank:"Requires Rank",you_are_rank:"You are Rank",earn_xp:"Earn more XP to unlock this mission.",no_contracts:"No Active Contracts",no_contracts_desc:"The Sultan has nothing for you right now. Check back later.",achievements:"Achievements",unlocked:"Unlocked",secret:"Secret",market_title:"Market Influence",market_desc:"Pay the Sultan to spread rumors and push the market up.",fix_market:"Fix the Market"},production:{title:"The Lab",subtitle:"The Lab is the heart of your operation. Produce goods manually or automatically with staff.",shortcuts_hint:"Use keys 1-6 for quick production.",storage_cap:"Storage Capacity",storage_full:"STORAGE FULL!",stats_title:"Production Statistics",total_produced:"Total Produced",total_sold:"Total Sold",in_stock:"In Stock",unlocked:"Products Unlocked",shortcuts:"Shortcuts:",distribution:"DISTRIBUTION",panic_stop:"PANIC STOP",stock:"Stock",prod:"Prod",sell:"Sell",card_storage_full:"STORAGE FULL",sell_now:"SELL GOODS NOW",producing:"PRODUCING...",produce_now:"PRODUCE NOW",sell_all:"SELL ALL",auto_on:"Auto: ON",auto_off:"Auto: OFF",default_desc:"Produce and sell.",prod_details:"Production Details",sell_details:"Sales Details",base:"Base",total:"Total",staff:"Staff"},items:{hash_lys:{name:"Hashish (1g)",desc:"A joint"},piller_mild:{name:"Study Pills",desc:"Ritalin"},hash_moerk:{name:"Skunk (1g)",desc:"Premium Smoke"},speed:{name:"Amphetamine (10g)",desc:"Street Speed"},mdma:{name:"MDMA (10g)",desc:"Molly"},keta:{name:"Ketamine (10g)",desc:"Special K"},coke:{name:"Cocaine (50g)",desc:"Snow"},benzos:{name:"Benzos (1000p)",desc:"Downers"},svampe:{name:"Shrooms (200g)",desc:"Caps"},oxy:{name:"Oxy (500p)",desc:"Hillbilly Heroin"},heroin:{name:"Heroin (500g)",desc:"Brown Sugar"},fentanyl:{name:"Fentanyl (500g)",desc:"The End"}},staff:{grower:{name:"Grower",desc:"Cultivates both Hash and Skunk"},chemist:{name:"Chemist",desc:"Cooks Speed and other goodies"},importer:{name:"Smuggler",desc:"Imports goods from overseas"},labtech:{name:"Lab Tech",desc:"Synthesizes the heavy stuff"},junkie:{name:"Zombie",desc:"Works for the fix. No future."},accountant:{name:"Accountant",desc:"Automatically launders dirty cash (5%/sec)"},pusher:{name:"Pusher",desc:"Sells small amounts on the corner"},distributor:{name:"Distributor",desc:"Supplies clubs and parties"},trafficker:{name:"Kingpin",desc:"Manages heavy drug sales"},lawyer:{name:"Lawyer",desc:"Effective. Keeps the Fuzz away."}},upgrades:{warehouse:{name:"Storage Unit",desc:"Double storage capacity."},hydro:{name:"Grow Lamps",desc:"+50% speed on Hash production."},lab:{name:"Uni-Lab Setup",desc:"+50% speed on Chemical production."},studio:{name:"Front Store",desc:"+50% Speed & +20% Efficiency."},network:{name:"EncroChat",desc:"-25% Heat from sales via encryption."},deep_wash:{name:"Deep-Wash Server",desc:"+20% Laundering speed & passive wash."}},luxury:{penthouse:{name:"Luxury Penthouse (Cph K)",desc:"The epitome of success. Massive street respect."},yacht:{name:"Super Yacht (Freeport)",desc:"Your own floating fortress. Perfect for laundering parties."},jet:{name:"Gulfstream G650 (Airport)",desc:"Fly under the radar. Reduces passive heat generation."},ghostmode:{name:"Ghost Protocol System",desc:"Advanced anti-surveillance. Activate for 10 min heat immunity (1h cooldown)."},island:{name:"Private Island (Caribbean)",desc:"The ultimate end-game. You are now untouchable."}},missions:{m1:{title:"First Delivery",text:"Welcome to the Streets, brother. A junkie needs a fix urgently. Go to <b>The Lab</b> and make 5x Hash. Chop chop."},m2:{title:"Street Level",text:"Good. But stock doesn't pay rent. Sell that shit to get Dirty Money. Watch the Heat!"},m3:{title:"The Laundromat",text:"You got Dirty Money, but you can't buy suits with that. Go to <b>Finance</b> and wash it into Clean Capital."},m4:{title:"Organization",text:"You look busy. Hire a 'Pusher' under <b>Operations</b> to sell for you, so we can focus on the big plays."},m5:{title:"Quality Control",text:"Customers want the good stuff. Grow some Skunk. It's heavier, pricier, and hotter."},m5b:{title:"Logistics",text:"The basement is full of boxes. Buy a <b>Storage Unit</b> (Upgrades) before the product rots."},m6:{title:"Take The City",text:"Hipsters in the Meatpacking District pay premium. If you Invest in a Territory (Network tab), we own the block.",choices:{0:{text:"Send the boys (+25 Heat)"},1:{text:"Bribe guards (-5000 kr)"}}},m7:{title:"Blue Lightning",text:"Truckers need energy. Hire a Chemist and cook some Speed."},m8:{title:"Street Warrior",text:"Get it on the streets. I want to see cash in hand, habibi! Sell 500 units total."},m9:{title:"Northwest Network",text:"Northwest is a goldmine. Invest in more territories to secure passive income."},m10:{title:"The Guard",text:"Rivals are watching. Hire 5 guards to protect your headquarters."},m11:{title:"Laundering King",text:"We have too much dirty cash. Wash 100,000 kr to prove you can handle the flow."},m12:{title:"Freeport",text:"Forget local production. Import is the future. Get a <b>Smuggler</b> to bring containers home.",choices:{0:{text:"Take a chance (50% for +50k kr / +20 Heat)"},1:{text:"Play it safe"}}},m13:{title:"White Gold",text:"Snow. White Gold. The upper class needs it. Produce 100 units."},m14:{title:"The Lawyer",text:"The Fuzz is hot. Get a sleazy Lawyer. Someone to keep Heat down while we grow."},m15:{title:"Nightlife King",text:"Take control of the city nightlife. We need to own 4 major territories now."},m16:{title:"The Front",text:"We need a real front. Buy the <b>Front Store</b> upgrade to make laundering more effective."},m17:{title:"Cartel Status",text:"We are no longer a gang. We are a cartel. Fill the warehouse with coke."},m18:{title:"The Big Heist",text:"Hellerup. Where money and power live. Buy the final investment and show them who's boss."},m19:{title:"Safehouse",text:"Rivals are planning something big. Build a <b>Safehouse</b> to ensure your survival.",choices:{0:{text:"Strike first (+50 Heat)"},1:{text:"Defensive (Do nothing)"}}},m20:{title:"The Legend",text:"You own this city, brother. There's nothing left to win... unless you want to start over with even more power?"}},news:{n1:"DISTORTION FESTIVAL: Streets are partying! Demand for MDMA and Speed explodes (+100%).",n2:"MUSIC FESTIVAL: The main stage opens. Coke and Hash in high demand (+60%).",n3:"HOLIDAY SEASON: Corporate parties everywhere. Snow is falling heavily (+40% Coke).",n4:"RAID ON PUSHER STREET: The Police clear the area. Hash prices bottom out (-40%).",n5:"BORDER CONTROL: Tighter control at the border. Imports are stuck (-30% Supply).",n6:"POLICE ACTION: 'Operation White Christmas'. All pushers keeping low profile.",n7:"WINTER DROUGHT: Frost and closed harbors. All imports are expensive.",n8:"BLOCKCHAIN CRASH: Crypto plummets. Laundering is cheaper, but risky.",n9:"ETHEREUM SURGE: Gas fees are sky high. Laundering costs a fortune.",n10:"N√∏rrebro: Shootout at the Red Square. People staying indoors.",n11:"Vesterbro: Tourists flocking to the Meatpacking District. Pushers are busy.",n12:"Northwest: Kids throwing fireworks. The Police are distracted.",n13:"Amager: Bikers having a meet. Keep a low profile on the island.",n14:"South Harbor: New developments attract rich clients. Prices rising.",n15:"Christiania: Tourist season starting. 'Souvenir' sales rising.",n16:"Red Light District: Police setting up surveillance. Heat rising faster.",n17:"Suburbs: Car meet at the gas station. Speed flowing freely.",n18:"Police got new drones with thermal cameras. Keep a low profile.",n19:"Local officer 'Jens' is taking bribes again.",n20:"National Police warning about 'strong pills' in circulation.",n21:"Wanted: Your rival 'Little A' seen at the airport.",n22:"Police Radio: 'Suspicious activity in your sector'.",n23:"New Legislation: Tougher penalties for laundering from today.",n24:"Weather: Grey and gloomy. Perfect for making cash.",n25:"Rumor: A new shipment of 'Blue Viagra' hitting nursing homes.",n26:"The Metro is down. Customers can't get through.",n27:"The Sultan is buying shawarma for the boys.",n28:"Your mom calls: 'When will you get a real job?'",n29:"An influencer flashes your product on TikTok. Heat rising!",n30:"Alpha Syndicate painted over your tag. Disrespectful.",n31:"A junkie found 1000kr and bought the whole stock.",n32:"Power outage in the lab. Production halted for 5 min.",n33:"Dog patrol seen at your front door. False alarm... this time.",n34:"Summer: Everyone wants Coke for the terrace.",n35:"Winter: Dark times. People just want to smoke and watch Netflix.",n36:"Payday: People have money. Prices get a small bump up.",n37:"Graduation Day: Kids in town. Be careful selling to minors (Heat++).",n38:"Darkweb market 'SilkRoad 4.0' hacked. Everyone is paranoid.",n39:"New encrypted phones arrived. Security is top notch.",n40:"Bitcoin ATM on Main Street is out of order.",n41:"A hacker offers to clear your criminal record for 50k.",n42:"POLICE AUCTION: Lab equipment cheap (5.000kr). Click here!",n43:"CORRUPT COP: 'I'll clear your cases for 10.000kr'. Click here.",n44:"Your accountant asks for receipts for 'fertilizer'.",n45:"A customer complains about quality. 'It's just oregano!'.",n46:"Rivals hired new guards. Watch out.",n47:"The Sultan is pleased. He sends a bottle of vodka.",n48:"You found a bag of cash in a taxi. Lucky break.",n49:"Neighbor War: Someone stole your mailbox.",n50:"Breaking: Government considering legalization (again).",n51:"A Netflix series about your life? No, just paranoia."},achievements:{first_blood:{name:"Street Dealer",desc:"Earn your first million (1,000,000 kr) in Dirty Money"},clean_house:{name:"Launderer",desc:"Wash 10,000,000 kr total through your systems"},king_of_streets:{name:"King of the Streets",desc:"Own all 5 territories in Copenhagen simultaneously"},escobar:{name:"Escobar",desc:"Produce 1,000 units of Cocaine in your career"},untouchable:{name:"Untouchable",desc:"Reach 0% Heat while having 1,000,000 kr in Dirty Money"},prestige_one:{name:"Exit Scam",desc:"Restart your empire for the first time"},diamond_hands:{name:"Diamond Hands",desc:"Own at least 10 Bitcoin in your crypto wallet"},clean_hands:{name:"Clean Hands",desc:"Have 1,000,000 kr in Clean Cash and 0 kr in Dirty Money simultaneously"},hoarder:{name:"Hoarder",desc:"Fill your storage with at least 500 units"},veteran:{name:"Street Veteran",desc:"Have been active in the game for at least 10 hours total"},locked_desc:"Unlock to see this achievement."},tutorial:{header:"LIVE ASSISTANT",step_label:"STEP",status:"STATUS",step1:{title:"GOAL: PRODUCTION",text:"Buy 5x Hashish in the 'The Lab' tab.",sub:"Click the Hash icon to produce."},step2:{title:"GOAL: STREET SALES",text:"Sell 5 units to earn Dirty Money.",sub:"Use the 'Sell All' button at the top."},step3:{title:"GOAL: LAUNDERING",text:"Launder 100kr in the 'Finance' tab.",sub:"Dirty Cash cannot be used for everything."},step4:{title:"GOAL: ORGANIZATION",text:"Hire a Pusher in the 'Operations' tab.",sub:"He will sell automatically for you."}},finance:{title:"Ministry of Finance",subtitle:"Capital Management, Laundering, and Global Investments.",net_worth:"Total Net Worth",cashflow_5m:"Net Cashflow (5m)",liquid_clean:"Liquid Clean Capital",dirty_cash:"Unlaundered Bills",laundering:{title:"Laundering Terminal",op_name:"Operation Clean Sweep",rate:"RATE",desc:"Convert Dirty Cash into legitimate capital. Raid risk is 5% per wash.",warn_crash:"BLOCKCHAIN CRASH: Risk increased to 15%!",wash_all:"Wash All",manual_wash:"Manual Wash",manual_desc:"Click here for quick wash"},bank:{title:"Savings Account",bank_name:"Copenhagen Investment Bank",balance:"Balance",interest:"Interest (5m)",next_payout:"Next Payout",deposit_10k:"Deposit 10k",deposit_all:"Deposit All",withdraw_all:"Withdraw All"},luxury:{title:"Luxury Assets & Prestige",owned:"Owned",invest:"Invest",penthouse:"Luxury Penthouse (Cph K)",penthouse_desc:"The epitome of success. massive street respect.",yacht:"Super Yacht (Freeport)",yacht_desc:"Your own floating fortress. Perfect for laundering parties.",jet:"Gulfstream G650 (Airport)",jet_desc:"Fly under the radar. Reduces passive heat generation.",ghostmode:"Ghost Protocol System",ghostmode_desc:"Advanced anti-surveillance. Activate for 10 min heat immunity (1h cooldown).",island:"Private Island (Caribbean)",island_desc:"The ultimate end-game. You are now untouchable."},cashflow:{title:"Cashflow Report",income:"Income (Territories)",expenses:"Expenses (Salaries)",net_profit:"Net Profit / 5m"},portfolio:{title:"Portfolio",held:"Held",buy:"Buy",sell:"Sell"},debt:{title:"Debt & Loans",borrow_50k:"Borrow 50k Loan",pay_all:"Pay All"},chart:{collecting:"Collecting Data..."}},network:{title:"THE STREETS",live_feed:"LIVE FEED",controlled:"CONTROLLED",zones:"zones",power:"TOTAL POWER",respect:"STREET RESPECT",ops:{drive_by:"Drive-By (5k)",bribe:"Bribe (30k)",raid:"Raid (Risk)",heat_wipe:"HEAT WIPE (1H)"},districts:{elite:"Elite Zones",other:"Other Areas"},bonus_active:"üåü BONUS ACTIVE",set_bonus:"Set-Bonus",income_sec:"INCOME / SEC",income:"INCOME",stats:{base:"Base",mult:"Multiplier",next:"Next Upgrade"},actions:{buy:"Buy Territory",upgrade:"UPGRADE"},levels:"Levels",attack:"‚ö†Ô∏è ATTACK ‚ö†Ô∏è",strength:"Strength",defend_safe:"DEFEND (Safe)",defend_merc:"MERCENARIES (10k)",rival_occupation:"RIVAL OCCUPATION",liberate:"LIBERATE AREA",spec:{title:"Select Speciality",safe:"Safe",front:"Front",warehouse:"Storage"},shakedown:{collect:"COLLECT!"},spec:{title:"Select Speciality",safe:"SafeHouse",front:"Sale Front",storage:"Large Storage"},specialization:"Specialty",spec_chosen:"You chose {spec} specialization!"},rivals:{title:"Underworld",subtitle:"Conflict, Police and Security. Keep your enemies close and your back covered.",scanner:{title:"Police Report & Surveillance",police:"Copenhagen Police",status_raid:"‚ö†Ô∏è RAID IMMINENT",status_active:"üì° SURVEILLANCE ACTIVE",threat_level:"Current Threat Level",status_label:"Status",level:{critical:"Critical",high:"High",safe:"Safe"}},actions:{bribe:"Bribe Officer",bribe_desc:"-25% HEAT INSTANTLY",sabotage:"Sabotage",sabotage_desc:"Delay Rival",raid:"Pillage",raid_desc:"Attack",war:"Offensive",war_desc:"Street War"},cost:"Cost",rival_syndicate:"Rival Syndicate",hostility:"Hostility",strength:"Rival Strength",risk:"Risk",gang_wars:{title:"Gang Wars (Multiplayer Lite)",beta:"BETA",challenge:"Challenge a Friend",challenge_desc:"Send your code to a friend. If they enter it, YOU become their rival.",copy_code:"Copy My Code",find:"Find Rival",find_desc:"Enter a friend's code to fight them.",search:"Search",copy:"Copy",copy_success:"Code copied to clipboard!",key_generated:"Rival Key Generated",error_input_not_found:"Input field not found!",error_empty:"Please enter a rival code.",error_invalid:"Invalid rival code.",rival_found:"Rival Found"},grid:{title:"Syndicate Control Grid",dominance:"Global Dominance"},defense:{title:"Defense",subtitle:"Headquarters Security",def_unit:"DEFENSE",per_unit:"PER UNIT",total:"Total Defense Value",points:"POINTS",buy:"Buy",active:"Active",hq:"Headquarters Protection"},buy:"Buy",max:"Max"},management:{title:"Operations",subtitle:"Hire specialists and manage your operation.",salary:"Salary",status:"Status",active:"Active",inactive:"Inactive",details:"Details",per_unit:"Per unit",loyalty:"Loyalty",total_prod:"Total Production",total_ops:"Total Operations",hire:"Hire",fire:"Fire",pay_salary:"PAY SALARIES",stop_strike:"STOP STRIKE",economy:"Economy",upgrades:"Upgrades",salary_interval:"Salaries (Interval)",total_revenue:"Total Revenue",laundered:"Laundered"},buy:"Buy",max:"Max",ranks:{0:"Street Pusher",1:"Local Boss",2:"District King",3:"Wholesaler",4:"Cartel Member",5:"Baron",6:"Kingpin",7:"Syndicate Leader",8:"Godfather",9:"SULTAN"},boss_modal:{your_hp:"Your HP",boss_hp:"Boss HP",enraged:"ENRAGED",taunt:'"You think you can take my spot? Bring it!"',attack_btn:"ATTACK!",speed_bonus:"‚ö†Ô∏è Boss attacks every {rate}s! | Speed bonus: Win in <30s for +50% loot"},briefcase:{money_log:"FREE MONEY: You found a briefcase with {amount} kr!",heat_log:"EVIDENCE REMOVED: You found a briefcase with compromising photos. Heat -20.",buff_log:"HYPE MODE: Sales doubled for 30 seconds!",money_float:"+{amount} kr",heat_float:"-20 Heat",buff_float:"HYPE MODE!"},offline_report:{title:"OPERATIONS REPORT",time:"Street Time: {minutes} minutes",production_title:"Production & Stock",security_title:"Security",raids:"Raids",defended:"Repelled",failed:"FAILED",finance_title:"Financials",dirty_income:"Dirty Money (Street)",clean_income:"Legal Income",laundered_sub:"‚Ü≥ Of which Laundered",salaries:"Salaries",interest:"Interest (Debt)",net:"NET",close_btn:"APPROVE REPORT",quote:'"Business is business." ‚Äî The Sultan'}},Ee={da:Ze,en:Qe},He=y.createContext(),O=()=>y.useContext(He),et=({children:t})=>{const[s,n]=y.useState(()=>localStorage.getItem("syndicate_lang")||null);y.useEffect(()=>{localStorage.setItem("syndicate_lang",s)},[s]);const a={language:s,setLanguage:n,t:(i,l={})=>{const c=i.split(".");let o=Ee[s];for(const d of c)if(o=o?.[d],o===void 0)break;return o===void 0?(console.warn(`Missing translation for key: ${i} in language: ${s}`),i):(typeof o=="string"&&l&&Object.entries(l).forEach(([d,u])=>{o=o.replace(new RegExp(`{${d}}`,"g"),u)}),o)},translations:Ee[s]};return e.jsx(He.Provider,{value:a,children:t})},be=()=>({cleanCash:x.initialCash,dirtyCash:x.initialDirtyCash,diamonds:0,debt:0,xp:0,level:1,heat:0,heatWarning70:!1,heatWarning90:!1,isShaking:!1,inv:Object.keys(x.production).reduce((t,s)=>({...t,[s]:0}),{}),prices:Object.keys(x.production).reduce((t,s)=>({...t,[s]:x.production[s].baseRevenue||0}),{}),staff:Object.keys(x.staff).reduce((t,s)=>({...t,[s]:0}),{}),staffHiredDates:{},upgrades:{...Object.keys(x.upgrades).reduce((t,s)=>({...t,[s]:0}),{}),warehouse:1},defense:Object.keys(x.defense).reduce((t,s)=>({...t,[s]:0}),{}),territories:[],luxuryItems:[],masteryPerks:{},territoryAttacks:{},payroll:{lastPaid:Date.now(),isStriking:!1},crypto:{wallet:{bitcoin:0,ethereum:0,monero:0},prices:{bitcoin:45e3,ethereum:3e3,monero:150},history:{bitcoin:[],ethereum:[],monero:[]}},bank:{savings:0,lastInterest:Date.now()},autoSell:{},isSalesPaused:!1,boss:{active:!1,hp:100,maxHp:100,playerHp:100,playerMaxHp:100,enraged:!1,lastDefeatedLevel:0,attackDamage:5,startTime:0,lastAttackTime:0},stats:{produced:Object.keys(x.production).reduce((t,s)=>({...t,[s]:0}),{}),sold:0,laundered:0,runnerIncome:0},rival:{name:"Alpha Syndikatet",hostility:0,strength:75,territories:[],eliminated:!1,lastRaidTime:0},isProcessing:Object.keys(x.production).reduce((t,s)=>({...t,[s]:!1}),{}),logs:[],market:{trend:"neutral",duration:0,multiplier:1},modifiers:{heatMult:1},productionRates:{},activeBuffs:{hype:0,intel:0},lastTick:{clean:0,dirty:0},lastSaveTime:0,bootShown:!1,welcomeShown:!1,tutorialStep:0,tutorialActive:x.tutorialActive,completedMissions:[],missionChoices:{},pendingEvent:null,hasSeenEndgameMsg:!1,lifetime:{earnings:0,laundered:0,dirtyEarnings:0,produced:Object.keys(x.production).reduce((t,s)=>({...t,[s]:0}),{})},prestige:{level:0,multiplier:1,currency:0,perks:{}},contracts:{active:null,lastCompleted:0},territoryLevels:{},territorySpecs:{},hardcoreMode:x.hardcoreMode,unlockedAchievements:[],informantActive:!1,hasReceivedMercy:!1,version:Ie,settings:{numberFormat:"standard",particles:!0,sound:!0}}),tt=t=>{const s=be();return t?{...s,...t,inv:{...s.inv,...t.inv||{}},staff:{...s.staff,...t.staff||{}},stats:{...s.stats,...t.stats||{}},upgrades:{...s.upgrades,...t.upgrades||{}},settings:{...s.settings,...t.settings||{}},defense:{...s.defense,...t.defense||{}},boss:{...s.boss,...t.boss||{}},rival:{...s.rival,...t.rival||{}},diamonds:Number(t.diamonds??s.diamonds)||0,autoSell:t.autoSell||s.autoSell,prestige:{...s.prestige,...t.prestige||{}},crypto:{...s.crypto,...t.crypto,wallet:{...s.crypto.wallet,...t.crypto?.wallet||{}}},bank:{...s.bank,...t.bank||{}},luxuryItems:t.luxuryItems||s.luxuryItems,masteryPerks:{...s.masteryPerks,...t.masteryPerks||{}},territorySpecs:{...s.territorySpecs,...t.territorySpecs||{}},tutorialActive:t.tutorialActive??s.tutorialActive,hardcoreMode:t.hardcoreMode??s.hardcoreMode}:s},_e=t=>{const s={costMult:{},bribeMult:1,speedMult:1};return!t.territories||!x.districts||Object.entries(x.districts).forEach(([n,r])=>{if(r.req.every(i=>t.territories.includes(i))){const i=r.effect;i.type==="cost"?s.costMult[i.target]=i.value:i.type==="bribe_cost"?s.bribeMult*=i.value:i.type==="global_speed"&&(s.speedMult*=i.value)}}),s},V=(t,s)=>!t.prestige?.perks||!x.perks?.[s]?0:(t.prestige.perks[s]||0)*x.perks[s].val,me=(t,s)=>{if(!t.masteryPerks)return 0;let n=0;return Object.keys(x.masteryPerks).forEach(r=>{const a=x.masteryPerks[r];a.effect===s&&t.masteryPerks[r]&&(n+=a.val||0)}),n},st=t=>{const s=V(t,"heat_reduce")+V(t,"shadow_network");let n=0;t.territorySpecs&&(n=Object.values(t.territorySpecs).filter(a=>a==="front").length*.1,n=Math.min(.5,n));const r=s+n;return Math.max(.1,1-r)},Ce=t=>{const s=t.upgrades?.warehouse||1,n=50,r=x.upgrades?.warehouse?.value;let a=0;return t.territorySpecs&&Object.entries(t.territorySpecs).forEach(([i,l])=>{if(l==="storage"&&t.territories.includes(i)){const c=t.territoryLevels[i]||1;a+=100*c}}),Math.floor(n*Math.pow(r,s))+a};let $e="standard";const rt=t=>{$e=t},E=t=>{if(t==null||isNaN(t))return"0";if(t<1e3)return Math.floor(t);if($e==="scientific")return Number(t).toExponential(2).replace("+","");const s=Math.floor(Math.log10(t)/3),n=["","k","M","B","T","Qa","Qi","Sx","Sp","Oc","No","Dc"];if(s>=n.length)return Number(t).toExponential(2).replace("+","");const r=t/Math.pow(10,s*3);let a=parseFloat(r.toPrecision(3));return a%1!==0&&(a=a.toFixed(1)),a+n[s]},J=(t,s=2)=>+(Math.round(t+"e"+s)+"e-"+s),at=t=>{let s=0,n=0;const r=t.prestige?.multiplier||1,a=t.market?.multiplier||1,i=1+V(t,"sales_boost"),l=1+V(t,"prod_speed");x.territories.forEach(o=>{if(t.territories.includes(o.id)){const d=t.territoryLevels?.[o.id]||1,u=Math.pow(1.5,d-1),f=o.income*u*r;o.type==="clean"?s+=f:n+=f}}),Object.keys(x.production).forEach(o=>{const d=x.production[o];let u=0;Object.entries(x.staff).forEach(([g,w])=>{const h=t.staff[g]||0;h>0&&w.role==="producer"&&w.rates?.[o]&&(u+=h*w.rates[o]*l)}),(o.includes("hash")||o.includes("skunk"))&&t.upgrades.hydro&&(u*=1.5),d.tier>=2&&t.upgrades.lab&&(u*=1.5);let f=0;Object.entries(x.staff).forEach(([g,w])=>{const h=t.staff[g]||0;h>0&&w.role==="seller"&&w.rates?.[o]&&(f+=h*w.rates[o]*i)});let p=t.heat>=95?.2:t.heat>=80?.5:t.heat>=50?.8:1;f*=p,t.activeBuffs?.hype>Date.now()&&(f*=2);const m=Math.min(u,f);n+=m*d.baseRevenue*a*r});let c=0;if(Object.keys(x.staff).forEach(o=>{const d=t.staff[o]||0,u=x.staff[o].salary||0;c+=d*u/(x.payroll.salaryInterval/1e3)}),s>=c)s-=c;else{const o=c-s;s=0,n-=o}return{total:J(s+n),clean:J(s),dirty:J(n)}},se=(t,s,n,r)=>{if(r<=0)return 0;if(s===1)return t*r;const i=t*Math.pow(s,n)*(Math.pow(s,r)-1)/(s-1);return Math.floor(i)},ae=(t,s,n,r)=>{if(r<=0)return 0;const a=t*Math.pow(s,n);if(a>r)return 0;if(s===1)return Math.floor(r/t);const i=Math.log(r*(s-1)/a+1)/Math.log(s);return Math.max(0,Math.floor(i))},Ae=t=>{if(!t)return 0;const s=(Date.now()-t)/(1e3*60*60*24);return Math.min(20,Math.floor(s))};var nt={};const it=(t,s=1)=>{if(s=Number.isFinite(s)?Math.max(0,s):1,t.cleanCash=Number.isFinite(t.cleanCash)?J(t.cleanCash):0,t.dirtyCash=Number.isFinite(t.dirtyCash)?J(t.dirtyCash):0,t.heat=Number.isFinite(t.heat)?J(Math.max(0,t.heat)):0,t.cleanCash<0&&t.level<3&&!t.hasReceivedMercy&&(t.cleanCash=1e3,t.hasReceivedMercy=!0,t.logs=[{msg:"SULTANEN VISER N√ÖDE: 'Du er ny i gamet, habibi. Her er lidt startkapital. Lad det ikke ske igen.'",type:"success",time:new Date().toLocaleTimeString()},...t.logs].slice(0,50)),t.lastTick={clean:0,dirty:0},Date.now()-(t.payroll?.lastPaid||0)>x.payroll.salaryInterval){let r=0,a=0;if(Object.keys(x.staff).forEach(i=>{const l=t.staff[i]||0,c=x.staff[i].salary||0;l>0&&c>0&&(r+=l,a+=l*c)}),a>0)if(t.cleanCash>=a)t.cleanCash-=a,t.payroll.lastPaid=Date.now(),t.payroll.isStriking=!1,t.logs=[{msg:`Betalte l√∏n til ${r} ansatte(${a} kr.)`,type:"info",time:new Date().toLocaleTimeString()},...t.logs].slice(0,50);else if(t.dirtyCash>=a*x.payroll.emergencyMarkup){const i=Math.floor(a*x.payroll.emergencyMarkup);t.dirtyCash-=i,t.payroll.lastPaid=Date.now(),t.payroll.isStriking=!1,t.logs=[{msg:"Betalte l√∏n med Sorte Penge(+50 % straf)",type:"warning",time:new Date().toLocaleTimeString()},...t.logs].slice(0,50)}else{t.payroll.isStriking=!0;const i=Date.now();!t.pendingEvent&&i-(t.payroll.lastStrikeAlert||0)>6e5&&(t.pendingEvent={type:"story",data:{title:"L√òNNINGS DAG FEJLEDE",msg:`Dine ansatte strejker! De mangler ${a} kr.i l√∏n.Produktionen er sat p√• pause indtil de f√•r penge via 'Finans' fanen eller ved at tjene nok.`,type:"rival"}},t.payroll.lastStrikeAlert=i)}else t.payroll.lastPaid=Date.now()}const n=x.crypto.bank;if(Date.now()-(t.bank?.lastInterest||0)>n.interestInterval){if(t.bank.savings>0){const r=Math.floor(t.bank.savings*n.interestRate);r>0&&(t.bank.savings+=r,t.logs=[{msg:`Din opsparing har optjent ${r.toLocaleString()} kr. i renter!`,type:"success",time:new Date().toLocaleTimeString()},...t.logs].slice(0,50))}t.bank.lastInterest=Date.now()}if(x.territories.forEach(r=>{if(t.territories.includes(r.id)){const a=r.income/3600,i=Math.floor(a*s);if(nt.DEBUG_TERRITORY&&(console.log(`[TERRITORY DEBUG] ${r.name}:`),console.log(`  ter.income: ${r.income}`),console.log(`  dt: ${s}`),console.log(`  incomePerSecond: ${a}`),console.log(`  income (final): ${i}`)),i>0&&(r.type==="clean"?(t.cleanCash+=i,t.lastTick.clean+=i):(t.dirtyCash+=i,t.lastTick.dirty+=i),t.lifetime)){const l=r.type==="clean"?"earnings":"dirtyEarnings";t.lifetime[l]=(t.lifetime[l]||0)+i}}}),t.market||(t.market={trend:"neutral",duration:0,multiplier:1}),t.market.duration<=0){const r=Math.random();let a="neutral",i=x.market.duration.min+Math.floor(Math.random()*x.market.duration.range);r<.2?a="bear":r>.8&&(a="bull"),t.market.trend=a,t.market.duration=i,a==="bull"?(t.market.multiplier=x.market.multipliers.bull,t.logs=[{msg:"MAAAAARKEDET G√ÖR AMOK! Priserne stiger! (BULL MARKET)",type:"success",time:new Date().toLocaleTimeString()},...t.logs].slice(0,50)):a==="bear"?(t.market.multiplier=x.market.multipliers.bear,t.logs=[{msg:"Markedet krakker! Priserne falder! (BEAR MARKET)",type:"error",time:new Date().toLocaleTimeString()},...t.logs].slice(0,50)):t.market.multiplier=1}else t.market.duration-=s;if(Math.random()<x.crypto.eventChance*s){const r={...t.crypto.prices};Object.keys(r).forEach(a=>{const i=x.crypto.coins[a];if(i)if(Math.random()<.05){const l=.5+Math.random()*.2;r[a]=r[a]*l,a==="bitcoin"?(t.logs=[{msg:`üìâ BLOCKCHAIN CRASH: ${i.name} er i frit fald!`,type:"rival",time:new Date().toLocaleTimeString()},...t.logs].slice(0,50),t.activeBuffs||(t.activeBuffs={}),t.activeBuffs.cryptoCrash=Date.now()+3e5,r.ethereum&&(r.ethereum=r.ethereum*.6)):t.logs=[{msg:`KRYPTO DUMP: ${i.name} taber v√¶rdi!`,type:"error",time:new Date().toLocaleTimeString()},...t.logs].slice(0,50)}else{const l=(Math.random()-.5)*i.volatility*(i.basePrice*.2);r[a]=Math.max(i.basePrice*.1,Math.min(i.basePrice*5,r[a]+l))}}),t.crypto.prices=r,t.crypto.history||(t.crypto.history={bitcoin:[],ethereum:[],monero:[]}),Object.keys(r).forEach(a=>{const i=t.crypto.history[a]||[];i.push(r[a]),i.length>20&&i.shift(),t.crypto.history[a]=i})}if(Math.random()<.1*s){t.stats.history||(t.stats.history={netWorth:[]}),t.stats.history.netWorth||(t.stats.history.netWorth=[]);const r=t.cleanCash+t.dirtyCash;t.stats.history.netWorth.push(r),t.stats.history.netWorth.length>30&&t.stats.history.netWorth.shift()}if(Object.keys(t.prices).forEach(r=>{const a=x.production[r]?.baseRevenue||0;(t.inv[r]||0)>500&&a>1e3?t.prices[r]=Math.floor(a*.8):t.prices[r]=a}),!t.payroll.isStriking&&(t.staff.accountant>0||t.upgrades.deep_wash)&&t.dirtyCash>0){const r=t.upgrades.studio?1.5:1,a=t.informantActive?.5:1,i=((t.upgrades.studio?1.2:1)+V(t,"laundering_mastery")+(t.upgrades.deep_wash?.2:0))*a,l=250,c=1+V(t,"launder_speed"),o=(t.upgrades.deep_wash?5e3:0)*s,d=t.staff.accountant*l*s*c*r+o;let u=Math.min(t.dirtyCash,d);if(u=Math.max(0,u),u>0){const f=Math.floor(u*x.launderingRate*i);t.dirtyCash-=u,t.cleanCash+=f,t.stats.laundered+=u,t.lifetime&&(t.lifetime.laundered=(t.lifetime.laundered||0)+u,t.lifetime.earnings=(t.lifetime.earnings||0)+f),t.lastTick.dirty-=u,t.lastTick.clean+=f}}return t},z=typeof window<"u"&&(window.AudioContext||window.webkitAudioContext)?new(window.AudioContext||window.webkitAudioContext):null,lt=typeof window<"u"&&window.localStorage?window.localStorage:{getItem:()=>null,setItem:()=>{}};let Se=lt.getItem("syndicate_muted")==="true";const ot=t=>{Se=t,localStorage.setItem("syndicate_muted",t),Xe.Howler.mute(t),t&&z.state==="running"&&z.suspend(),!t&&z.state==="suspended"&&z.resume()},ct=()=>Se,xe={},Re={},L=(t="click")=>{if(Se)return;if(Re[t]){Re[t].play();return}if(!z)return;z.state==="suspended"&&z.resume();const s=z.createOscillator(),n=z.createGain();s.connect(n),n.connect(z.destination);const r=z.currentTime;if(t==="click")s.type="sine",s.frequency.setValueAtTime(800,r),s.frequency.exponentialRampToValueAtTime(300,r+.1),n.gain.setValueAtTime(.1,r),n.gain.exponentialRampToValueAtTime(.01,r+.1),s.start(r),s.stop(r+.1);else if(t==="success")s.type="triangle",s.frequency.setValueAtTime(600,r),s.frequency.linearRampToValueAtTime(1200,r+.1),n.gain.setValueAtTime(.1,r),n.gain.linearRampToValueAtTime(.01,r+.3),s.start(r),s.stop(r+.3);else if(t==="error")s.type="sawtooth",s.frequency.setValueAtTime(150,r),s.frequency.linearRampToValueAtTime(100,r+.2),n.gain.setValueAtTime(.1,r),n.gain.linearRampToValueAtTime(.01,r+.2),s.start(r),s.stop(r+.2);else if(t==="coin"||t==="cash"){if(r-(xe[t]||0)<.05)return;xe[t]=r,s.type="sine",s.frequency.setValueAtTime(1200,r),s.frequency.exponentialRampToValueAtTime(2e3,r+.1),n.gain.setValueAtTime(.1,r),n.gain.exponentialRampToValueAtTime(.01,r+.4),s.start(r),s.stop(r+.4)}else if(t==="vask"){if(r-(xe[t]||0)<.1)return;xe[t]=r,s.type="triangle",s.frequency.setValueAtTime(400,r),s.frequency.linearRampToValueAtTime(800,r+.2),n.gain.setValueAtTime(.05,r),n.gain.linearRampToValueAtTime(.01,r+.3),s.start(r),s.stop(r+.3)}else t==="levelup"?[440,554,659,880].forEach((i,l)=>{const c=z.createOscillator(),o=z.createGain();c.connect(o),o.connect(z.destination),c.type="square",c.frequency.value=i,o.gain.setValueAtTime(.05,r+l*.1),o.gain.exponentialRampToValueAtTime(.001,r+l*.1+.3),c.start(r+l*.1),c.stop(r+l*.1+.3)}):t==="boss"?(s.type="sawtooth",s.frequency.setValueAtTime(50,r),s.frequency.linearRampToValueAtTime(100,r+1),n.gain.setValueAtTime(.3,r),n.gain.linearRampToValueAtTime(.01,r+1.5),s.start(r),s.stop(r+1.5)):t==="alarm"?(s.type="square",s.frequency.setValueAtTime(800,r),s.frequency.setTargetAtTime?s.frequency.setTargetAtTime(400,r+.2,.1):s.frequency.linearRampToValueAtTime(400,r+.5),n.gain.setValueAtTime(.1,r),n.gain.linearRampToValueAtTime(.01,r+1),s.start(r),s.stop(r+1)):t==="punch"?(s.type="triangle",s.frequency.setValueAtTime(200,r),s.frequency.exponentialRampToValueAtTime(50,r+.1),n.gain.setValueAtTime(.2,r),n.gain.exponentialRampToValueAtTime(.01,r+.2),s.start(r),s.stop(r+.2)):t==="drone"&&(s.type="sawtooth",s.frequency.setValueAtTime(800,r),s.frequency.linearRampToValueAtTime(1200,r+.1),s.frequency.linearRampToValueAtTime(400,r+.4),n.gain.setValueAtTime(.1,r),n.gain.exponentialRampToValueAtTime(.01,r+.4),s.start(r),s.stop(r+.4))},dt=(t,s=1)=>{if(s=Number.isFinite(s)?Math.max(0,s):1,t.cleanCash=Number.isFinite(t.cleanCash)?t.cleanCash:0,t.dirtyCash=Number.isFinite(t.dirtyCash)?t.dirtyCash:0,t.payroll?.isStriking)return t;t.productionRates={};let n=Object.values(t.inv).reduce((g,w)=>g+w,0);const r=Ce(t),a=(g,w=1)=>{const h=r-n,b=Math.min(w,Math.max(0,h));b<=0||(t.inv[g]=(t.inv[g]||0)+b,t.stats.produced[g]=(t.stats.produced[g]||0)+b,t.lifetime&&(t.lifetime.produced[g]=(t.lifetime.produced[g]||0)+b),t.productionRates[g]||(t.productionRates[g]={produced:0,sold:0}),t.productionRates[g].produced+=b,n+=b)},i=(g,w,h,b)=>{if(g<=0)return;const _=1+V(t,"prod_speed")+me(t,"prod_speed"),k=Ae(t.staffHiredDates?.[b])/100,R=g*h*s*_*(1+k),S=Math.floor(R),H=R-S,F=S+(Math.random()<H?1:0);F>0&&a(w,F)},l=t.staff.junkie||0;if(l>0){i(l,"hash_lys",x.staff.junkie.rates.hash_lys,"junkie"),i(l,"piller_mild",x.staff.junkie.rates.piller_mild,"junkie");const g=1-Math.pow(x.staff.junkie.survivalRate,l);Math.random()<g*s&&(t.staff.junkie=Math.max(0,t.staff.junkie-1),t.logs=[{msg:"En junkie d√∏de af en overdosis.",type:"warning",time:new Date().toLocaleTimeString()},...t.logs].slice(0,50))}const c=t.staff.grower||0;if(c>0){const g=t.upgrades.hydro?1.5:1;i(c,"hash_lys",x.staff.grower.rates.hash_lys*g,"grower"),t.level>=2&&i(c,"hash_moerk",x.staff.grower.rates.hash_moerk*g,"grower")}const o=t.staff.chemist||0;if(o>0&&t.level>=4){const g=t.upgrades.lab?1.5:1;i(o,"speed",x.staff.chemist.rates.speed*g,"chemist"),t.level>=5&&(i(o,"mdma",x.staff.chemist.rates.mdma*g,"chemist"),i(o,"keta",x.staff.chemist.rates.keta*g,"chemist"))}const d=t.staff.importer||0;d>0&&t.level>=7&&(i(d,"coke",x.staff.importer.rates.coke,"importer"),t.level>=8&&(i(d,"benzos",x.staff.importer.rates.benzos,"importer"),i(d,"svampe",x.staff.importer.rates.svampe,"importer")));const u=t.staff.labtech||0;u>0&&t.level>=10&&(t.level>=10&&i(u,"oxy",x.staff.labtech.rates.oxy,"labtech"),t.level>=11&&i(u,"heroin",x.staff.labtech.rates.heroin,"labtech"),t.level>=12&&i(u,"fentanyl",x.staff.labtech.rates.fentanyl,"labtech"));let f=1;t.heat>=x.production.heatPenalties.critical.threshold?f=x.production.heatPenalties.critical.val:t.heat>=x.production.heatPenalties.high.threshold?f=x.production.heatPenalties.high.val:t.heat>=x.production.heatPenalties.med.threshold&&(f=x.production.heatPenalties.med.val);const p=t.upgrades.network?.75:1,m=(g,w,h,b,_)=>{const k=t.inv[w]||0;if(k<=0)return;const R=Ae(t.staffHiredDates?.[_])/100,S=g*h*f*s*(1+R),H=Math.floor(S),F=S-H;let P=H+(Math.random()<F?1:0);if(t.activeBuffs?.hype>Date.now()&&(P*=2),P=Math.min(k,P),P>0){t.inv[w]-=P;const v=t.prices[w],C=t.market?.multiplier||1,j=1+V(t,"sales_boost")+me(t,"sales_boost"),N=t.prestige?.multiplier||1,M=Math.floor(P*v*C*j*N);M>0&&L("cash"),t.dirtyCash+=M,t.lifetime&&(t.lifetime.dirtyEarnings=(t.lifetime.dirtyEarnings||0)+M),t.lastTick.dirty+=M;const T=1+V(t,"xp_boost")+me(t,"xp_boost"),D=t.luxuryItems?.includes("penthouse")?1.5:1;t.xp+=Math.floor(M*.1*T*D);const I=t.modifiers?.heatMult||1,K=Math.max(.1,1-V(t,"heat_reduce")),q=Math.max(.1,1-V(t,"shadow_network")),W=t.luxuryItems?.includes("jet")?.5:1,G=P*b*p*I*K*q*W*.4;t.heat=Math.min(500,t.heat+G),t.stats.sold+=P,t.productionRates[w]||(t.productionRates[w]={produced:0,sold:0}),t.productionRates[w].sold+=P}};return t.isSalesPaused||Object.keys(x.production).forEach(g=>{if(t.autoSell[g]===!1)return;const w=x.production[g];let h=0,b=0,_=0;g==="hash_lys"||g==="piller_mild"?(h=t.staff.pusher||0,b=x.staff.pusher.rates[g]||.5,_=w.heatGain||.02):g==="hash_moerk"||g==="speed"||g==="mdma"||g==="keta"?(h=t.staff.distributor||0,b=x.staff.distributor.rates[g]||.3,_=w.heatGain||.1):["coke","benzos","svampe","oxy","heroin","fentanyl"].includes(g)&&(h=t.staff.trafficker||0,b=x.staff.trafficker.rates[g]||x.staff.trafficker.rates.default,_=w.heatGain||.5);let k=null;g==="hash_lys"||g==="piller_mild"?k="pusher":g==="hash_moerk"||g==="speed"||g==="mdma"||g==="keta"?k="distributor":["coke","benzos","svampe","oxy","heroin","fentanyl"].includes(g)&&(k="trafficker"),h>0&&k&&m(h,g,b,_,k)}),t},mt=(t,s,n)=>{if(t.heat>=x.events.heatWarnings.critical&&!t.heatWarning90?(t.logs=[{msg:n("events.critical_heat"),type:"error",time:new Date().toLocaleTimeString()},...t.logs].slice(0,50),t.heatWarning90=!0,L("alarm")):t.heat<x.events.heatWarnings.critical-5&&(t.heatWarning90=!1),t.heat>=x.events.heatWarnings.high&&t.heat<x.events.heatWarnings.critical&&!t.heatWarning70?(t.logs=[{msg:n("events.high_heat"),type:"warning",time:new Date().toLocaleTimeString()},...t.logs].slice(0,50),t.heatWarning70=!0):t.heat<x.events.heatWarnings.low&&(t.heatWarning70=!1),t.boss.active&&t.boss.hp<t.boss.maxHp&&(t.boss.hp=Math.min(t.boss.maxHp,t.boss.hp+x.boss.regenRate*s)),t.level>=3&&t.rival.hostility<100&&(t.rival.hostility+=.05*s),!t.pendingEvent){const i=Math.random(),l=t.heat/1e3*s;if(t.heat>40&&i<l){const d=V(t,"raid_defense")||0,u=Math.random()<d,f=t.defense.guards*x.defense.guards.defenseVal+t.defense.cameras*x.defense.cameras.defenseVal+t.defense.bunker*x.defense.bunker.defenseVal,p=Math.random()*100;let m=t.heat>x.events.heatWarnings.critical?"high":t.heat>x.events.heatWarnings.high?"med":"low";const g=p+(m==="high"?50:m==="med"?20:0);if(u||f>g)t.heat=Math.max(0,t.heat-(m==="high"?30:10)),t.pendingEvent={type:"raid",data:{type:"police",result:"win",title:n(m==="high"?"events.raid_won_title_high":"events.raid_won_title_low"),msg:n(u?"events.raid_won_msg_auto":"events.raid_won_msg_def"),lost:{}}};else{const w=Math.floor(t.dirtyCash*(m==="high"?x.raid.penalties.high:m==="med"?x.raid.penalties.med:x.raid.penalties.low));let h="hash_moerk",b=0;Object.keys(t.inv).forEach(k=>{t.inv[k]>0&&t.prices[k]>b&&(b=t.prices[k],h=k)});const _=Math.floor((t.inv[h]||0)*(m==="high"?.8:m==="med"?.3:0));t.dirtyCash-=w,t.inv[h]=Math.max(0,(t.inv[h]||0)-_),t.heat=m==="high"?20:Math.max(0,t.heat-10),t.hardcore?t.pendingEvent={type:"raid",data:{type:"police",result:"loss",title:n("events.hardcore_game_over"),msg:n("events.raid_lost_hardcore_msg",{cash:w.toLocaleString(),product:_,type:h}),lost:{cash:w,product:_},hardcoreWipe:!0}}:t.pendingEvent={type:"raid",data:{type:"police",result:"loss",title:n(m==="high"?"events.raid_lost_title_high":"events.raid_lost_title_low"),msg:n("events.raid_lost_msg",{cash:w.toLocaleString(),product:_,type:h}),lost:{cash:w,product:_}}}}}const c=t.rival.strength||100,o=(t.rival.hostility-50)/2e3*(c/100)*s;if(t.level>=3&&t.rival.hostility>50&&Math.random()<o)if(t.territories.length>0&&Math.random()<.2){const d=t.territories[Math.floor(Math.random()*t.territories.length)];if(!t.territoryAttacks?.[d]){const u=Math.floor(50+t.level*10+c*.5);t.territoryAttacks={...t.territoryAttacks,[d]:{startTime:Date.now(),strength:u,expiresAt:Date.now()+6e4}},t.logs=[{msg:n("events.territory_attack_msg",{id:d}),type:"error",time:new Date().toLocaleTimeString()},...t.logs].slice(0,50),L("alarm")}}else{const d=(t.defense.guards||0)*x.defense.guards.defenseVal,u=["Lille A","Baronen","Onkel J","Slagteren fra Valby"],f=u[Math.floor(Math.random()*u.length)];if(d>20+t.level*5)t.rival.hostility=Math.max(0,t.rival.hostility-20),t.logs=[{msg:`[RIVAL] ${f} pr√∏vede at ramme dig, men dine vagter skr√¶mte dem v√¶k!`,type:"success",time:new Date().toLocaleTimeString()},...t.logs].slice(0,50);else{const p=Math.floor(t.dirtyCash*.1);t.dirtyCash-=p,t.pendingEvent={type:"story",data:{title:`${f}: Drive-by!`,msg:n("events.drive_by_msg",{cash:p.toLocaleString()}),type:"rival"}},t.rival.hostility=Math.max(0,t.rival.hostility-10)}}if(t.heat>80&&t.territories.length>0&&Math.random()<.02*s){const d=t.territories[Math.floor(Math.random()*t.territories.length)],u=t.territoryLevels[d]||1;u>1&&(t.territoryLevels[d]=u-1,t.logs=[{msg:`[OMR√ÖDE] P√• grund af det h√∏je Heat er kontrollen over ${d} faldet!`,type:"error",time:new Date().toLocaleTimeString()},...t.logs].slice(0,50))}t.territoryAttacks&&Object.keys(t.territoryAttacks).forEach(d=>{const u=t.territoryAttacks[d];if(Date.now()>u.expiresAt){const f=t.territoryLevels[d]||1;f>1?(t.territoryLevels[d]=f-1,t.logs=[{msg:n("events.territory_lost_level",{id:d}),type:"error",time:new Date().toLocaleTimeString()},...t.logs].slice(0,50)):(t.dirtyCash=Math.max(0,t.dirtyCash-25e3),t.logs=[{msg:n("events.territory_looted",{id:d}),type:"error",time:new Date().toLocaleTimeString()},...t.logs].slice(0,50));const p={...t.territoryAttacks};delete p[d],t.territoryAttacks=p}})}if(t.heat>0){const i=x.heat.decay*s,l=(t.staff.lawyer||0)*.15*s,c=me(t,"heat_decay")*s;t.heat=Math.max(0,t.heat-(i+l+c))}if(t.nextNewsEvent||(t.nextNewsEvent=x.news[Math.floor(Math.random()*x.news.length)]),Math.random()<.02*s){const i=t.nextNewsEvent;t.logs=[{msg:`[NEWS] ${n(i.msg)}`,type:i.type,time:new Date().toLocaleTimeString()},...t.logs].slice(0,50),t.nextNewsEvent=x.news[Math.floor(Math.random()*x.news.length)]}const r=x.boss.triggerLevel;if(!t.boss.active&&!t.pendingEvent&&t.level>=r&&t.level%r===0){const i=t.boss.lastDefeatedLevel||0;if(t.level>i){const l=100+t.level*50,c=5+t.level*2,o=100+t.level*10;t.boss.active=!0,t.boss.hp=l,t.boss.maxHp=l,t.boss.playerHp=o,t.boss.playerMaxHp=o,t.boss.attackDamage=c,t.boss.enraged=!1,t.boss.startTime=Date.now(),t.boss.lastAttackTime=Date.now(),t.pendingEvent={type:"boss",data:{title:n("events.boss_spawn_title"),msg:n("events.boss_spawn_msg",{level:t.level}),type:"error"}}}}const a=V(t,"politician")||0;return a>0&&(t.cleanCash+=50*a*s),t.luxuryItems?.includes("ghostmode")&&t.activeBuffs?.ghostMode&&Date.now()<t.activeBuffs.ghostMode&&(t.heat=0),t.luxuryItems?.includes("island")&&(t.heat=Math.min(20,t.heat)),t};let ce=[];const ht=.02,le=(t,s,n="cash",r=10)=>{for(let a=0;a<r;a++){const i=Math.random()*Math.PI*2,l=Math.random()*5+2;ce.push({x:t,y:s,vx:Math.cos(i)*l,vy:Math.sin(i)*l-3,life:1,rotation:Math.random()*Math.PI*2,rotationSpeed:(Math.random()-.5)*.2,color:ut(n),size:Math.random()*5+3,type:n})}},ut=t=>{switch(t){case"cash":return"#10b981";case"dirty":return"#ef4444";case"xp":return"#3b82f6";case"gold":return"#fbbf24";case"diamond":return"#00d9ff";default:return"#ffffff"}},xt=(t,s,n)=>{if(ce.length!==0){t.clearRect(0,0,s,n);for(let r=ce.length-1;r>=0;r--){const a=ce[r];a.x+=a.vx,a.y+=a.vy,a.vy+=.2,a.life-=ht,a.rotation+=a.rotationSpeed,t.globalAlpha=a.life,t.fillStyle=a.color,t.save(),t.translate(a.x,a.y),t.rotate(a.rotation),a.type==="cash"||a.type==="dirty"?t.fillRect(-a.size/2,-a.size/2*.6,a.size,a.size*.6):a.type==="diamond"?(t.beginPath(),t.moveTo(0,-a.size),t.lineTo(a.size,0),t.lineTo(0,a.size),t.lineTo(-a.size,0),t.closePath(),t.fill()):(t.beginPath(),t.arc(0,0,a.size/2,0,Math.PI*2),t.fill()),t.restore(),a.life<=0&&ce.splice(r,1)}}},pt=t=>{const s=t.level||1,n=["produce","sell","launder"],r=n[Math.floor(Math.random()*n.length)];let a={},i="",l="",c={money:0,xp:0};if(r==="produce"){const o=Object.keys(x.production).filter(p=>x.production[p].unlockLevel<=s),d=o[Math.floor(Math.random()*o.length)],u=x.production[d],f=10+Math.floor(Math.random()*10*s);a={type:"produce",item:d,amount:f},i=`Levering: ${u.name}`,l=`En kunde mangler ${f}x ${u.name}. F√• produktionen i gang.`,c={money:0,xp:f*50}}else if(r==="sell"){const o=50+Math.floor(Math.random()*50*s);a={type:"sell",amount:o},i="Gade Salg",l=`Vi skal af med varerne. S√¶lg ${o} enheder totalt.`,c={money:o*10,xp:o*10}}else if(r==="launder"){const o=1e3+Math.floor(Math.random()*1e3*s);a={type:"launder",amount:o},i="Hvidvask",l=`Sorte penge lugter. Vask ${o} kr.`,c={money:0,xp:o/10}}return c.money===0&&(c.money=1e3*s),{id:`contract_${Date.now()}`,title:i,text:l,req:a,reward:c,isDaily:!0,expiry:Date.now()+36e5}},ft=t=>{let s=x.missions.find(n=>!t.completedMissions.includes(n.id));return s&&s.reqLevel&&t.level<s.reqLevel&&(s=null),t.activeStory=s,t.contracts||(t.contracts={active:null,lastCompleted:0}),!t.contracts.active&&Date.now()-(t.contracts.lastCompleted||0)>6e4&&(t.contracts.active=pt(t),t.logs=[{msg:"Ny Kontrakt Tilg√¶ngelig hos Sultanen!",type:"info",time:new Date().toLocaleTimeString()},...t.logs].slice(0,50)),t.dailyMission=t.contracts.active,s&&(t=Me(t,s)),t.contracts.active&&(t=Me(t,t.contracts.active)),t},Me=(t,s)=>{let n=!1;const r=s.req,{type:a,item:i,role:l,id:c}=r,o=Math.max(1,r.amount||0);if(s.isDaily&&!s.startStats&&(s.startStats={produced:{...t.stats.produced},sold:t.stats.sold,laundered:t.stats.laundered}),a==="produce"){const d=t.stats.produced[i]||0,u=s.isDaily&&s.startStats?.produced?.[i]||0;d-u>=o&&(n=!0)}else if(a==="sell"){const d=t.stats.sold,u=s.isDaily&&s.startStats?.sold||0;d-u>=o&&(n=!0)}else if(a==="launder"){const d=t.stats.laundered,u=s.isDaily&&s.startStats?.laundered||0;d-u>=o&&(n=!0)}else a==="hire"?(t.staff[l]||0)>=o&&(n=!0):a==="upgrade"?(t.upgrades[c]||0)>=1&&(n=!0):a==="defense"?(t.defense?.[c]||0)>=o&&(n=!0):a==="conquer"&&t.territories.length>=o&&(n=!0);if(n){L("success"),typeof window<"u"&&le(window.innerWidth/2,window.innerHeight/2,"gold",30);const{money:d,xp:u}=s.reward||{money:0,xp:0};d>0&&(t.cleanCash+=d),u>0&&(t.xp+=u),t.logs=[{msg:`OPGAVE UDF√òRT: ${s.title} - Du modtog ${d>0?E(d)+" kr":""}${d>0&&u>0?" og ":""}${u>0?u+" XP":""}.`,type:"success",time:new Date().toLocaleTimeString()},...t.logs].slice(0,50),s.isDaily?(t.contracts.active=null,t.contracts.lastCompleted=Date.now(),t.dailyMission=null,t.pendingEvent={type:"story",data:{title:"KONTRAKT UDF√òRT",msg:`Sultanen betaler: ${E(d)} kr.`,type:"success"}}):(t.completedMissions=[...t.completedMissions,s.id],s.id==="m20"?(t.pendingEvent={type:"story",data:{title:"LEGENDEN",msg:`Du er Kongen af K√∏benhavn.

Du har vundet spillet.

Du kan forts√¶tte med at opbygge din formue, eller STARTE FORFRA (Prestige) for at f√• permanente bonusser under 'Imperiet'.`,type:"success",isEndgame:!0}},t.hasSeenEndgameMsg=!0):t.pendingEvent={type:"story",data:{title:"OPGAVE UDF√òRT",msg:`Sultanen er tilfreds.

Du modtog: ${d>0?E(d)+" kr":""} ${u>0?u+" XP":""}`,type:"success"}})}return t},Be=(t,s,n)=>{s=Number.isFinite(s)?Math.max(0,s):1;let r={...t,stats:{...t.stats,produced:{...t.stats.produced},history:{...t.stats?.history}},crypto:{...t.crypto,prices:{...t.crypto.prices},history:{...t.crypto.history},wallet:{...t.crypto.wallet}},boss:{...t.boss},rival:{...t.rival},prestige:{...t.prestige,perks:{...t.prestige?.perks}},lifetime:{...t.lifetime,produced:{...t.lifetime.produced}},upgrades:{...t.upgrades},defense:{...t.defense},territoryLevels:{...t.territoryLevels},bank:{...t.bank},lastTick:{...t.lastTick},missionChoices:{...t.missionChoices},activeBuffs:{...t.activeBuffs},market:{...t.market},completedMissions:[...t.completedMissions],unlockedAchievements:[...t.unlockedAchievements],logs:t.logs};if(r.cleanCash=Number.isFinite(r.cleanCash)?J(r.cleanCash):0,r.dirtyCash=Number.isFinite(r.dirtyCash)?J(r.dirtyCash):0,r.heat=Number.isFinite(r.heat)?J(Math.max(0,Math.min(x.gameMechanics.maxHeat,r.heat))):0,r.level=Number.isFinite(r.level)&&r.level>0?Math.floor(r.level):1,r.xp=Number.isFinite(r.xp)?Math.max(0,r.xp):0,r=it(r,s),r=dt(r,s),r=ft(r),r=mt(r,s,n),r.pendingEvent?.data?.hardcoreWipe)return{...be(),settings:r.settings,pendingEvent:r.pendingEvent,hardcore:!0};r.cleanCash=Number.isFinite(r.cleanCash)?J(r.cleanCash):0,r.dirtyCash=Number.isFinite(r.dirtyCash)?J(r.dirtyCash):0,r.heat=Number.isFinite(r.heat)?J(r.heat):0,r.xp=Number.isFinite(r.xp)?r.xp:0;const a=x.gameMechanics.maxCash;return r.cleanCash=Math.max(0,Math.min(a,r.cleanCash)),r.dirtyCash=Math.max(-a,Math.min(a,r.dirtyCash)),r.heat=Math.max(0,Math.min(x.gameMechanics.maxHeat,r.heat)),r.nextLevelXp=Math.floor(x.leveling.baseXp*Math.pow(x.leveling.expFactor,r.level)),r.xp>=r.nextLevelXp&&(r.level+=1,r.nextLevelXp=Math.floor(x.leveling.baseXp*Math.pow(x.leveling.expFactor,r.level)),r.logs=[{msg:`${n("active_feed.level_up")} ${r.level}: ${n(`ranks.${r.level-1}`)||"Kingpin"}`,type:"success",time:new Date().toLocaleTimeString()},...r.logs].slice(0,50)),r},gt=(t,s)=>{switch(s.type){case"TICK":{const n=s.payload?.dt||1,r=s.payload?.t||(a=>a);return Be(t,n,r)}case"SET_STATE":{const n=s.payload,r=typeof n=="function"?n(t):n;return(!Number.isFinite(r.cleanCash)||r.cleanCash<0)&&(console.warn("OMEGA GUARD: Corrupted Clean Cash detected. Resetting to 0.",r.cleanCash),r.cleanCash=0),(!Number.isFinite(r.dirtyCash)||r.dirtyCash<0)&&(console.warn("OMEGA GUARD: Corrupted Dirty Cash detected. Resetting to 0.",r.dirtyCash),r.dirtyCash=0),r}case"ADD_FLOAT":return(t.floats||[]).length>20?t:{...t,floats:[...(t.floats||[]).slice(-19),s.payload]};case"REMOVE_FLOAT":return{...t,floats:(t.floats||[]).filter(n=>n.id!==s.payload)};case"TRIGGER_SHAKE":return{...t,isShaking:!0};case"CLEAR_SHAKE":return{...t,isShaking:!1};case"UNLOCK_ACHIEVEMENT":return t.unlockedAchievements?.includes(s.payload)?t:{...t,unlockedAchievements:[...t.unlockedAchievements||[],s.payload]};case"SPECIALIZE_TERRITORY":{const{territoryId:n,spec:r}=s.payload,a=t.territoryLevels[n]||1;return!t.territories.find(i=>i.id===n)||a<5||t.territorySpecs&&t.territorySpecs[n]?t:{...t,territorySpecs:{...t.territorySpecs||{},[n]:r}}}default:return t}},bt=(t,s)=>{if(!t.lastSaveTime)return{state:t,report:null};const n=s-t.lastSaveTime,r=Math.floor(n/1e3);if(r<60)return{state:t,report:null};const a=720*60*60,i=Math.min(r,a),l=60,c=Math.floor(i/l);let o={time:Math.floor(i/60),earnings:0,cleanEarnings:0,laundered:0,salaryPaid:0,produced:{},raids:{attempted:0,defended:0,lost:0,moneyLost:0},isSimulated:!0};const d=t.cleanCash,u=t.dirtyCash,f=t.stats.laundered,p={...t.stats.produced},m=b=>b;let g=t;const w=Date.now;let h=t.lastSaveTime;try{Date.now=()=>h;for(let b=0;b<c;b++)h+=l*1e3,g=Be(g,l,m)}catch(b){console.error("Offline simulation error:",b)}finally{Date.now=w}return o.cleanEarnings=g.cleanCash-d,o.earnings=g.dirtyCash-u,o.laundered=g.stats.laundered-f,Object.keys(g.stats.produced).forEach(b=>{const _=g.stats.produced[b]-(p[b]||0);_>0&&(o.produced[b]=_)}),g.lastSaveTime=s,{state:g,report:o}},Fe=y.createContext(null),vt=({children:t})=>{const{t:s}=O(),n=()=>{let d=be();const u=localStorage.getItem(de);if(u)try{let f;u.startsWith("{")?f=JSON.parse(u):f=JSON.parse(decodeURIComponent(escape(atob(u)))),d=tt(f)}catch(f){console.error("Save corrupted",f)}if(d.lastSaveTime){const{state:f,report:p}=bt(d,Date.now());d=f,p&&(d.offlineReport=p,d.logs=[{msg:`Velkommen tilbage! Netto Indtjening: ${Math.floor(p.earnings+p.cleanEarnings).toLocaleString()} kr.`,type:"success",time:new Date().toLocaleTimeString()},...d.logs].slice(0,50))}return d},[r,a]=y.useReducer(gt,null,n);y.useEffect(()=>{let u=Date.now(),f;const p=()=>{const m=Date.now(),g=m-u;if(g>=100){const w=g/1e3,h=Math.min(w,1);a({type:"TICK",payload:{dt:h,t:s}}),u=m}f=requestAnimationFrame(p)};return f=requestAnimationFrame(p),()=>cancelAnimationFrame(f)},[s]);const i=y.useRef(r);y.useEffect(()=>{i.current=r},[r]),y.useEffect(()=>{const d=setInterval(()=>{const f=i.current;if(!f)return;const p={...f,lastSaveTime:Date.now()};delete p.offlineReport;try{const m=btoa(unescape(encodeURIComponent(JSON.stringify(p))));localStorage.setItem(de,m)}catch(m){console.error("Save failed",m)}},x.autoSaveInterval),u=()=>{if(window.__syndicate_os_resetting)return;const f=i.current;if(!f)return;const p={...f,lastSaveTime:Date.now()};try{const m=btoa(unescape(encodeURIComponent(JSON.stringify(p))));localStorage.setItem(de,m)}catch(m){console.error("Critical Save Failed",m)}};return window.addEventListener("beforeunload",u),()=>{clearInterval(d),window.removeEventListener("beforeunload",u)}},[]);const l=y.useCallback((d,u,f,p="text-white")=>{const m=Date.now()+Math.random();a({type:"ADD_FLOAT",payload:{id:m,text:d,x:u,y:f,color:p}}),setTimeout(()=>{a({type:"REMOVE_FLOAT",payload:m})},800)},[a]),c=y.useCallback(()=>{a({type:"TRIGGER_SHAKE"}),setTimeout(()=>{a({type:"CLEAR_SHAKE"})},150)},[a]),o=y.useMemo(()=>({state:r,dispatch:a,addFloat:l,triggerShake:c}),[r,a,l,c]);return e.jsx(Fe.Provider,{value:o,children:t})},Ke=()=>{const t=y.useContext(Fe);if(!t)throw new Error("useGame must be used within a GameProvider");return t},yt=(t,s,n)=>{const{t:r}=O();y.useEffect(()=>{if(!t)return;const a=t.unlockedAchievements||[];x.achievements.forEach(i=>{if(a.includes(i.id))return;let l=!1;const{type:c,val:o,item:d,coin:u}=i.req;if(c==="dirty"&&(t.lifetime?.dirtyEarnings||0)>=o&&(l=!0),c==="clean"&&(t.lifetime?.laundered||0)>=o&&(l=!0),c==="territory"&&t.territories.length>=o&&(l=!0),c==="prod"&&(t.lifetime?.produced?.[d]||0)>=o&&(l=!0),c==="prestige"&&(t.prestige?.level||0)>=o&&(l=!0),c==="crypto"&&(t.crypto?.wallet?.[u]||0)>=o&&(l=!0),c==="stealth"&&t.heat===0&&t.dirtyCash>=1e6&&(l=!0),c==="clean_streak"&&t.cleanCash>=o&&t.dirtyCash===0&&(l=!0),c==="inventory"&&Object.values(t.inv).reduce((f,p)=>f+p,0)>=o&&(l=!0),c==="time"&&(t.gameTime||0)/60>=o&&(l=!0),l){s({type:"UNLOCK_ACHIEVEMENT",payload:i.id});const f=r(`achievements.${i.id}.name`)||i.name;n(`${r("events.achievement_unlocked")||"ACHIEVEMENT UNLOCKED"}: ${f}!`,"success")}})},[t,s,n,r])},Ge=y.createContext(null),kt=({children:t})=>{const[s,n]=y.useState("production"),[r,a]=y.useState(!1),[i,l]=y.useState(!1),[c,o]=y.useState(null),[d,u]=y.useState(null),[f,p]=y.useState(1),[m,g]=y.useState(!1),[w,h]=y.useState(!1),b=y.useCallback(()=>{a(!1),l(!1),o(null),u(null)},[]),_={activeTab:s,setActiveTab:n,settingsModal:r,setSettingsModal:a,helpModal:i,setHelpModal:l,welcomeModalData:c,setWelcomeModalData:o,raidModalData:d,setRaidModalData:u,buyAmount:f,setBuyAmount:p,showBoot:m,setShowBoot:g,showDrone:w,setShowDrone:h,closeAllModals:b};return e.jsx(Ge.Provider,{value:_,children:t})},U=()=>{const t=y.useContext(Ge);if(!t)throw new Error("useUI must be used within UIProvider");return t},jt=(t,s)=>{const{setRaidModalData:n,raidModalData:r}=U(),a=!!r;y.useEffect(()=>{if(!t)return;const i=()=>{L("click"),s(l=>({...l,tutorialStep:(l.tutorialStep||0)+1}))};t.tutorialStep===0&&(t.stats?.produced?.hash_lys||0)>=5&&i(),t.tutorialStep===1&&(t.stats?.sold||0)>=5&&i(),t.tutorialStep===2&&(t.stats?.laundered||0)>=100&&i(),t.tutorialStep===3&&(t.staff?.pusher||0)>=1&&(i(),n({title:"SYNDIKATET ER F√òDT",msg:"Velkommen til familien. Du har l√¶rt reglerne. Sultanen har flere opgaver til dig under Sultan fanen.",type:"story",onClose:()=>{}}))},[t?.stats?.produced?.hash_lys,t?.stats?.sold,t?.stats?.laundered,t?.staff?.pusher,t?.tutorialStep,s,n,t]),y.useEffect(()=>{t&&t.tutorialStep===0&&t.level===1&&!t.welcomeShown&&n({title:"VELKOMMEN TIL GADEN",msg:"H√∏r her, kn√¶gt. Du starter p√• bunden, men jeg ser potentiale. Jeg har installeret en 'Live Assistant' i dit system (Nederst til h√∏jre). F√∏lg den.",type:"story",onClose:()=>{s(i=>({...i,welcomeShown:!0}))}})},[t?.level,t?.tutorialStep,s,n,a])},wt=()=>{const{setActiveTab:t,closeAllModals:s}=U();y.useEffect(()=>{const n=r=>{r.target.tagName==="INPUT"||r.target.tagName==="TEXTAREA"||(r.key==="1"&&t("sultan"),r.key==="2"&&t("production"),r.key==="3"&&t("network"),r.key==="4"&&t("finance"),r.key==="5"&&t("management"),r.key==="6"&&t("empire"),r.key==="Escape"&&s())};return window.addEventListener("keydown",n),()=>window.removeEventListener("keydown",n)},[t,s])},Nt=(t,s)=>{const{setWelcomeModalData:n}=U();y.useEffect(()=>{t&&t.offlineReport&&(n(t.offlineReport),s({type:"SET_STATE",payload:r=>{const a={...r};return delete a.offlineReport,a}}))},[s,n,t])},_t=(t,s)=>{const{setRaidModalData:n,raidModalData:r}=U(),a=y.useCallback(l=>s({type:"SET_STATE",payload:l}),[s]);y.useEffect(()=>{if(t?.pendingEvent){const l=t.pendingEvent;n(l.data?{...l.data,type:l.type}:{type:l.type,...l}),setTimeout(()=>{s({type:"SET_STATE",payload:c=>({...c,pendingEvent:null})})},100)}},[t?.pendingEvent,s,n]);const i=t.pendingEvent?.type==="raid"||r&&(r.type==="raid"||!r.result);return{setGameState:a,isRaid:i}},Ct=t=>{const s=x.boss.combat,n=t.boss.damagePerClick||x.boss.damagePerClick,r=V(t,"boss_dmg"),a=Math.floor((t.defense.guards*x.defense.guards.defenseVal+t.defense.cameras*x.defense.cameras.defenseVal+t.defense.bunker*x.defense.bunker.defenseVal)*s.defenseSynergy),i=Math.random()<s.critChance,l=i?s.critMult:1,c=Math.floor(t.level*s.bossDefScale),o=Math.max(1,Math.floor((n+r)*l+a)-c),d=t.boss.hp-o,u=Date.now(),f=u-(t.boss.lastAttackTime||u),p=t.boss.enraged?s.enragedInterval:s.attackInterval;let m=t.boss.playerHp,g=!1,w=i?"punch":"click";if(f>=p){const k=t.boss.enraged?Math.floor(t.boss.attackDamage*1.5):t.boss.attackDamage;m=Math.max(0,t.boss.playerHp-k),g=!0,w="error"}const b=d/t.boss.maxHp<s.enrageThreshold&&!t.boss.enraged;if(m<=0){const k=Math.floor(t.dirtyCash*s.cashLossRatio);return{newState:{...t,boss:{...t.boss,active:!1,playerHp:t.boss.playerMaxHp},heat:t.heat+15,dirtyCash:t.dirtyCash-k,logs:[{msg:`üíÄ BOSS BESEJREDE DIG! Mistede ${E(k)} kr og fik +15 Heat.`,type:"error",time:new Date().toLocaleTimeString()},...t.logs].slice(0,50),pendingEvent:{type:"story",data:{title:"NEDERLAG",msg:`Bossen var for st√¶rk. Du flygtede med skader og mistede ${E(k)} kr.`,type:"error"}}},ui:{damage:o,isCrit:i},sound:"error"}}if(d<=0){const R=u-t.boss.startTime<s.speedBonusTime?s.speedBonusMult:1,S=(t.boss.lastDefeatedLevel||0)<t.level,H=1+me(t,"xp_boost"),F=Math.floor(x.boss.reward.money*(1+t.level*.5)*R),P=Math.floor(x.boss.reward.xp*(1+t.level*.2)*R*H);let v=`‚öîÔ∏è BOSS BESEJRET! Drop: ${E(F)} kr & ${E(P)} XP`;R>1&&(v+=" (‚ö° Speed Bonus: +50%)");let C=[...t.unlockedAchievements||[]];return S&&(v+=" & [RELIC] BOSS KEY (Tier 2 Unlocked)",C.push("boss_key_tier2")),{newState:{...t,boss:{...t.boss,active:!1,hp:0,lastDefeatedLevel:t.level,playerHp:t.boss.playerMaxHp},completedMissions:[...t.completedMissions,"boss_defeated"],unlockedAchievements:C,xp:t.xp+P,dirtyCash:t.dirtyCash+F,logs:[{msg:v,type:"success",time:new Date().toLocaleTimeString()},...t.logs],pendingEvent:{type:"story",data:{title:"BYENS NYE KONGE",msg:`Du har knust Bossen! Dit ry vokser eksplosivt.

"Ingen kan stoppe mig nu!"`,type:"success"}}},ui:{damage:o,isCrit:i},sound:"success"}}let _=t.logs;return b&&(_=[{msg:"üî• BOSS ER RASENDE! Angreb √∏get!",type:"warning",time:new Date().toLocaleTimeString()},...t.logs].slice(0,50)),{newState:{...t,boss:{...t.boss,hp:d,playerHp:m,enraged:b||t.boss.enraged,lastAttackTime:g?u:t.boss.lastAttackTime},logs:_},ui:{damage:o,isCrit:i},sound:w}},St=(t,s,n,r,a)=>{const{setRaidModalData:i,setActiveTab:l}=U(),c=y.useCallback((v=!1)=>{!v&&!confirm("ER DU SIKKER? DETTE SLETTER ALT FREMSKRIDT PERMANENT!")||(localStorage.removeItem(de),localStorage.removeItem("syndicate_lang"),window.__syndicate_os_resetting=!0,window.location.reload())},[]),o=y.useCallback(()=>{const v=btoa(unescape(encodeURIComponent(JSON.stringify(t))));navigator.clipboard.writeText(v).then(()=>r("Gemt data kopieret til udklipsholder!","success"))},[t,r]),d=v=>{const C=v.target.files[0];if(!C)return;const j=new FileReader;j.onload=N=>{try{const M=N.target.result,T=JSON.parse(decodeURIComponent(escape(atob(M)))),D=JSON.stringify(T),I=btoa(unescape(encodeURIComponent(D)));localStorage.setItem(de,I),window.__syndicate_os_resetting=!0,window.location.reload()}catch(M){console.error("Import failed",M),r("Import fejlede: Ugyldigt format.","error")}},j.readAsText(C)},u=y.useCallback(()=>{if(t.level<10||t.cleanCash<x.prestige.threshold||!confirm("ER DU SIKKER? DETTE NULSTILLER ALT MEN GIVER DIG EN PERMANENT FORDEL!"))return;const v=t.lifetime?.earnings||0,{base:C,scale:j,divisor:N,logBase:M}=x.prestige.formula,T=Math.max(C,Math.floor(Math.log10(Math.max(1,v/M))*j)/N),D={level:(t.prestige?.level||0)+1,multiplier:T,currency:(t.prestige?.currency||0)+Math.floor(T/2)+1,perks:t.prestige?.perks||{}},I=t.prestige?.perks?.offshore_accounts||0,K=I>0?Math.floor(t.cleanCash*(I*.05)):0,q=be(),W={...q,prestige:D,cleanCash:Math.max(5e4,K),lifetime:t.lifetime||q.lifetime,logs:[{msg:`VELKOMMEN TIL DIT NYE LIV. Prestige Level ${D.level}. Multiplier: x${D.multiplier}`,type:"success",time:new Date().toLocaleTimeString()}]};K>0&&W.logs.push({msg:`OFFSHORE: ${E(K)} kr overf√∏rt til ny identitet.`,type:"info",time:new Date().toLocaleTimeString()}),s(W),i({type:"story",result:"win",title:"EXIT SCAM SUCCESSFUL",msg:`Du slap v√¶k med pengene! Nyt liv startet med x${D.multiplier} indtjening.`}),l("production"),L("success")},[t,s,i,l]),f=y.useCallback(v=>{s(C=>{if(!C.boss.active)return C;const j=Ct(C);return a&&a(),j.sound&&L(j.sound),v&&j.ui&&v(j.ui.damage,j.ui.isCrit),j.newState})},[s,a]);y.useEffect(()=>{const v=C=>{const{id:j,cost:N}=C.detail;s(M=>{const T=M.prestige?.currency||0;if(T<N)return L("error"),M;const D=M.prestige?.perks?.[j]||0;return L("success"),{...M,prestige:{...M.prestige,currency:T-N,perks:{...M.prestige.perks,[j]:D+1}},logs:[{msg:`K√∏bte Perk: ${j} (Lvl ${D+1})`,type:"success",time:new Date().toLocaleTimeString()},...M.logs].slice(0,50)}})};return window.addEventListener("BUY_PERK",v),()=>window.removeEventListener("BUY_PERK",v)},[s]),y.useEffect(()=>{t?.settings?.numberFormat&&rt(t.settings.numberFormat)},[t?.settings?.numberFormat]);const p=y.useCallback(v=>{s(C=>{if(v.processed)return C;let j={...C},N="";switch(v.type){case"buy_cheap_equip":if(C.cleanCash>=5e3)j.cleanCash-=5e3,j.upgrades.warehouse+=1,N="K√∏bte billigt lagerudstyr (Police Auction)",L("cash");else return L("error"),C;break;case"bribe_police":if(C.dirtyCash>=1e4)j.dirtyCash-=1e4,j.heat=Math.max(0,j.heat-20),N="Bestak lokalbetjenten (-20 Heat)",L("coin");else return L("error"),C;break;default:return C}const M=C.logs.map(T=>T.action===v?{...T,action:null,msg:`${T.msg} (UDNYTTET)`}:T);return{...j,logs:[{msg:N,type:"success",time:new Date().toLocaleTimeString()},...M]}})},[s]),m=y.useCallback(()=>{s(v=>{const C=x.rivals.sabotageCost;if(v.cleanCash<C)return v;const j=Math.max(0,(v.rival?.strength||100)-10),N=Math.max(0,(v.rival?.hostility||0)-25);return{...v,cleanCash:v.cleanCash-C,rival:{...v.rival,hostility:N,strength:j},logs:[{msg:`SABOTAGE SUCCESS! Rivalens styrke reduceret til ${j}%`,type:"success",time:new Date().toLocaleTimeString()},...v.logs].slice(0,50)}}),L("click")},[s]),g=y.useCallback(()=>{s(v=>{const C=Date.now(),j=v.rival.lastRaidTime||0,N=Math.max(0,3e4-(C-j));if(N>0)return r(`Vent ${Math.ceil(N/1e3)}s f√∏r n√¶ste raid!`,"error"),L("error"),v;if(v.heat>80)return r("For varmt til at angribe! Vent til Heat falder.","error"),v;const M=x.rivals.raidChance;if(Math.random()<M){const T=15e3+Math.floor(Math.random()*35e3);return L("cash"),a&&a(),{...v,dirtyCash:v.dirtyCash+T,heat:v.heat+15,rival:{...v.rival,hostility:(v.rival?.hostility||0)+10,lastRaidTime:C},logs:[{msg:`SUCCESS! Stjal ${E(T)} kr fra Rivalen!`,type:"success",time:new Date().toLocaleTimeString()},...v.logs].slice(0,50)}}else return L("error"),{...v,heat:v.heat+25,rival:{...v.rival,hostility:(v.rival?.hostility||0)+20,lastRaidTime:C},logs:[{msg:"RAZZIA FEJLEDE! Rivalen forsvarede sig. Heat steg!",type:"error",time:new Date().toLocaleTimeString()},...v.logs].slice(0,50)}})},[s,r]),w=y.useCallback(v=>{s(C=>C.rival.occupiedTerritories?.includes(v)?Math.random()<.7?(L("success"),{...C,heat:C.heat+10,rival:{...C.rival,occupiedTerritories:C.rival.occupiedTerritories.filter(M=>M!==v),hostility:Math.max(0,(C.rival.hostility||0)-10)},logs:[{msg:"OVERTAGET: Omr√•det er nu frit for Rivalens indflydelse!",type:"success",time:new Date().toLocaleTimeString()},...C.logs].slice(0,50)}):(L("error"),a&&a(),{...C,heat:C.heat+20,logs:[{msg:"FEJL: Rivalen slog dit angreb tilbage!",type:"error",time:new Date().toLocaleTimeString()},...C.logs].slice(0,50)}):C)},[s]),h=y.useCallback(()=>{s(v=>{const C=_e(v),j=x.police.bribeCost*(C.bribeMult||1);if(v.dirtyCash<j)return L("error"),v;const N=j*.1;return v.cleanCash<N?(r(`Fejl: Du mangler ${E(N)} kr (Hvid) til mellemmanden!`,"error"),L("error"),v):v.heat<=0?v:(L("coin"),{...v,dirtyCash:v.dirtyCash-j,cleanCash:v.cleanCash-N,heat:Math.max(0,v.heat-25),logs:[{msg:`Bestak betjenten (-25 Heat). Mellemmand fik ${E(N)} kr.`,type:"success",time:new Date().toLocaleTimeString()},...v.logs].slice(0,50)})})},[s,r]),b=y.useCallback((v,C)=>{s(j=>{if(j.missionChoices?.[v])return j;const N=C.effect,M=N.money<0?Math.abs(N.money):0;if(M>0&&j.cleanCash<M)return L("error"),j;let T={...j};return T.missionChoices={...T.missionChoices,[v]:!0},N.chance?Math.random()<N.chance?(N.success?.money&&(T.cleanCash+=N.success.money),L("success")):(N.fail?.heat&&(T.heat+=N.fail.heat),L("error")):(N.money&&(T.cleanCash+=N.money),N.rival&&(T.rival={...T.rival,hostility:(T.rival?.hostility||0)+N.rival}),N.heat&&(T.heat+=N.heat),L("click")),T})},[s]),_=y.useCallback(()=>{s(v=>{const C=x.marketing.hypeCost;return v.cleanCash<C?(L("error"),v):(L("success"),{...v,cleanCash:v.cleanCash-C,activeBuffs:{...v.activeBuffs,hype:Date.now()+12e4}})})},[s]),k=y.useCallback(()=>{s(v=>{const C=Math.floor(v.heat*500);return v.heat<5||v.cleanCash<C?(L("error"),v):(L("coin"),{...v,cleanCash:v.cleanCash-C,heat:Math.max(0,v.heat-10)})})},[s]),R=y.useCallback(v=>{s(C=>{const j=x.luxuryItems.find(N=>N.id===v);return!j||C.cleanCash<j.cost||C.luxuryItems?.includes(v)?(L("error"),C):(L("success"),{...C,cleanCash:C.cleanCash-j.cost,luxuryItems:[...C.luxuryItems||[],v],logs:[{msg:`K√òBT: Du ejer nu ${j.name}! Din respekt p√• gaden stiger.`,type:"success",time:new Date().toLocaleTimeString()},...C.logs].slice(0,50)})})},[s]),S=y.useCallback(v=>{s(C=>{const j=x.masteryPerks[v];return!j||C.diamonds<j.cost||C.masteryPerks?.[v]?(L("error"),C):(L("levelup"),{...C,diamonds:C.diamonds-j.cost,masteryPerks:{...C.masteryPerks,[v]:!0},logs:[{msg:`MASTERY L√ÖST OP: ${j.name} aktiveret!`,type:"success",time:new Date().toLocaleTimeString()},...C.logs].slice(0,50)})})},[s]),H=y.useCallback(()=>{s(v=>{if(v.cleanCash<5e4)return L("error"),v;const j=Math.max(0,(v.rival?.hostility||0)-30),N=Math.max(0,(v.rival?.strength||100)-15);return L("punch"),{...v,cleanCash:v.cleanCash-5e4,heat:v.heat+20*st(v),rival:{...v.rival,hostility:j,strength:N},logs:[{msg:"GADE-KRIG: Du angreb rivalens base! Hostility og styrke reduceret. (+20 Heat)",type:"danger",time:new Date().toLocaleTimeString()},...v.logs].slice(0,50)}}),a&&a()},[s,a]),F=y.useCallback(()=>{s(v=>{const C=x.crypto.marketInfluenceCost;return v.cleanCash<C?(L("error"),r(`Mangler ${E(C)} kr (Ren) for at fikse markedet!`,"error"),v):(L("cash"),{...v,cleanCash:v.cleanCash-C,market:{...v.market,trend:"bull",duration:120,multiplier:1.5},logs:[{msg:"MARKEDET ER FIKSET! Sultanen har talt. Alt stiger! (BULL MARKET)",type:"success",time:new Date().toLocaleTimeString()},...v.logs].slice(0,50)})})},[s,r]),P=y.useCallback(()=>{s(v=>{if(!v.luxuryItems?.includes("ghostmode"))return L("error"),r("Du skal eje Ghost Protocol System f√∏rst!","error"),v;const C=Date.now(),j=v.ghostModeLastActivated||0,N=Math.max(0,36e5-(C-j));if(N>0){const M=Math.ceil(N/6e4);return L("error"),r(`Ghost Protocol er p√• cooldown! ${M} min tilbage.`,"error"),v}return L("success"),{...v,activeBuffs:{...v.activeBuffs,ghostMode:C+6e5},ghostModeLastActivated:C,logs:[{msg:"üï∂Ô∏è GHOST PROTOCOL AKTIVERET! 10 minutter heat immunity.",type:"success",time:new Date().toLocaleTimeString()},...v.logs].slice(0,50)}})},[s,r]);return{hardReset:c,exportSave:o,importSave:d,doPrestige:u,attackBoss:f,handleNewsAction:p,sabotageRival:m,raidRival:g,liberateTerritory:w,bribePolice:h,handleMissionChoice:b,buyHype:_,buyBribeSultan:k,purchaseLuxuryItem:R,purchaseMasteryPerk:S,strikeRival:H,activateGhostMode:P,triggerMarketTrend:F}},Tt=({onComplete:t})=>{const{t:s}=O(),[n,r]=y.useState("login"),[a,i]=y.useState([]),[l,c]=y.useState(0),o=y.useRef(null),d=[s("boot.init"),s("boot.mounting"),s("boot.proxy"),s("boot.bypassing"),s("boot.spoofing"),s("boot.connecting"),s("boot.handshake"),s("boot.decrypting"),s("boot.syncing"),s("boot.intel"),s("boot.access")];y.useEffect(()=>{o.current&&(o.current.scrollTop=o.current.scrollHeight)},[a]);const u=()=>{r("connecting");let f=0;const p=setInterval(()=>{f<d.length?(i(m=>[...m,`[${new Date().toLocaleTimeString()}] ${d[f]}`]),c((f+1)/d.length*100),f++):(clearInterval(p),setTimeout(()=>{r("complete"),t()},800))},120)};return e.jsxs("div",{className:"fixed inset-0 bg-[#020402] z-[9999] flex items-center justify-center font-mono overflow-hidden select-none",children:[e.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_center,rgba(0,255,100,0.05)_0%,transparent_70%)] pointer-events-none"}),e.jsx("div",{className:"absolute inset-0 bg-[repeating-linear-gradient(0deg,rgba(0,255,0,0.02)_0px,transparent_1px,transparent_2px)] opacity-50 pointer-events-none"}),e.jsx("div",{className:"absolute top-0 left-0 w-full h-[2px] bg-theme-success/10 shadow-[0_0_15px_rgba(16,185,129,0.3)] animate-[scan_4s_linear_infinite] pointer-events-none"}),e.jsx("div",{className:"max-w-4xl w-full px-6 flex flex-col items-center",children:n==="login"?e.jsxs("div",{className:"text-center space-y-12 animate-in fade-in zoom-in duration-700",children:[e.jsxs("div",{className:"relative inline-block",children:[e.jsxs("h1",{className:"text-6xl md:text-8xl font-black text-theme-text-primary tracking-[0.2em] italic uppercase",children:["SYNDICATE",e.jsx("span",{className:"text-theme-success drop-shadow-[0_0_15px_rgba(16,185,129,0.8)]",children:"OS"})]}),e.jsxs("div",{className:"absolute -bottom-4 right-0 text-[10px] text-theme-text-muted font-bold tracking-[0.5em] flex items-center gap-2",children:[e.jsx("span",{className:"w-2 h-2 rounded-full bg-theme-success animate-pulse"}),s("boot.logo_subtitle")]})]}),e.jsxs("div",{className:"relative group cursor-pointer",onClick:u,children:[e.jsx("div",{className:"absolute inset-0 bg-theme-success/20 blur-2xl group-hover:bg-theme-success/40 transition-all"}),e.jsx("button",{className:"relative px-12 py-5 bg-theme-bg-primary border-2 border-theme-success/50 text-theme-success rounded-lg font-black text-2xl tracking-[0.3em] uppercase hover:bg-theme-success hover:text-theme-bg-primary hover:shadow-[0_0_40px_rgba(16,185,129,0.4)] transition-all duration-300",children:s("boot.initialize_btn")}),e.jsx("p",{className:"mt-4 text-xs text-theme-text-muted font-bold tracking-widest uppercase opacity-60 group-hover:opacity-100 italic transition-opacity",children:s("boot.bio_check")})]})]}):e.jsxs("div",{className:"w-full max-w-2xl space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center px-4 py-2 border-b border-theme-border-subtle bg-theme-surface-base/5 rounded-t-lg",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-theme-danger/30"}),e.jsx("div",{className:"w-3 h-3 rounded-full bg-theme-warning/30"}),e.jsx("div",{className:"w-3 h-3 rounded-full bg-theme-success/30"})]}),e.jsx("div",{className:"text-[10px] text-theme-text-muted font-black tracking-widest",children:s("boot.connection_stable")})]}),e.jsxs("div",{ref:o,className:"h-80 bg-theme-bg-primary/80 border-x border-b border-theme-border-subtle p-6 overflow-y-auto custom-scrollbar font-mono text-sm leading-relaxed",children:[a.map((f,p)=>e.jsxs("div",{className:`mb-1 ${f.includes("SUCCESS")||f.includes("GRANTED")?"text-theme-success font-bold":"text-theme-text-secondary"}`,children:[e.jsxs("span",{className:"text-theme-text-muted mr-3 opacity-50",children:[f.split("] ")[0],"]"]}),f.split("] ")[1]]},p)),e.jsx("div",{className:"inline-block w-2 h-4 bg-theme-success animate-pulse"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-[10px] font-black text-theme-text-muted tracking-[0.2em] uppercase",children:[e.jsx("span",{children:s("boot.decrypting_nodes")}),e.jsxs("span",{children:[Math.floor(l),"%"]})]}),e.jsx("div",{className:"h-1 w-full bg-theme-border-subtle rounded-full overflow-hidden border border-theme-border-subtle",children:e.jsx("div",{className:"h-full bg-theme-success shadow-[0_0_10px_rgba(16,185,129,0.5)] transition-all duration-150",style:{width:`${l}%`}})})]})]})}),e.jsx("style",{children:`
                @keyframes scan {
                    from { transform: translateY(0); }
                    to { transform: translateY(100vh); }
                }
                .custom-scrollbar::-webkit-scrollbar {
                    width: 4px;
                }
                .custom-scrollbar::-webkit-scrollbar-track {
                    background: transparent;
                }
                .custom-scrollbar::-webkit-scrollbar-thumb {
                    background: rgba(16, 185, 129, 0.2);
                    border-radius: 10px;
                }
            `})]})},Et=({onCapture:t})=>{const[s,n]=y.useState(!1),[r,a]=y.useState(()=>({x:-100,y:Math.random()*(window.innerHeight-200)+100}));y.useEffect(()=>{const c=Date.now(),o=()=>{const f=(Date.now()-c)/5e3;if(f>=1){t(!1);return}a(p=>({...p,x:-100+(window.innerWidth+100)*f,y:p.y+Math.sin(f*Math.PI*4)*50})),s||requestAnimationFrame(o)},d=requestAnimationFrame(o);return()=>cancelAnimationFrame(d)},[s,t]);const i=l=>{l.stopPropagation(),!s&&(n(!0),le(l.clientX,l.clientY,"gold",20),setTimeout(()=>{t(!0)},500))};return e.jsx("div",{onClick:i,style:{transform:`translate(${r.x}px, ${r.y}px) scale(${s?1.5:1})`,opacity:s?0:1,transition:s?"all 0.5s ease-out":"none"},className:"fixed z-[60] cursor-pointer pointer-events-auto filter drop-shadow-[0_0_10px_rgba(255,215,0,0.5)]",children:e.jsxs("div",{className:"relative group",children:[e.jsx("i",{className:"fa-solid fa-plane-up text-4xl text-yellow-400 animate-pulse"}),e.jsx("div",{className:"absolute -top-2 -right-2 w-3 h-3 bg-red-500 rounded-full animate-ping"}),e.jsx("div",{className:"absolute inset-0 bg-yellow-500/20 rounded-full blur-xl scale-150 animate-pulse"})]})})},At=()=>{const t=y.useRef(null);return y.useEffect(()=>{const s=t.current,n=s.getContext("2d");let r;const a=()=>{s.width=window.innerWidth,s.height=window.innerHeight};window.addEventListener("resize",a),a();const i=()=>{xt(n,s.width,s.height),r=window.requestAnimationFrame(i)};return i(),()=>{window.removeEventListener("resize",a),window.cancelAnimationFrame(r)}},[]),e.jsx("canvas",{ref:t,className:"fixed inset-0 pointer-events-none z-50",style:{width:"100%",height:"100%"}})},ze=()=>{const{state:t}=Ke(),{t:s}=O(),[n,r]=y.useState(!1);if(!t.tutorialActive||(t.tutorialStep||0)>3)return null;const a=[{title:s("tutorial.step1.title"),text:s("tutorial.step1.text"),sub:s("tutorial.step1.sub"),icon:"fa-cannabis",progress:`${t.stats?.produced?.hash_lys||0} / 5`},{title:s("tutorial.step2.title"),text:s("tutorial.step2.text"),sub:s("tutorial.step2.sub"),icon:"fa-hand-holding-dollar",progress:`${t.stats?.sold||0} / 5`},{title:s("tutorial.step3.title"),text:s("tutorial.step3.text"),sub:s("tutorial.step3.sub"),icon:"fa-soap",progress:`${t.stats?.laundered||0} / 100`},{title:s("tutorial.step4.title"),text:s("tutorial.step4.text"),sub:s("tutorial.step4.sub"),icon:"fa-users",progress:`${t.staff?.pusher||0} / 1`}],i=t.tutorialStep||0,l=a[i];return l?n?e.jsx("div",{className:"fixed bottom-24 right-4 z-[90] pointer-events-auto animate-in slide-in-from-right duration-300",children:e.jsx("button",{onClick:()=>r(!1),className:"group bg-theme-surface-glass border border-theme-primary/50 rounded-full w-12 h-12 flex items-center justify-center shadow-[0_0_15px_rgba(99,102,241,0.3)] hover:scale-110 hover:border-theme-primary transition-all",children:e.jsxs("div",{className:"relative",children:[e.jsx("i",{className:`fa-solid ${l.icon} text-theme-primary text-lg group-hover:text-theme-text-primary transition-colors`}),e.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-theme-danger rounded-full border border-black animate-pulse"})]})})}):e.jsx("div",{className:"fixed bottom-24 md:bottom-6 right-4 md:right-6 z-[90] w-[calc(100vw-2rem)] md:w-80 pointer-events-auto",children:e.jsxs("div",{className:"bg-theme-surface-glass backdrop-blur-xl border border-theme-primary/30 rounded-lg p-4 shadow-[0_0_30px_rgba(99,102,241,0.15)] relative overflow-hidden animate-in slide-in-from-right duration-500",children:[e.jsx("div",{className:"absolute top-2 right-2 z-20",children:e.jsx("button",{onClick:()=>r(!0),className:"text-indigo-400/50 hover:text-white p-1 transition-colors",children:e.jsx("i",{className:"fa-solid fa-minus text-xs"})})}),e.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(rgba(18,16,255,0)_50%,rgba(0,0,0,0.25)_50%),linear-gradient(90deg,rgba(255,0,0,0.06),rgba(0,255,0,0.02),rgba(0,0,255,0.06))] bg-[length:100%_4px,3px_100%] pointer-events-none opacity-20"}),e.jsx("div",{className:"absolute top-0 left-0 w-full h-[1px] bg-theme-primary/50 animate-scan"}),e.jsxs("div",{className:"flex items-start gap-4 relative z-10",children:[e.jsx("div",{className:"w-10 h-10 rounded bg-theme-primary/20 text-theme-primary flex items-center justify-center border border-theme-primary/40 shrink-0 animate-pulse mt-1",children:e.jsx("i",{className:`fa-solid ${l.icon}`})}),e.jsxs("div",{className:"flex-1 pr-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-1",children:[e.jsxs("h4",{className:"text-[10px] font-black text-theme-primary tracking-widest uppercase",children:[s("tutorial.header")," // ",s("tutorial.step_label")," ",i+1]}),e.jsx("div",{className:"w-2 h-2 rounded-full bg-theme-primary animate-ping"})]}),e.jsx("h3",{className:"text-sm font-bold text-theme-text-primary leading-tight mb-1",children:l.title}),e.jsx("p",{className:"text-[11px] text-theme-text-secondary mb-2",children:l.text}),e.jsxs("p",{className:"text-[10px] text-theme-primary/80 font-mono bg-theme-primary/10 p-1.5 rounded border border-theme-primary/20",children:["> ",l.sub]}),e.jsx("div",{className:"mt-3",children:e.jsxs("div",{className:"flex items-center justify-between text-[9px] font-mono text-theme-text-muted mb-1",children:[e.jsx("span",{children:s("tutorial.status")}),e.jsx("span",{className:"text-theme-text-primary",children:l.progress})]})})]})]})]})}):null},A=({children:t,onClick:s,variant:n="primary",size:r="md",className:a="",disabled:i=!1,...l})=>{const c="font-terminal font-bold transition-colors duration-200 flex items-center justify-center uppercase tracking-wider relative overflow-hidden group border",o={sm:"px-3 py-1.5 text-xs",md:"px-4 py-2.5 text-sm",lg:"px-6 py-3 text-base",icon:"w-9 h-9 p-0 text-sm",icon_sm:"w-7 h-7 p-0 text-xs"},d={primary:"bg-[var(--colors-surface-elevated)] text-[var(--colors-text-primary)] border-[var(--colors-primary)] hover:bg-[var(--colors-primary)] hover:text-black shadow-[0_0_15px_rgba(0,255,65,0.2)]",secondary:"bg-[var(--colors-surface-elevated)] text-[var(--colors-text-primary)] border-[var(--colors-secondary)] hover:bg-[var(--colors-secondary)] hover:text-black shadow-[0_0_15px_rgba(176,38,255,0.2)]",danger:"bg-[var(--colors-surface-elevated)] text-[var(--colors-text-primary)] border-[var(--colors-danger)] hover:bg-[var(--colors-danger)] hover:text-white",warning:"bg-[var(--colors-surface-elevated)] text-[var(--colors-text-primary)] border-[var(--colors-warning)] hover:bg-[var(--colors-warning)] hover:text-black",ghost:"bg-transparent text-[var(--colors-text-secondary)] border-transparent hover:bg-[var(--colors-surface-elevated)] hover:text-[var(--colors-text-primary)]",neutral:"bg-[var(--colors-surface-elevated)] text-[var(--colors-text-primary)] border-[var(--colors-border-default)] hover:border-[var(--colors-border-emphasis)]"},u="opacity-30 cursor-not-allowed border-theme-text-muted/20 text-theme-text-muted/20",[f,p]=y.useState(!1),m=g=>{i||(L("click"),s&&s(g))};return e.jsx("button",{onClick:m,onMouseDown:()=>!i&&p(!0),onMouseUp:()=>p(!1),onMouseLeave:()=>p(!1),disabled:i,className:`${c} ${o[r]} ${d[n]} ${i?u:""} ${a}`,"aria-label":typeof t=="string"?t:void 0,role:"button",...l,children:e.jsx("span",{className:`relative z-10 flex items-center gap-2 transition-transform duration-100 pointer-events-none ${f?"scale-95":"scale-100"}`,children:t})})},Rt=({state:t,handleChoice:s,buyHype:n,buyBribe:r})=>{const{t:a}=O(),i=t.activeStory,l=t.dailyMission,[c,o]=B.useState(0);B.useEffect(()=>{o(Date.now());const p=setInterval(()=>o(Date.now()),1e3);return()=>clearInterval(p)},[]);const d=p=>t.activeBuffs?.[p]>c,u=p=>Math.floor((t.activeBuffs?.[p]-c)/1e3),f=p=>{if(!p)return{current:0,target:1,percent:0};let m=0;const{type:g,item:w,role:h,id:b}=p.req,_=Math.max(1,p.req.amount||0);if(p.isDaily){const R=p.startStats||{};g==="produce"&&(m=(t.stats.produced[w]||0)-(R.produced?.[w]||0)),g==="sell"&&(m=(t.stats.sold||0)-(R.sold||0)),g==="launder"&&(m=(t.stats.laundered||0)-(R.laundered||0))}else g==="produce"&&(m=t.stats.produced[w]||0),g==="sell"&&(m=t.stats.sold||0),g==="launder"&&(m=t.stats.laundered||0),g==="hire"&&(m=t.staff[h]||0),g==="conquer"&&(m=t.territories.length),g==="upgrade"&&(m=t.upgrades[b]||0),g==="defense"&&(m=t.defense?.[b]||0);const k=Math.min(100,Math.floor(m/_*100));return{current:Math.max(0,m),target:_,percent:isNaN(k)?0:k}};return e.jsxs("div",{className:"max-w-6xl mx-auto h-full flex flex-col gap-6",children:[e.jsxs("div",{className:"border-b border-theme-border-subtle pb-4",children:[e.jsxs("h2",{className:"text-2xl font-black uppercase tracking-tighter text-theme-warning flex items-center gap-3 font-terminal",children:[e.jsx("i",{className:"fa-solid fa-crown"})," ",a("sultan.title")]}),e.jsxs("div",{className:"mt-4 p-4 bg-theme-surface-elevated border-l-4 border-theme-warning rounded-r-xl relative overflow-hidden group",children:[e.jsx("div",{className:"absolute top-0 right-0 p-2 opacity-10 group-hover:opacity-20 transition-opacity",children:e.jsx("i",{className:"fa-solid fa-mosque text-6xl"})}),e.jsxs("div",{className:"relative z-10 flex gap-4 items-center",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-theme-warning/20 border border-theme-warning/30 flex items-center justify-center shrink-0",children:e.jsx("i",{className:"fa-solid fa-store text-xl text-theme-warning"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-bold text-theme-warning uppercase tracking-widest mb-1",children:x.pols.name}),e.jsxs("p",{className:"text-xs text-theme-text-primary italic leading-relaxed",children:['"',t.level>=10?a("sultan_greetings.level_10"):t.level>=5?a("sultan_greetings.level_5"):t.level>=2?a("sultan_greetings.level_2"):t.level>=1?a("sultan_greetings.level_1"):a("sultan_greetings.default"),'"']})]})]})]}),e.jsx("p",{className:"text-xs text-theme-text-secondary mt-3 leading-relaxed font-terminal uppercase tracking-widest opacity-60",children:a("sultan.subtitle")})]}),e.jsxs("div",{className:"bg-theme-surface-elevated border border-theme-border-subtle rounded-2xl p-4",children:[e.jsxs("h3",{className:"text-xs font-black text-theme-text-muted uppercase tracking-widest mb-4 flex items-center gap-2 border-b border-theme-border-subtle pb-2 font-terminal",children:[e.jsx("i",{className:"fa-solid fa-chart-line"})," ",a("sultan.stats_title")]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-mono font-bold text-theme-success",children:t.completedMissions?.length||0}),e.jsx("div",{className:"text-[10px] text-theme-text-muted uppercase font-terminal",children:a("sultan.completed")})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-mono font-bold text-theme-info",children:x.missions.length-(t.completedMissions?.length||0)}),e.jsx("div",{className:"text-[10px] text-theme-text-muted uppercase font-terminal",children:a("sultan.remaining")})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-2xl font-mono font-bold text-theme-warning",children:[Math.floor((t.completedMissions?.length||0)/x.missions.length*100),"%"]}),e.jsx("div",{className:"text-[10px] text-theme-text-muted uppercase font-terminal",children:a("sultan.progress")})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-1 space-y-4",children:e.jsxs("div",{className:"bg-theme-surface-elevated border border-theme-border-subtle rounded-2xl p-4 shadow-xl",children:[e.jsxs("h3",{className:"text-xs font-black text-theme-text-muted uppercase tracking-widest mb-3 flex items-center gap-2 border-b border-theme-border-subtle pb-2 font-terminal",children:[e.jsx("i",{className:"fa-solid fa-handshake"})," ",a("sultan.services_title")]}),e.jsx("p",{className:"text-xs text-theme-text-secondary mb-4 leading-relaxed font-terminal",children:a("sultan.services_desc")}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"p-3 bg-theme-surface-base rounded-xl border border-theme-border-subtle flex flex-col gap-2",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-bold text-theme-text-primary uppercase font-terminal",children:a("sultan.bribe_title")}),e.jsxs("div",{className:"text-[10px] text-theme-text-muted font-terminal",children:[a("sultan.bribe_desc")," ",e.jsxs("span",{className:"text-theme-info",children:[t.heat>0?E(Math.floor(t.heat*500)):0," kr"]})," (skalerer med heat)."]})]}),e.jsx("div",{className:"w-8 h-8 rounded bg-theme-info/20 text-theme-info flex items-center justify-center",children:e.jsx("i",{className:"fa-solid fa-scale-unbalanced"})})]}),e.jsxs(A,{onClick:r,disabled:t.cleanCash<Math.floor(t.heat*500)||t.heat<5,className:"w-full py-2 text-[10px] flex justify-between px-3 font-terminal",size:"sm",variant:"neutral",children:[e.jsxs("span",{children:[a("sultan.reduce_heat")," (-10)"]}),e.jsxs("span",{children:[t.heat>0?E(Math.floor(t.heat*500)):0," kr"]})]})]}),e.jsxs("div",{className:`p-3 rounded-xl border flex flex-col gap-2 transition-all ${d("hype")?"bg-theme-warning/10 border-theme-warning/30":"bg-theme-surface-base border-theme-border-subtle"}`,children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"text-xs font-bold text-theme-text-primary uppercase flex items-center gap-2 font-terminal",children:[a("sultan.hype_title"),d("hype")&&e.jsxs("span",{className:"text-[9px] bg-theme-warning text-theme-bg-primary px-1.5 rounded animate-pulse",children:[a("management.active").toUpperCase(),": ",u("hype"),"s"]})]}),e.jsx("div",{className:"text-[10px] text-theme-text-muted font-terminal",children:a("sultan.hype_desc")})]}),e.jsx("div",{className:`w-8 h-8 rounded flex items-center justify-center ${d("hype")?"bg-theme-warning text-theme-bg-primary animate-spin-slow":"bg-theme-warning/20 text-theme-warning"}`,children:e.jsx("i",{className:"fa-solid fa-bullhorn"})})]}),e.jsxs(A,{onClick:n,disabled:t.cleanCash<25e3||d("hype"),className:"w-full py-2 text-[10px] flex justify-between px-3 font-terminal",size:"sm",variant:d("hype")?"warning":"neutral",children:[e.jsx("span",{children:a("sultan.start_campaign")}),e.jsx("span",{children:"25k kr"})]})]}),e.jsxs("div",{className:`p-3 rounded-xl border flex flex-col gap-2 transition-all ${t.market?.trend==="bull"?"bg-theme-success/10 border-theme-success/30":"bg-theme-surface-base border-theme-border-subtle"}`,children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"text-xs font-bold text-theme-text-primary uppercase flex items-center gap-2 font-terminal",children:[a("sultan.market_title")||"Markedsmagt",t.market?.trend==="bull"&&e.jsxs("span",{className:"text-[9px] bg-theme-success text-theme-bg-primary px-1.5 rounded animate-pulse",children:[a("management.active").toUpperCase(),": ",Math.floor(t.market.duration),"s"]})]}),e.jsx("div",{className:"text-[10px] text-theme-text-muted font-terminal",children:a("sultan.market_desc")||"Betal Sultanen for at sprede rygter og skubbe markedet i vejret."})]}),e.jsx("div",{className:`w-8 h-8 rounded flex items-center justify-center ${t.market?.trend==="bull"?"bg-theme-success text-theme-bg-primary":"bg-theme-success/20 text-theme-success"}`,children:e.jsx("i",{className:"fa-solid fa-chart-line"})})]}),e.jsxs(A,{onClick:()=>triggerMarketTrend&&triggerMarketTrend(),disabled:t.cleanCash<x.crypto.marketInfluenceCost||t.market?.trend==="bull",className:"w-full py-2 text-[10px] flex justify-between px-3 font-terminal",size:"sm",variant:t.market?.trend==="bull"?"success":"neutral",children:[e.jsx("span",{children:a("sultan.fix_market")||"Fiks Markedet"}),e.jsxs("span",{children:[E(x.crypto.marketInfluenceCost)," kr"]})]})]}),e.jsxs("div",{className:`p-4 rounded-2xl border transition-all duration-500 overflow-hidden relative ${d("sultan_bribe")?"bg-theme-surface-elevated border-theme-primary/50 shadow-[0_0_30px_rgba(99,102,241,0.1)]":"bg-black/40 border-theme-border-subtle opacity-60"}`,children:[e.jsx("div",{className:"absolute top-0 right-0 p-3 opacity-20",children:e.jsx("i",{className:`fa-solid fa-eye-low-vision text-4xl ${d("sultan_bribe")?"text-theme-primary":"text-theme-text-muted"}`})}),e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center text-xl ${d("sultan_bribe")?"bg-theme-primary text-theme-bg-primary":"bg-theme-surface-base text-theme-text-muted"}`,children:e.jsx("i",{className:"fa-solid fa-satellite-dish"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-black text-theme-text-primary uppercase tracking-tight",children:a("sultan.intel_title")}),e.jsx("p",{className:"text-[10px] text-theme-text-muted uppercase tracking-widest",children:a("sultan.intel_desc")})]})]}),d("sultan_bribe")?e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"bg-black/60 rounded-xl p-4 border border-indigo-500/20 animate-in fade-in zoom-in-95 duration-500",children:[e.jsxs("div",{className:"text-[9px] font-bold text-indigo-400 uppercase mb-2 flex items-center gap-2",children:[e.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-indigo-500 animate-pulse"}),a("sultan.next_event")]}),e.jsxs("p",{className:"text-xs text-white font-medium leading-relaxed italic",children:['"',t.nextNewsEvent?.msg||a("sultan.waiting_signal"),'"']})]}),e.jsxs("div",{className:"text-[10px] text-zinc-500 bg-indigo-500/5 p-2 rounded-lg border border-indigo-500/10 text-center",children:[a("sultan.connection_stable")," ",u("sultan_bribe"),a("sultan.seconds_left")]})]}):e.jsxs("div",{className:"text-center py-6",children:[e.jsx("i",{className:"fa-solid fa-lock text-zinc-700 text-xl mb-2"}),e.jsx("p",{className:"text-[10px] text-zinc-600 font-bold uppercase",children:a("sultan.bribe_sultan")})]})]})]})]})}),e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[i&&e.jsx(Le,{mission:i,progress:f(i),title:a("sultan.main_mission"),handleChoice:s,state:t}),l&&e.jsx(Le,{mission:l,progress:f(l),title:a("sultan.daily_mission"),handleChoice:s,state:t}),!i&&!l&&(()=>{const p=x.missions.find(m=>!t.completedMissions.includes(m.id));return p&&p.reqLevel&&t.level<p.reqLevel?e.jsxs("div",{className:"bg-theme-surface-elevated border border-theme-warning/30 rounded-2xl p-6 shadow-[0_0_20px_rgba(251,191,36,0.1)]",children:[e.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-theme-warning/20 rounded-full flex items-center justify-center text-2xl text-theme-warning border border-theme-warning/30 shrink-0",children:e.jsx("i",{className:"fa-solid fa-lock"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-black text-theme-warning uppercase tracking-tight mb-1",children:a(`missions.${p.id}.title`)}),e.jsx("p",{className:"text-xs text-theme-text-muted uppercase tracking-wider",children:a("sultan.next_mission")})]})]}),e.jsxs("div",{className:"bg-black/40 border border-theme-warning/20 rounded-lg p-4 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("i",{className:"fa-solid fa-triangle-exclamation text-theme-warning"}),e.jsxs("span",{className:"text-sm font-bold text-theme-warning",children:[a("sultan.req_rank")," ",p.reqLevel]})]}),e.jsxs("p",{className:"text-xs text-theme-text-secondary",children:[a("sultan.you_are_rank")," ",t.level,": ",e.jsx("span",{className:"text-theme-text-primary font-bold",children:a(`ranks.${t.level-1}`)||"Kingpin"})]}),e.jsx("p",{className:"text-xs text-theme-text-muted mt-2",children:a("sultan.earn_xp")})]}),e.jsxs("div",{className:"bg-theme-surface-base rounded-lg p-3 border border-theme-border-subtle",children:[e.jsx("p",{className:"text-xs text-theme-text-secondary italic",dangerouslySetInnerHTML:{__html:`"${a(`missions.${p.id}.text`)}"`}}),e.jsxs("p",{className:"text-[10px] text-theme-text-muted mt-2",children:["- ",p.giver]})]})]}):null})(),!i&&!l&&(()=>{const p=x.missions.find(g=>!t.completedMissions.includes(g.id));return p&&p.reqLevel&&t.level<p.reqLevel?null:e.jsxs("div",{className:"h-full flex flex-col items-center justify-center bg-black/40 rounded-xl border border-theme-border-subtle p-8 text-center opacity-50 min-h-[300px]",children:[e.jsx("i",{className:"fa-solid fa-ban text-4xl text-theme-text-muted mb-4"}),e.jsx("h3",{className:"text-xl font-bold text-theme-text-secondary uppercase",children:a("sultan.no_contracts")}),e.jsx("p",{className:"text-theme-text-secondary text-sm max-w-xs mx-auto mt-2",children:a("sultan.no_contracts_desc")})]})})()]})]}),e.jsxs("div",{className:"bg-theme-surface-elevated border border-theme-warning/20 rounded-2xl p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6 border-b border-theme-border-subtle pb-4",children:[e.jsxs("h3",{className:"text-theme-warning font-black uppercase tracking-wider flex items-center gap-2 font-terminal",children:[e.jsx("i",{className:"fa-solid fa-trophy"})," ",a("sultan.achievements")]}),e.jsxs("div",{className:"text-xs text-theme-text-muted font-terminal",children:[t.unlockedAchievements?.length||0," / ",x.achievements.length," ",a("sultan.unlocked")]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:x.achievements.map(p=>{const m=(t.unlockedAchievements||[]).includes(p.id);return e.jsx("div",{className:`p-4 rounded-xl border transition-all ${m?"bg-theme-warning/10 border-theme-warning/30":"bg-zinc-900/30 border-theme-border-subtle opacity-50"}`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-xl shrink-0 ${m?"bg-theme-warning text-theme-bg-primary":"bg-theme-surface-base text-theme-text-muted"}`,children:e.jsx("i",{className:`fa-solid ${p.icon||"fa-star"}`})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"text-sm font-bold text-theme-text-primary font-terminal truncate",children:m||!p.secret?a(`achievements.${p.id}.name`):a("sultan.secret")}),e.jsx("div",{className:"text-[10px] text-theme-text-muted mt-1 font-terminal leading-tight",children:m||!p.secret?a(`achievements.${p.id}.desc`):a("achievements.locked_desc")}),m&&p.reward&&e.jsxs("div",{className:"text-[9px] text-theme-success mt-2 font-terminal",children:["+",p.reward," Diamonds"]})]})]})},p.id)})})]})]})},Le=({mission:t,progress:s,title:n,handleChoice:r,state:a})=>{const{t:i}=O(),l=a.missionChoices?.[t.id];return e.jsxs("div",{className:"bg-theme-surface-elevated rounded-xl border border-theme-border-subtle relative overflow-hidden flex flex-col min-h-[200px]",children:[e.jsx("div",{className:"absolute top-0 w-full h-1 bg-gradient-to-r from-amber-600 via-yellow-400 to-amber-600"}),e.jsxs("div",{className:"p-5 flex-1 flex flex-col",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"text-[9px] font-mono text-theme-warning/70 uppercase mb-1",children:[n," ‚Ä¢ ",t.isDaily?"FLASH_OPS":"STORY_CONTRACT"]}),e.jsx("h3",{className:"text-xl font-black text-theme-text-primary uppercase tracking-tighter",children:i(`missions.${t.id}.title`)})]}),e.jsx("div",{className:"w-10 h-10 rounded-full border border-theme-warning/30 bg-theme-warning/5 flex items-center justify-center text-theme-warning",children:e.jsx("i",{className:`fa-solid ${t.isDaily?"fa-bolt":"fa-file-signature"}`})})]}),e.jsx("p",{className:"text-theme-text-secondary text-xs italic mb-4 leading-relaxed line-clamp-2",dangerouslySetInnerHTML:{__html:`"${i(`missions.${t.id}.text`)}"`}}),e.jsxs("div",{className:"bg-black/40 p-3 rounded-lg border border-theme-border-subtle mb-4",children:[e.jsxs("div",{className:"flex justify-between text-[10px] font-mono mb-1",children:[e.jsx("span",{className:"text-theme-text-muted",children:"Status:"}),e.jsxs("span",{className:s.percent>=100?"text-theme-success":"text-theme-warning",children:[E(s.current)," / ",E(s.target)]})]}),e.jsx("div",{className:"w-full h-1.5 bg-theme-surface-base rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-theme-warning bg-gradient-to-r from-amber-600 to-yellow-500 transition-all duration-1000",style:{width:`${s.percent}%`}})})]}),e.jsxs("div",{className:"flex justify-between items-center gap-4",children:[e.jsxs("div",{className:"flex gap-2 text-[9px]",children:[e.jsxs("span",{className:"text-theme-success font-bold",children:["+",E(t.reward.money)," kr"]}),e.jsxs("span",{className:"text-theme-info font-bold",children:["+",t.reward.xp," XP"]})]}),t.choices&&e.jsx("div",{className:"flex gap-2",children:t.choices.map((c,o)=>{const d=c.effect.money||0,u=d>=0||a.cleanCash>=Math.abs(d);return e.jsx(A,{onClick:()=>r(t.id,c),disabled:l||!u,className:`px-2 py-1 text-[8px] font-bold uppercase truncate max-w-[120px] ${l?"opacity-30":""}`,size:"xs",variant:l?"ghost":"neutral",children:i(`missions.${t.id}.choices.${o}.text`)},o)})})]})]})]})},ve=({className:t=""})=>{const{buyAmount:s,setBuyAmount:n}=U();return e.jsxs("div",{className:`flex bg-theme-bg-primary/40 rounded-lg p-0.5 border border-theme-border-subtle ${t}`,children:[e.jsx(A,{onClick:()=>n(1),size:"icon",className:`!w-8 !h-8 ${s===1?"!bg-theme-surface-elevated !text-theme-text-primary":"!bg-transparent !text-theme-text-muted !border-transparent"}`,variant:"ghost",children:"1x"}),e.jsx(A,{onClick:()=>n(10),size:"icon",className:`!w-8 !h-8 ${s===10?"!bg-theme-surface-elevated !text-theme-text-primary":"!bg-transparent !text-theme-text-muted !border-transparent"}`,variant:"ghost",children:"10x"}),e.jsx(A,{onClick:()=>n("max"),size:"icon",className:`!w-10 !h-8 uppercase font-black text-[10px] ${s==="max"?"!bg-theme-surface-elevated !text-theme-text-primary":"!bg-transparent !text-theme-text-muted !border-transparent"}`,variant:"ghost",children:"Max"})]})},Te=({title:t,subtitle:s,icon:n,accentColor:r="primary",variant:a="underlined",className:i="",children:l})=>{const c={primary:{text:"text-theme-primary",border:"border-theme-primary",bg:"bg-theme-primary",shadow:"shadow-[0_0_15px_var(--colors-primary)]"},success:{text:"text-theme-success",border:"border-theme-success",bg:"bg-theme-success",shadow:"shadow-[0_0_15px_var(--colors-success)]"},warning:{text:"text-theme-warning",border:"border-theme-warning",bg:"bg-theme-warning",shadow:"shadow-[0_0_15px_var(--colors-warning)]"},danger:{text:"text-theme-danger",border:"border-theme-danger",bg:"bg-theme-danger",shadow:"shadow-[0_0_15px_var(--colors-danger)]"},info:{text:"text-theme-info",border:"border-theme-info",bg:"bg-theme-info",shadow:"shadow-[0_0_15px_var(--colors-info)]"},accent:{text:"text-theme-accent",border:"border-theme-accent",bg:"bg-theme-accent",shadow:"shadow-[0_0_15px_var(--colors-accent)]"}},o=c[r]||c.primary;return a==="contained"?e.jsxs("div",{className:`flex flex-col md:flex-row justify-between items-start md:items-center gap-4 bg-theme-surface-elevated p-6 rounded-2xl border border-theme-border-default shadow-xl relative overflow-hidden group ${i}`,children:[e.jsx("div",{className:`absolute inset-0 ${o.bg}/5 opacity-0 group-hover:opacity-100 transition-opacity duration-500`}),e.jsx("div",{className:`absolute left-0 top-0 bottom-0 w-1 ${o.bg} ${o.shadow}`}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("h2",{className:"text-3xl font-black text-theme-text-primary uppercase tracking-tighter mb-1 flex items-center gap-3",children:[n&&e.jsx("i",{className:`${n} ${o.text} text-2xl animate-pulse-slow`}),t]}),e.jsxs("p",{className:"text-theme-text-secondary text-sm font-mono flex items-center gap-2",children:[e.jsx("span",{className:`w-2 h-2 rounded-full ${o.bg} animate-pulse`}),s]})]}),e.jsx("div",{className:"relative z-10 flex items-center gap-4",children:l})]}):e.jsxs("div",{className:`flex flex-col md:flex-row justify-between items-end gap-6 border-b border-theme-border-default pb-8 relative ${i}`,children:[e.jsx("div",{className:`absolute -bottom-px left-0 w-32 h-[2px] ${o.bg} ${o.shadow}`}),e.jsxs("div",{children:[e.jsxs("h2",{className:"text-3xl font-black text-theme-text-primary uppercase tracking-tighter flex items-center gap-3",children:[n&&e.jsx("i",{className:`${n} ${o.text}`}),t]}),e.jsx("p",{className:"text-theme-text-secondary text-sm mt-1",children:s})]}),e.jsx("div",{className:"flex flex-col md:flex-row gap-4 items-end",children:l})]})},Mt=(t,s,n,r)=>{const{t:a}=O(),[i,l]=y.useState(null),[c,o]=y.useState(0);y.useEffect(()=>{const w=setInterval(()=>{const h=Date.now();if(o(h),!i&&t.territories.length>0&&Math.random()<.05){const b=t.territories[Math.floor(Math.random()*t.territories.length)];l({id:b,expires:h+1e4})}i&&h>i.expires&&l(null),t.territories.length>0&&s(b=>{const k=.5+Object.values(b.territoryLevels||{}).reduce((H,F)=>H+F,0)*.05;let R=(b.respect||0)+k,S=b.kingpinTokens||0;return R>=100&&(R=0,S+=1),{...b,respect:R,kingpinTokens:S}})},1e3);return()=>clearInterval(w)},[i,t.territories,s]);const d=y.useCallback(w=>{t.dirtyCash<w.baseCost||t.territories.includes(w.id)||(s(h=>({...h,dirtyCash:h.dirtyCash-w.baseCost,territories:[...h.territories,w.id],territoryLevels:{...h.territoryLevels,[w.id]:1},xp:h.xp+250})),n(a("network_interactive.logs.conquer",{area:w.name}),"success"))},[t.dirtyCash,t.territories,s,n,a]),u=y.useCallback((w,h)=>{const b=t.territoryLevels?.[w.id]||1,_=se(w.baseCost,1.8,b,h);t.dirtyCash<_||(s(k=>({...k,dirtyCash:k.dirtyCash-_,territoryLevels:{...k.territoryLevels,[w.id]:b+h}})),n(`Opgraderet ${w.name} x${h}`,"success"))},[t.territoryLevels,t.dirtyCash,s,n]),f=y.useCallback(w=>{const h=t.territoryAttacks?.[w];if(!h)return;const _=(t.defense.guards||0)*x.defense.guards.defenseVal>=h.strength,k=1e4;_?(s(R=>{const S={...R.territoryAttacks};return delete S[w],{...R,territoryAttacks:S,xp:R.xp+100}}),n(a("network_interactive.logs.defend",{area:w}),"success")):t.dirtyCash>=k?(s(R=>{const S={...R.territoryAttacks};return delete S[w],{...R,dirtyCash:R.dirtyCash-k,territoryAttacks:S}}),n(a("network_interactive.logs.defend",{area:w}),"success")):n("Du har ikke r√•d til lejesoldater, og dine vagter er for svage!","error")},[t.territoryAttacks,t.defense,t.dirtyCash,s,n,a]),p=y.useCallback(w=>{if(w==="drive_by"){if(t.dirtyCash<5e3)return n("Mangler 5.000 kr (Sort)!","error");s(b=>({...b,dirtyCash:b.dirtyCash-5e3,heat:b.heat+10,rival:{...b.rival,strength:Math.max(0,(b.rival?.strength||0)-50)}})),n(a("network_interactive.logs.drive_by",{cash:5e3,district:"Rival"}),"rival")}else if(w==="bribe"){if(t.dirtyCash<3e4)return n("Mangler 30.000 kr (Sort) til borgmesteren!","error");s(b=>({...b,dirtyCash:b.dirtyCash-3e4,heat:Math.max(0,b.heat-20)})),n(a("network_interactive.logs.bribe",{district:"City"}),"success")}else if(w==="stash_raid")Math.random()>.5?(s(_=>({..._,dirtyCash:_.dirtyCash+15e3})),n(`RAID SUCCES: Du stjal ${E(15e3)} kr!`,"success"),r&&r(15e3,"cheap")):(s(b=>({...b,heat:b.heat+15})),n("RAID FEJLEDE: Politiet dukkede op! (+15 Heat)","error"));else if(w==="heat_wipe"){if((t.kingpinTokens||0)<1)return n("Kr√¶ver 1 Kingpin Token!","error");s(h=>({...h,heat:0,kingpinTokens:(h.kingpinTokens||0)-1})),n("TOTAL HEAT WIPE: Gaden er tavs. Ingen har set noget.","success")}},[t.dirtyCash,t.kingpinTokens,s,n,r,a]),m=y.useCallback((w,h)=>{if(!i||i.id!==w)return;const b=h*10;s(_=>({..._,dirtyCash:_.dirtyCash+b,xp:_.xp+50})),n(`BESKYTTELSESPENGE: Inddrev ${E(b)} kr!`,"success"),r&&r(b,"dirty"),l(null)},[i,s,n,r]),g=y.useCallback((w,h)=>{s({type:"SPECIALIZE_TERRITORY",payload:{territoryId:w,spec:h}}),n(a("network.spec_chosen",{spec:{safe:"Safe",front:"Front",storage:"Lager"}[h]||h}),"success")},[s,n,a]);return{activeShakedown:i,now:c,conquer:d,upgradeTerritory:u,defendTerritory:f,performStreetOp:p,handleShakedown:m,specializeTerritory:g}},Lt=({state:t,setState:s,addLog:n,addFloat:r,liberateTerritory:a})=>{const[i,l]=B.useState(1),[c,o]=B.useState(null),{t:d}=O(),{activeShakedown:u,now:f,conquer:p,upgradeTerritory:m,defendTerritory:g,performStreetOp:w,handleShakedown:h,specializeTerritory:b}=Mt(t,s,n,r),_=v=>{if(!v||!x.districts?.[v])return null;const C=x.districts[v],j=C.req.filter(T=>t.territories.includes(T)).length,N=C.req.length;return{...C,ownedCount:j,total:N,isComplete:j===N}},k=x.territories.reduce((v,C)=>{const j=C.district||"other";return v[j]||(v[j]=[]),v[j].push(C),v},{}),R=["n√∏rrebro","city","vestegnen",...Object.keys(k).filter(v=>!["n√∏rrebro","city","vestegnen"].includes(v))],S=(t.heat||0)>80,H=t.territories.length,F=x.territories.length,P=B.useMemo(()=>{let v=0,C=0;return x.territories.forEach(j=>{if(t.territories.includes(j.id)){const N=t.territoryLevels?.[j.id]||1,M=Math.pow(1.5,N-1),T=j.income*M*(t.prestige?.multiplier||1);j.type==="clean"?v+=T:C+=T}}),{clean:v,dirty:C}},[t.territories,t.territoryLevels,t.prestige]);return e.jsxs("div",{className:`max-w-6xl mx-auto space-y-8 pb-32 transition-colors duration-1000 ${S?"shadow-[inset_0_0_100px_rgba(220,38,38,0.2)]":""}`,children:[e.jsxs(Te,{title:d("network.title"),subtitle:d("network.subtitle"),icon:"fa-solid fa-network-wired",accentColor:"primary",variant:"contained",children:[e.jsxs("div",{className:"flex items-center gap-4 bg-black/30 p-3 rounded-xl border border-theme-border-subtle backdrop-blur-sm",children:[e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-[10px] text-theme-text-muted uppercase tracking-widest font-bold",children:d("network.total_income")}),e.jsxs("div",{className:"text-xl font-mono font-bold text-theme-success drop-shadow-sm number-ticker",children:[E(P.dirty)," ",e.jsx("span",{className:"text-xs text-theme-text-muted",children:"kr/s"})]})]}),e.jsx("div",{className:"h-8 w-px bg-theme-border-default"}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-[10px] text-theme-text-muted uppercase tracking-widest font-bold",children:d("network.owned")}),e.jsxs("div",{className:"text-xl font-mono font-bold text-theme-primary drop-shadow-sm",children:[H," ",e.jsx("span",{className:"text-theme-text-muted",children:"/"})," ",F]})]})]}),e.jsxs("div",{className:"flex items-center gap-3 bg-black/40 p-2 pr-4 rounded-full border border-white/10",children:[e.jsxs("div",{className:"w-8 h-8 rounded-full bg-amber-500/10 flex items-center justify-center border border-amber-500/30 text-amber-400 relative shrink-0",children:[e.jsx("i",{className:"fa-solid fa-crown text-sm"}),(t.kingpinTokens||0)>0&&e.jsx("div",{className:"absolute -top-1 -right-1 bg-white text-black text-[9px] w-4 h-4 rounded-full flex items-center justify-center font-bold shadow-lg animate-bounce",children:t.kingpinTokens})]}),e.jsxs("div",{className:"flex flex-col min-w-[140px]",children:[e.jsxs("div",{className:"flex justify-between text-[9px] uppercase font-bold text-theme-text-muted mb-0.5",children:[e.jsx("span",{children:d("network.respect")}),e.jsxs("span",{className:t.kingpinTokens>0?"text-theme-warning":"text-theme-accent",children:[(t.respect||0).toFixed(0),"%"]})]}),e.jsx("div",{className:"h-1.5 bg-theme-surface-base rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-theme-primary via-theme-secondary to-theme-accent",style:{width:`${t.respect||0}%`}})})]})]}),e.jsx(ve,{buyAmount:i,setBuyAmount:l})]}),e.jsxs("div",{className:"grid grid-cols-4 gap-2 p-3 bg-theme-surface-elevated/40 rounded-xl border border-theme-border-subtle",children:[e.jsxs(A,{onClick:()=>w("drive_by"),variant:"danger",className:"flex flex-col gap-1 py-4 !text-[10px]",children:[e.jsx("i",{className:"fa-solid fa-car-side text-lg"}),e.jsx("span",{children:d("network_interactive.actions.drive_by")||d("network.ops.drive_by")})]}),e.jsxs(A,{onClick:()=>w("bribe"),variant:"neutral",className:"flex flex-col gap-1 py-4 !text-[10px] !border-theme-warning/30 !text-theme-warning",children:[e.jsx("i",{className:"fa-solid fa-handshake-simple text-lg"}),e.jsx("span",{children:d("network_interactive.actions.bribe")||d("network.ops.bribe")})]}),e.jsxs(A,{onClick:()=>w("stash_raid"),variant:"neutral",className:"flex flex-col gap-1 py-4 !text-[10px] !border-theme-success/30 !text-theme-success",children:[e.jsx("i",{className:"fa-solid fa-sack-dollar text-lg"}),e.jsx("span",{children:d("network_interactive.actions.raid")||d("network.ops.raid")})]}),e.jsxs(A,{onClick:()=>w("heat_wipe"),disabled:(t.kingpinTokens||0)<1,variant:"neutral",className:`flex flex-col gap-1 py-4 !text-[10px] relative overflow-hidden transition-all duration-300 ${(t.kingpinTokens||0)>=1?"!border-theme-accent !text-theme-accent shadow-[0_0_15px_rgba(99,102,241,0.3)]":"opacity-50 grayscale"}`,children:[(t.kingpinTokens||0)>=1&&e.jsx("div",{className:"absolute inset-0 bg-theme-accent/10 animate-pulse"}),e.jsx("i",{className:"fa-solid fa-temperature-arrow-down text-lg"}),e.jsx("span",{children:d("network_interactive.actions.heat_wipe")||d("network.ops.heat_wipe")})]})]}),e.jsx("div",{className:"space-y-8",children:R.map(v=>{const C=k[v];if(!C)return null;const j=_(v);return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between border-b border-theme-border-subtle pb-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("h3",{className:"text-sm font-black uppercase tracking-widest text-theme-text-muted",children:j?j.name:d(v==="elite"?"network.districts.elite":"network.districts.other")}),j&&e.jsx("div",{className:`text-[10px] font-mono px-2 py-0.5 rounded border ${j.isComplete?"bg-theme-success/20 border-theme-success text-theme-success animate-pulse":"bg-theme-surface-base/30 border-theme-border-subtle text-theme-text-secondary"}`,children:j.isComplete?d("network.bonus_active"):`${j.ownedCount}/${j.total}`})]}),j&&e.jsxs("div",{className:`text-[10px] font-mono ${j.isComplete?"text-theme-success font-bold":"text-theme-text-secondary"}`,children:[d("network.set_bonus"),": ",j.bonus]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:C.map(N=>{const M=t.territories.includes(N.id),T=t.level<N.reqLevel,D=t.territoryLevels?.[N.id]||1,I=t.territorySpecs?.[N.id],K=t.territoryAttacks?.[N.id],q=(t.defense.guards||0)*x.defense.guards.defenseVal,W=K&&q>=K.strength;let G=i;i==="max"&&(G=ae(N.baseCost,1.8,D,t.dirtyCash)),G<=0&&(G=1);const Q=se(N.baseCost,1.8,D,G),ye=t.dirtyCash>=N.baseCost,oe=t.dirtyCash>=Q&&(i!=="max"||G>0),ue=Math.floor(N.income*Math.pow(1.5,D-1)),re=N.type==="clean",ke=re?M?"bg-theme-success/10 border-theme-success/30":"bg-theme-surface-elevated/50 border-theme-border-subtle":M?"bg-theme-warning/10 border-theme-warning/30":"bg-theme-surface-elevated/50 border-theme-border-subtle",je=re?M?"bg-theme-success/10 text-theme-success":"bg-black/30 text-theme-text-muted":M?"bg-theme-warning/10 text-theme-warning":"bg-black/30 text-theme-text-muted",we=K?"bg-theme-danger/30 border-theme-danger animate-pulse":ke,Y=t.rival?.occupiedTerritories?.includes(N.id),te=u&&u.id===N.id;return e.jsxs("div",{onClick:()=>M&&!Y&&o(c===N.id?null:N.id),className:`relative p-4 rounded-xl border transition-all duration-300 overflow-hidden flex flex-col justify-between min-h-[160px] cursor-pointer group active:scale-[0.98] card-interactive ${we} ${T?"opacity-40 grayscale pointer-events-none":""} ${c===N.id?"ring-1 ring-theme-accent shadow-[0_0_20px_rgba(99,102,241,0.15)] z-10":""} ${Y?"border-theme-danger/50 shadow-[0_0_20px_rgba(239,68,68,0.1)]":""}`,children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-white/0 via-white/5 to-white/0 opacity-0 group-hover:opacity-100 transition-opacity duration-500 pointer-events-none"}),te&&e.jsx("div",{className:"absolute inset-0 z-50 bg-black/40 backdrop-blur-sm flex items-center justify-center animate-in fade-in zoom-in duration-200 cursor-pointer",onClick:$=>{$.stopPropagation(),h(N.id,ue)},children:e.jsxs("div",{className:"flex flex-col items-center animate-bounce-short relative",children:[e.jsx("div",{className:"absolute -inset-4 bg-yellow-500/20 blur-xl rounded-full animate-pulse"}),e.jsx("div",{className:"text-4xl drop-shadow-[0_0_15px_rgba(250,204,21,0.8)] relative z-10",children:"üí∞"}),e.jsx("div",{className:"bg-yellow-500 text-black font-black text-[10px] px-3 py-1 rounded-full mt-2 uppercase tracking-wide border border-white/20 shadow-lg relative z-10",children:d("network_interactive.overlay.shakedown")}),e.jsx("div",{className:"text-[9px] text-yellow-100 font-mono mt-1 relative z-10 bg-black/50 px-2 rounded",children:u.expires-f>0?((u.expires-f)/1e3).toFixed(1)+"s":"0s"})]})}),K&&!Y&&e.jsxs("div",{className:"absolute inset-0 z-20 bg-theme-surface-overlay backdrop-blur-sm flex flex-col items-center justify-center p-4 text-center animate-pulse border border-theme-danger/50 rounded-xl",children:[e.jsx("div",{className:"text-theme-text-primary font-black text-xl mb-1 drop-shadow-md tracking-tighter uppercase",children:d("network_interactive.overlay.attack")}),e.jsxs("div",{className:"text-xs text-theme-text-primary/90 mb-3 font-mono leading-tight",children:[d("network_interactive.overlay.strength"),": ",e.jsx("span",{className:"text-theme-danger font-bold",children:K.strength})," vs ",e.jsx("span",{className:W?"text-theme-success font-bold":"text-theme-warning font-bold",children:q})]}),e.jsx(A,{onClick:$=>{$.stopPropagation(),g(N.id)},variant:W?"primary":"danger",className:"w-full shadow-[0_0_20px_rgba(239,68,68,0.4)] font-bold !text-[10px] py-2",children:d(W?"network_interactive.overlay.defend_safe":"network_interactive.overlay.defend_merc")})]}),Y&&e.jsxs("div",{className:"absolute inset-0 bg-theme-danger/20 z-20 flex flex-col items-center justify-center p-4 backdrop-blur-sm animate-in fade-in zoom-in duration-300 border border-theme-danger/50 rounded-xl",children:[e.jsx("i",{className:"fa-solid fa-skull text-theme-danger text-3xl mb-2 animate-pulse"}),e.jsx("div",{className:"text-white font-black uppercase tracking-widest text-[9px] text-center mb-3",children:d("network_interactive.overlay.rival_occ")}),e.jsx(A,{onClick:$=>{$.stopPropagation(),a(N.id)},variant:"danger",className:"w-full text-[10px] font-bold py-2 shadow-[0_0_15px_rgba(220,38,38,0.4)]",children:d("network_interactive.overlay.liberate")})]}),e.jsxs("div",{className:"flex justify-between items-start mb-4 relative z-0",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center text-lg ${je} shadow-inner`,children:e.jsx("i",{className:`fa-solid ${re?"fa-building-columns":"fa-house-chimney-crack"}`})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-[9px] text-theme-text-muted font-bold uppercase tracking-wider",children:M?`Level ${D}`:`Lvl ${N.reqLevel}+`}),e.jsx("h4",{className:`font-black uppercase text-sm leading-tight ${M?"text-theme-text-primary":"text-theme-text-muted"}`,children:N.name})]})]}),M&&e.jsx("div",{className:`text-[10px] w-5 h-5 flex items-center justify-center rounded-full transition-colors ${c===N.id?"bg-theme-accent text-theme-text-inverse":"bg-theme-surface-base/10 text-theme-text-muted"}`,children:e.jsx("i",{className:`fa-solid fa-chevron-${c===N.id?"up":"down"}`})})]}),M&&D>=5&&e.jsx("div",{className:"mb-4",children:I?e.jsxs("div",{className:"flex items-center gap-2 p-2 rounded bg-theme-surface-base/30 border border-theme-border-subtle",children:[e.jsx("div",{className:"w-6 h-6 rounded bg-theme-accent/20 flex items-center justify-center text-theme-accent text-xs",children:e.jsx("i",{className:`fa-solid ${I==="safe"?"fa-shield-halved":I==="front"?"fa-shop":"fa-box"}`})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-[8px] text-theme-text-muted uppercase font-bold tracking-wider",children:d("network.specialization")}),e.jsx("div",{className:"text-[10px] text-theme-accent font-bold capitalize",children:I})]})]}):c===N.id&&e.jsxs("div",{className:"bg-theme-accent/10 border border-theme-accent/20 p-2 rounded relative overflow-hidden group/spec animate-in fade-in slide-in-from-top-2",children:[e.jsxs("div",{className:"text-[9px] text-theme-accent uppercase font-bold mb-1.5 flex justify-between items-center",children:[e.jsx("span",{className:"tracking-wider",children:d("network_interactive.actions.select_special")}),e.jsx("i",{className:"fa-solid fa-star text-theme-accent animate-spin-slow text-[8px]"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-1",children:[e.jsxs(A,{onClick:$=>{$.stopPropagation(),b(N.id,"safe")},size:"xs",variant:"ghost",className:"!text-[8px] flex flex-col gap-1 h-auto py-2 border border-theme-accent/10 hover:bg-theme-accent/20 hover:border-theme-accent/40",children:[e.jsx("i",{className:"fa-solid fa-shield-halved"})," Safe"]}),e.jsxs(A,{onClick:$=>{$.stopPropagation(),b(N.id,"front")},size:"xs",variant:"ghost",className:"!text-[8px] flex flex-col gap-1 h-auto py-2 border border-theme-accent/10 hover:bg-theme-accent/20 hover:border-theme-accent/40",children:[e.jsx("i",{className:"fa-solid fa-shop"})," Front"]}),e.jsxs(A,{onClick:$=>{$.stopPropagation(),b(N.id,"storage")},size:"xs",variant:"ghost",className:"!text-[8px] flex flex-col gap-1 h-auto py-2 border border-theme-accent/10 hover:bg-theme-accent/20 hover:border-theme-accent/40",children:[e.jsx("i",{className:"fa-solid fa-box"})," Lager"]})]})]})}),e.jsxs("div",{className:`transition-all duration-300 overflow-hidden ${c===N.id?"max-h-[300px] mb-4":"max-h-[36px] mb-4"}`,children:[e.jsxs("div",{className:"p-2 rounded border border-theme-border-subtle bg-black/20 flex items-center justify-between",children:[e.jsx("span",{className:"text-[9px] text-theme-text-muted uppercase tracking-wide",children:c===N.id?d("network_interactive.stats.income"):"INDT√ÜGT"}),e.jsxs("div",{className:`font-mono text-sm font-bold ${re?"text-theme-success":"text-theme-warning"}`,children:["+",E(ue)]})]}),c===N.id&&e.jsxs("div",{className:"mt-2 space-y-1 p-2 bg-theme-surface-base/5 rounded border border-theme-border-subtle animate-in fade-in slide-in-from-top-1",children:[e.jsxs("div",{className:"flex justify-between text-[10px]",children:[e.jsx("span",{className:"text-theme-text-muted",children:d("network_interactive.stats.base")}),e.jsx("span",{className:"text-theme-text-secondary font-mono",children:E(N.income)})]}),e.jsxs("div",{className:"flex justify-between text-[10px]",children:[e.jsx("span",{className:"text-theme-text-muted",children:d("network_interactive.stats.mult")}),e.jsxs("span",{className:"text-theme-accent font-mono",children:["x",Math.pow(1.5,D-1).toFixed(1)]})]}),e.jsxs("div",{className:"flex justify-between text-[10px] border-t border-theme-border-subtle pt-1 mt-1",children:[e.jsx("span",{className:"text-theme-text-muted",children:d("network_interactive.stats.next")}),e.jsxs("span",{className:"text-theme-success font-mono",children:["+",E(Math.floor(N.income*Math.pow(1.5,D+G-1)))]})]})]})]}),e.jsx("div",{onClick:$=>$.stopPropagation(),className:"relative z-10",children:M?e.jsxs(A,{onClick:()=>m(N,G),disabled:!oe,className:`w-full py-2 text-[10px] flex justify-between px-3 items-center group/btn transition-all duration-200 ${re?oe?"!bg-theme-success/10 !text-theme-success !border-theme-success/50 hover:!bg-theme-success/20":"":oe?"!bg-theme-warning/10 !text-theme-warning !border-theme-warning/50 hover:!bg-theme-warning/20":""}`,variant:"neutral",children:[e.jsxs("div",{className:"flex flex-col items-start leading-none",children:[e.jsx("span",{className:"font-bold",children:d("network_interactive.actions.upgrade")}),i!==1&&e.jsxs("span",{className:"text-[8px] opacity-70 mt-0.5",children:[G,"x Levels"]})]}),e.jsx("span",{className:"font-mono bg-black/30 px-1.5 py-0.5 rounded text-[9px] group-hover/btn:bg-black/50 transition-colors",children:E(Q)})]}):e.jsxs(A,{onClick:()=>p(N),disabled:T||!ye,className:"w-full py-2.5 text-[10px] uppercase tracking-wider font-bold",variant:"neutral",children:[d("network_interactive.actions.buy_area")," (",E(N.baseCost),")"]})})]},N.id)})})]},v)})})]})},Dt=({state:t,doPrestige:s,purchaseMastery:n})=>{const{t:r}=O(),{buyAmount:a}=U();return e.jsxs("div",{className:"max-w-4xl mx-auto pb-20",children:[e.jsxs("div",{className:"relative mb-12 p-8 rounded-3xl overflow-hidden bg-theme-surface-highlight border border-theme-primary/30 shadow-[0_0_50px_rgba(168,85,247,0.1)]",children:[e.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-theme-primary/20 blur-[100px] rounded-full -translate-y-1/2 translate-x-1/2"}),e.jsx(ve,{className:"absolute top-4 right-4 z-20"}),e.jsxs("div",{className:"relative z-10 text-center",children:[e.jsx("div",{className:"inline-block p-4 rounded-full bg-theme-primary/10 mb-4 animate-pulse-slow",children:e.jsx("i",{className:"fa-solid fa-crown text-5xl text-theme-primary"})}),e.jsxs("h1",{className:"text-4xl md:text-6xl font-black text-theme-text-primary mb-2 tracking-tighter",children:[r("empire.title").split(" ")[0]," ",e.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-theme-primary to-theme-accent",children:r("empire.title").split(" ").slice(1).join(" ")})]}),e.jsx("p",{className:"text-theme-text-secondary text-lg max-w-xl mx-auto",children:r("empire.subtitle")})]})]}),e.jsxs("div",{className:"mb-12 bg-theme-surface-elevated rounded-3xl p-8 border border-theme-border-subtle shadow-md",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-black text-theme-text-primary uppercase tracking-tighter flex items-center gap-3",children:[e.jsx("i",{className:"fa-solid fa-gem text-theme-accent"})," ",r("empire.mastery.title")]}),e.jsx("p",{className:"text-theme-text-muted text-xs uppercase font-bold",children:r("empire.mastery.subtitle")})]}),e.jsxs("div",{className:"flex items-center gap-3 bg-theme-accent/10 px-4 py-2 rounded-2xl border border-theme-accent/20 shadow-inner",children:[e.jsx("i",{className:"fa-solid fa-gem text-theme-accent animate-bounce"}),e.jsx("span",{className:"text-2xl font-black text-theme-accent font-mono",children:t.diamonds||0})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:Object.entries(x.masteryPerks).map(([i,l])=>{const c=t.masteryPerks?.[i];return e.jsxs("div",{className:`p-4 rounded-2xl border transition-all ${c?"bg-theme-accent/10 border-theme-accent/40":"bg-theme-surface-base/40 border-theme-border-subtle hover:border-theme-accent/30"}`,children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("div",{className:`p-2 rounded-lg ${c?"bg-theme-accent text-theme-text-inverse shadow-[0_0_15px_rgba(99,102,241,0.5)]":"bg-theme-surface-glass text-theme-accent"}`,children:e.jsx("i",{className:`fa-solid ${l.icon}`})}),c&&e.jsx("span",{className:"text-[10px] font-black text-theme-accent uppercase",children:r("empire.mastery.active")})]}),e.jsx("div",{className:"text-sm font-black text-theme-text-primary uppercase mb-1",children:l.name}),e.jsx("p",{className:"text-xs text-theme-text-muted leading-tight mb-4 min-h-[30px]",children:l.desc}),!c&&e.jsxs(A,{onClick:()=>n(i),disabled:(t.diamonds||0)<l.cost,className:"w-full py-2 text-xs font-black uppercase",variant:"primary",children:[r("empire.mastery.unlock")," (",l.cost,")"]})]},i)})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-12",children:[e.jsxs("div",{className:"bg-theme-surface-elevated p-6 rounded-2xl border border-theme-border-subtle flex flex-col items-center",children:[e.jsx("span",{className:"text-theme-text-muted text-xs font-bold uppercase tracking-widest mb-1",children:r("empire.prestige.level")}),e.jsx("span",{className:"text-4xl font-black text-theme-text-primary",children:t.prestige?.level||0})]}),e.jsxs("div",{className:"bg-theme-surface-elevated p-6 rounded-2xl border border-theme-primary/30 flex flex-col items-center relative overflow-hidden group hover:border-theme-primary/60 transition-all shadow-[0_0_20px_rgba(168,85,247,0.2)]",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-theme-primary/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),e.jsx("div",{className:"absolute -top-10 -right-10 w-32 h-32 bg-theme-primary/20 rounded-full blur-3xl animate-pulse"}),e.jsx("span",{className:"text-theme-primary text-xs font-bold uppercase tracking-widest mb-1 relative z-10",children:r("empire.prestige.income_bonus")}),e.jsxs("span",{className:"text-5xl font-black text-transparent bg-clip-text bg-gradient-to-r from-theme-primary to-pink-400 relative z-10 animate-pulse-slow",children:["x",t.prestige?.multiplier||1]}),e.jsx("span",{className:"text-[10px] text-theme-text-muted mt-1 relative z-10",children:r("empire.prestige.permanent_mult")})]}),e.jsxs("div",{className:"bg-theme-surface-elevated p-6 rounded-2xl border border-theme-border-subtle flex flex-col items-center",children:[e.jsx("span",{className:"text-theme-warning text-xs font-bold uppercase tracking-widest mb-1",children:r("empire.prestige.tokens")}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("i",{className:"fa-solid fa-coins text-theme-warning"}),e.jsx("span",{className:"text-4xl font-black text-theme-text-primary",children:t.prestige?.currency||0})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-12",children:[e.jsxs("div",{className:"bg-theme-surface-base p-4 rounded-xl border border-theme-border-subtle",children:[e.jsx("div",{className:"text-xs text-theme-text-muted font-bold uppercase tracking-wider mb-1",children:r("empire.lifetime.earnings")}),e.jsxs("div",{className:"text-xl font-mono text-theme-success",children:[E(t.lifetime?.earnings||0)," kr"]})]}),e.jsxs("div",{className:"bg-theme-surface-base p-4 rounded-xl border border-theme-border-subtle",children:[e.jsx("div",{className:"text-xs text-theme-text-muted font-bold uppercase tracking-wider mb-1",children:r("empire.lifetime.produced")}),e.jsxs("div",{className:"text-xl font-mono text-theme-info",children:[E(Object.values(t.lifetime?.produced||{}).reduce((i,l)=>i+l,0))," ",e.jsx("span",{className:"text-sm text-theme-text-secondary",children:r("empire.lifetime.units")})]})]}),e.jsxs("div",{className:"bg-theme-surface-base p-4 rounded-xl border border-theme-border-subtle",children:[e.jsx("div",{className:"text-xs text-theme-text-muted font-bold uppercase tracking-wider mb-1",children:r("empire.lifetime.resets")}),e.jsx("div",{className:"text-xl font-mono text-theme-primary",children:t.prestige?.level||0})]}),e.jsxs("div",{className:"bg-theme-surface-base p-4 rounded-xl border border-theme-border-subtle",children:[e.jsx("div",{className:"text-xs text-theme-text-muted font-bold uppercase tracking-wider mb-1",children:r("empire.lifetime.value")}),e.jsxs("div",{className:"text-xl font-mono text-theme-warning",children:[E((t.cleanCash+t.dirtyCash)*(t.prestige?.multiplier||1))," kr"]})]})]}),t.prestige?.level>0&&e.jsxs("div",{className:"mb-12",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("i",{className:"fa-solid fa-network-wired text-purple-500 text-xl"}),e.jsx("h2",{className:"text-2xl font-black text-white uppercase tracking-tighter",children:r("empire.network.title")})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"bg-theme-danger/10 rounded-2xl p-6 border border-theme-danger/20",children:[e.jsxs("h3",{className:"text-xl font-black text-theme-danger uppercase mb-4 flex items-center gap-2",children:[e.jsx("i",{className:"fa-solid fa-skull"})," ",r("empire.network.enforcer")]}),e.jsx("div",{className:"space-y-4",children:Object.entries(x.perks||{}).filter(([,i])=>i.category==="aggressive").map(([i,l])=>{const c=t.prestige?.perks?.[i]||0,o=Math.floor(l.baseCost*Math.pow(l.costScale,c)),d=c>=l.maxLevel,u=(t.prestige?.currency||0)>=o;return e.jsxs("div",{className:"bg-theme-surface-base/40 p-4 rounded-xl border border-theme-danger/10 active:border-theme-danger/30 transition-all",children:[e.jsxs("div",{className:"flex justify-between items-start mb-1",children:[e.jsx("h4",{className:"font-bold text-theme-danger/90",children:l.name}),e.jsxs("span",{className:"text-[10px] font-mono text-theme-danger bg-theme-danger/20 px-1.5 py-0.5 rounded",children:["Lvl ",c,"/",l.maxLevel]})]}),e.jsx("p",{className:"text-sm text-theme-text-muted mb-3",children:l.desc}),d?e.jsxs("div",{className:"w-full py-2 bg-theme-danger/30 text-theme-danger rounded-lg text-center font-bold text-xs uppercase border border-theme-danger/30",children:[e.jsx("i",{className:"fa-solid fa-check mr-1"})," ",r("empire.network.maxed")]}):e.jsxs(A,{onClick:()=>window.dispatchEvent(new CustomEvent("BUY_PERK",{detail:{id:i,cost:o,amount:a===1?1:a===10?10:"max"}})),disabled:!u,className:"w-full py-2 flex items-center justify-center gap-2",size:"sm",variant:u?"danger":"neutral",children:[e.jsx("span",{children:r("empire.network.upgrade")}),e.jsxs("div",{className:"flex items-center gap-1 bg-black/20 px-2 py-0.5 rounded",children:[e.jsx("i",{className:"fa-solid fa-coins text-[10px]"}),e.jsx("span",{children:o})]})]})]},i)})})]}),e.jsxs("div",{className:"bg-theme-success/10 rounded-2xl p-6 border border-theme-success/20",children:[e.jsxs("h3",{className:"text-xl font-black text-theme-success uppercase mb-4 flex items-center gap-2",children:[e.jsx("i",{className:"fa-solid fa-money-bill-wave"})," ",r("empire.network.tycoon")]}),e.jsx("div",{className:"space-y-4",children:Object.entries(x.perks||{}).filter(([,i])=>i.category==="greedy").map(([i,l])=>{const c=t.prestige?.perks?.[i]||0,o=Math.floor(l.baseCost*Math.pow(l.costScale,c)),d=c>=l.maxLevel,u=(t.prestige?.currency||0)>=o;return e.jsxs("div",{className:"bg-theme-surface-base/40 p-4 rounded-xl border border-theme-success/10 active:border-theme-success/30 transition-all",children:[e.jsxs("div",{className:"flex justify-between items-start mb-1",children:[e.jsx("h4",{className:"font-bold text-theme-success/90",children:l.name}),e.jsxs("span",{className:"text-[10px] font-mono text-theme-success bg-theme-success/20 px-1.5 py-0.5 rounded",children:["Lvl ",c,"/",l.maxLevel]})]}),e.jsx("p",{className:"text-sm text-theme-text-muted mb-3",children:l.desc}),d?e.jsxs("div",{className:"w-full py-2 bg-theme-success/30 text-theme-success rounded-lg text-center font-bold text-xs uppercase border border-theme-success/30",children:[e.jsx("i",{className:"fa-solid fa-check mr-1"})," ",r("empire.network.maxed")]}):e.jsxs(A,{onClick:()=>window.dispatchEvent(new CustomEvent("BUY_PERK",{detail:{id:i,cost:o}})),disabled:!u,className:"w-full py-2 flex items-center justify-center gap-2",size:"sm",variant:u?"primary":"neutral",children:[e.jsx("span",{children:r("empire.network.upgrade")}),e.jsxs("div",{className:"flex items-center gap-1 bg-black/20 px-2 py-0.5 rounded",children:[e.jsx("i",{className:"fa-solid fa-coins text-[10px]"}),e.jsx("span",{children:o})]})]})]},i)})})]})]}),e.jsxs("div",{className:"mt-8 bg-theme-primary/10 rounded-2xl p-6 border border-theme-primary/20 shadow-[0_0_30px_rgba(168,85,247,0.1)]",children:[e.jsxs("h3",{className:"text-xl font-black text-theme-primary uppercase mb-4 flex items-center gap-2",children:[e.jsx("i",{className:"fa-solid fa-user-secret"})," ",r("empire.network.forbidden")]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Object.entries(x.perks||{}).filter(([,i])=>i.category==="forbidden").map(([i,l])=>{const c=t.prestige?.perks?.[i]||0,o=Math.floor(l.baseCost*Math.pow(l.costScale,c)),d=c>=l.maxLevel,u=(t.prestige?.currency||0)>=o;return e.jsxs("div",{className:"bg-theme-surface-base/40 p-4 rounded-xl border border-theme-primary/10 active:border-theme-primary/30 transition-all",children:[e.jsxs("div",{className:"flex justify-between items-start mb-1",children:[e.jsx("h4",{className:"font-bold text-theme-primary/90",children:l.name}),e.jsxs("span",{className:"text-[10px] font-mono text-theme-primary bg-theme-primary/20 px-1.5 py-0.5 rounded",children:["Lvl ",c,"/",l.maxLevel]})]}),e.jsx("p",{className:"text-sm text-theme-text-muted mb-3 min-h-[32px]",children:l.desc}),d?e.jsxs("div",{className:"w-full py-2 bg-theme-primary/30 text-theme-primary rounded-lg text-center font-bold text-xs uppercase border border-theme-primary/30",children:[e.jsx("i",{className:"fa-solid fa-check mr-1"})," ",r("empire.network.maxed")]}):e.jsxs(A,{onClick:()=>window.dispatchEvent(new CustomEvent("BUY_PERK",{detail:{id:i,cost:o}})),disabled:!u,className:"w-full py-2 flex items-center justify-center gap-2",size:"sm",variant:u?"primary":"neutral",children:[e.jsx("span",{children:r("empire.network.unlock")}),e.jsxs("div",{className:"flex items-center gap-1 bg-black/20 px-2 py-0.5 rounded",children:[e.jsx("i",{className:"fa-solid fa-coins text-[10px]"}),e.jsx("span",{children:o})]})]})]},i)})})]})]}),e.jsx("div",{className:"p-8 rounded-2xl bg-gradient-to-r from-theme-danger/20 to-theme-surface-base border border-theme-danger/20 mt-12",children:e.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-theme-text-primary mb-2",children:r("empire.reset.title")}),e.jsx("p",{className:"text-theme-text-muted text-sm max-w-md",children:r("empire.reset.desc")})]}),t.level>=10&&t.cleanCash>=15e4?e.jsxs(A,{onClick:s,className:"px-8 py-4 w-full md:w-auto relative overflow-hidden group shadow-[0_0_30px_rgba(239,68,68,0.3)] hover:shadow-[0_0_50px_rgba(239,68,68,0.5)] transition-all",variant:"danger",size:"lg",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-red-600/20 to-orange-600/20 translate-x-full group-hover:translate-x-0 transition-transform duration-700"}),e.jsxs("div",{className:"flex flex-col items-center relative z-10",children:[e.jsxs("span",{className:"block text-[10px] opacity-70 mb-0.5",children:[r("empire.reset.current"),": x",t.prestige?.multiplier||1]}),e.jsx("span",{className:"text-lg font-black",children:r("empire.reset.button")}),e.jsxs("span",{className:"block text-[10px] opacity-70 mt-0.5",children:["‚Üí x",(t.prestige?.multiplier||1)+.5," Multiplier"]})]})]}):e.jsx("div",{className:"px-6 py-3 bg-theme-surface-elevated text-theme-text-muted font-bold rounded-xl border border-theme-border-subtle uppercase text-sm cursor-not-allowed",children:t.level<10?r("empire.reset.required"):`Requires 150,000 kr (${E(t.cleanCash)} / 150,000)`})]})})]})},Pt=(t,s,n,r)=>{const a=y.useRef({}),i=y.useCallback(o=>{const d=x.production[o];if(t.isProcessing[o]||a.current[o])return;const u=_e(t),f=Math.floor(d.baseCost*(u.costMult[o]||1));if(t.cleanCash<f){n(`Ikke nok penge! Mangler ${f-t.cleanCash} kr.`,"error");return}const p=Ce(t);if(Object.values(t.inv).reduce((h,b)=>h+b,0)>=p){n("Lageret er fyldt! S√¶lg varer for at producere mere.","error");return}a.current[o]=!0,s(h=>{const b=_e(h),_=Math.floor(d.baseCost*(b.costMult[o]||1));return{...h,cleanCash:h.cleanCash-_,isProcessing:{...h.isProcessing,[o]:!0}}});const g=Math.max(.1,(1-(t.prestige?.perks?.prod_speed||0)*.1)*(u.speedMult||1)),w=d.duration*g;setTimeout(()=>{s(h=>{a.current[o]=!1;const b=(h.inv[o]||0)+1;return{...h,inv:{...h.inv,[o]:b},stats:{...h.stats,produced:{...h.stats.produced,[o]:(h.stats.produced?.[o]||0)+1}},lifetime:{...h.lifetime,produced:{...h.lifetime?.produced,[o]:(h.lifetime?.produced?.[o]||0)+1}},isProcessing:{...h.isProcessing,[o]:!1}}}),n(`Produktion f√¶rdig: 1 enhed ${d.name}.`,"success")},w)},[t,n,s]),l=y.useCallback((o,d,u)=>{const f=1+(t.prestige?.perks?.sales_boost||0)*.1,p=t.market?.multiplier||1,m=t.prestige?.multiplier||1,g=t.prices[o]*f*p*m,w=Math.max(.5,1-(t.prestige?.perks?.heat_reduce||0)*.05);s(h=>{const b=h.inv[o]||0;if(b<d)return h;const _=g*d,k=Math.floor(_*.1);if(u&&u.currentTarget&&r){const R=u.currentTarget.getBoundingClientRect(),S=R.left+R.width/2,H=R.top+R.height/2-20;r(`+${Math.floor(_).toLocaleString()} kr`,S,H,"text-emerald-400 font-black text-xl")}return n(`Solgte ${d}x ${x.production[o].name} for ${_.toLocaleString()} kr. (+${k} XP)`,"success"),{...h,inv:{...h.inv,[o]:b-d},dirtyCash:h.dirtyCash+_,heat:h.heat+d*.5*w,xp:h.xp+k,stats:{...h.stats,sold:h.stats.sold+d},lifetime:{...h.lifetime,dirtyEarnings:(h.lifetime?.dirtyEarnings||0)+_}}})},[t.prestige,t.market,t.prices,n,r,s]),c=y.useCallback(o=>{s(d=>{const u=d.autoSell?.[o]!==!1;return{...d,autoSell:{...d.autoSell,[o]:!u}}})},[s]);return{produce:i,handleSell:l,toggleAutoSell:c}},Ot=({item:t,state:s,produce:n,onSell:r,toggleAutoSell:a,addFloat:i})=>{const{t:l}=O(),c=s.level<t.unlockLevel,o=s.inv[t.id]||0,d=s.stats.produced[t.id]||0,u=s.isProcessing[t.id],[f,p]=y.useState(!1),[m,g]=y.useState(null),w=y.useRef(d),[h,b]=y.useState(0);y.useEffect(()=>{const T=setInterval(()=>b(Date.now()),1e3);return()=>clearInterval(T)},[]);const _={emerald:{border:"active:border-theme-success/30",text:"text-theme-success",bg:"bg-theme-success/10",ring:"ring-theme-success/20",lightText:"text-theme-text-primary",lightBg:"bg-theme-success/30",glow:"shadow-theme-success/40"},blue:{border:"active:border-theme-accent/30",text:"text-theme-accent",bg:"bg-theme-accent/10",ring:"ring-theme-accent/20",lightText:"text-theme-text-primary",lightBg:"bg-theme-accent/30",glow:"shadow-theme-accent/40"},indigo:{border:"active:border-theme-secondary/30",text:"text-theme-secondary",bg:"bg-theme-secondary/10",ring:"ring-theme-secondary/20",lightText:"text-theme-text-primary",lightBg:"bg-theme-secondary/30",glow:"shadow-theme-secondary/40"},purple:{border:"active:border-theme-secondary/30",text:"text-theme-secondary",bg:"bg-theme-secondary/10",ring:"ring-theme-secondary/20",lightText:"text-theme-secondary",lightBg:"bg-theme-secondary/30",glow:"shadow-theme-secondary/40"},teal:{border:"active:border-theme-accent/30",text:"text-theme-accent",bg:"bg-theme-accent/10",ring:"ring-theme-accent/20",lightText:"text-theme-accent",lightBg:"bg-theme-accent/30",glow:"shadow-theme-accent/40"},amber:{border:"active:border-theme-warning/30",text:"text-theme-warning",bg:"bg-theme-warning/10",ring:"ring-theme-warning/20",lightText:"text-theme-text-primary",lightBg:"bg-theme-warning/30",glow:"shadow-theme-warning/40"},red:{border:"active:border-theme-danger/30",text:"text-theme-danger",bg:"bg-theme-danger/10",ring:"ring-theme-danger/20",lightText:"text-theme-text-primary",lightBg:"bg-theme-danger/30",glow:"shadow-theme-danger/40"}},k=_[t.color]||_.emerald,R=s.productionRates?.[t.id]||{produced:0,sold:0},S=R.produced*10,H=R.sold*10,P=(()=>{let T=[],D=[],I=0,K=0;Object.entries(x.staff).forEach(([G,Q])=>{Q.rates&&Q.rates[t.id]&&(Q.role==="producer"?(T.push(l(`staff.${G}.name`)),I+=s.staff[G]||0):Q.role==="seller"&&(D.push(l(`staff.${G}.name`)),K+=s.staff[G]||0))});const q=T.length>0?T.join("/"):"?",W=D.length>0?D.join("/"):"?";return{prod:q,sell:W,pCount:I,sCount:K}})(),v=!!(s.upgrades.hydro&&["hash_lys","hash_moerk"].includes(t.id)),C=!!(s.upgrades.lab&&t.id==="speed"),j=l(`items.${t.id}.name`);y.useEffect(()=>{if(d>w.current){const T=d-w.current;setTimeout(()=>p(!0),0);const D=setTimeout(()=>p(!1),200);if(w.current=d,i&&M.current){const I=M.current.getBoundingClientRect(),K=I.left+I.width/2+(Math.random()*40-20),q=I.top+I.height/2+(Math.random()*20-10);i(K,q,`+${T} ${j}`,"text-theme-text-muted font-bold text-xs")}return()=>clearTimeout(D)}},[d,j,i]);const N=s.autoSell?.[t.id]!==!1,M=y.useRef(null);return c?e.jsxs("div",{className:"bg-theme-bg-primary/40 border border-theme-border-subtle p-4 rounded-xl flex items-center gap-4 opacity-50 grayscale select-none",children:[e.jsx("div",{className:"w-12 h-12 bg-theme-surface-elevated rounded-lg flex items-center justify-center text-theme-text-muted text-xl font-bold",children:e.jsx("i",{className:`fa-solid ${t.icon}`})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-theme-text-muted",children:j}),e.jsxs("div",{className:"text-[10px] bg-theme-surface-elevated text-theme-text-muted px-2 py-0.5 rounded inline-block mt-1",children:["LVL ",t.unlockLevel]})]})]}):e.jsxs("div",{ref:M,className:`
                relative flex flex-col justify-between overflow-hidden rounded-xl border card-interactive group select-none
                ${c?"":`bg-theme-surface-base border-theme-border-subtle ${k.border}`}
            `,children:[f&&e.jsx("div",{className:`absolute inset-0 ${k.bg} z-0 animate-pulse duration-75`}),Object.values(s.inv).reduce((T,D)=>T+D,0)>=50*(s.upgrades.warehouse||1)&&e.jsxs("div",{className:"absolute top-0 left-0 right-0 h-[60%] z-30 bg-theme-bg-primary/80 flex flex-col items-center justify-center text-center p-4 backdrop-blur-[2px] border-b border-theme-danger/30 animate-in fade-in slide-in-from-top-4 duration-300",children:[e.jsx("i",{className:"fa-solid fa-triangle-exclamation text-theme-danger text-3xl mb-2 animate-bounce drop-shadow-[0_0_10px_rgba(239,68,68,0.5)]"}),e.jsxs("div",{className:"text-theme-text-primary font-black uppercase text-sm tracking-widest",children:[l("production.card_storage_full"),"!"]}),e.jsx("div",{className:"text-theme-danger text-[9px] font-mono mt-1",children:l("production.sell_now")})]}),e.jsx("div",{className:"p-4 relative z-10 pb-3",children:e.jsxs("div",{className:"flex justify-between items-start mb-4 gap-6",children:[e.jsxs("div",{className:"flex gap-4 items-center flex-1 min-w-0",children:[e.jsx("div",{onClick:T=>{u||n(t.id,T)},className:`
                            w-12 h-12 rounded-xl flex items-center justify-center text-xl shadow-lg cursor-pointer active:scale-95 transition-transform shrink-0
                            bg-theme-surface-elevated ${k.text} border border-theme-border-subtle ${k.glow}
                            ${f?"scale-105 ring-2 ring-white/20":""}
                        `,children:e.jsx("i",{className:`fa-solid ${t.icon}`})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsxs("h3",{className:"font-bold text-theme-text-primary text-sm tracking-wide flex items-center gap-2",children:[j,v&&e.jsx("i",{className:"fa-solid fa-water text-[10px] text-theme-accent",title:"Hydroponics Boost"}),C&&e.jsx("i",{className:"fa-solid fa-flask text-[10px] text-theme-secondary",title:"Lab Boost"})]}),e.jsx("div",{className:"text-[10px] text-theme-text-muted mt-1 leading-tight font-terminal truncate max-w-[160px]",children:l(`items.${t.id}.desc`)}),e.jsxs("div",{className:"text-[10px] text-theme-text-muted flex items-center gap-1 mt-1.5",children:[e.jsx("i",{className:"fa-solid fa-clock opacity-50"})," ",(t.duration/1e3).toFixed(1),"s"]})]})]}),e.jsxs("div",{className:"text-right shrink-0 ml-4",children:[e.jsx("div",{className:`text-2xl font-black mono leading-none tracking-tighter transition-all duration-100 number-ticker ${f?`scale-125 ${k.text}`:"text-theme-text-primary"}`,children:o}),e.jsx("div",{className:"text-[9px] font-bold text-theme-text-muted uppercase tracking-widest mt-1",children:l("production.stock")})]})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3 px-4 relative",children:[e.jsxs("div",{onClick:T=>{T.stopPropagation(),g(m==="prod"?null:"prod")},className:`bg-theme-bg-primary/40 rounded-lg p-3 border relative overflow-visible cursor-pointer active:scale-95 transition-all
                            ${m==="prod"?"border-theme-success/50 bg-theme-success/10":"border-theme-border-subtle active:border-theme-border-default"}
                        `,children:[e.jsxs("div",{className:"flex justify-between items-center mb-1.5",children:[e.jsx("span",{className:"text-[10px] text-theme-text-muted uppercase font-bold tracking-wide",children:l("production.prod")}),P.pCount>0&&e.jsxs("span",{className:"text-[10px] text-theme-success font-bold bg-theme-success/20 px-1.5 py-0.5 rounded",children:[P.pCount,"x"]})]}),e.jsx("div",{className:"font-mono text-theme-text-secondary font-bold text-sm number-ticker",children:S>0?e.jsxs("span",{className:"text-theme-success",children:["+",S.toFixed(1),"/s"]}):e.jsx("span",{className:"text-theme-text-muted",children:"0/s"})}),e.jsx("div",{className:"text-[9px] text-theme-text-secondary mt-1 truncate",children:P.prod}),m==="prod"&&e.jsxs("div",{className:"absolute bottom-full left-0 mb-2 w-48 bg-theme-surface-elevated border border-theme-success/30 rounded-lg p-3 shadow-xl z-50 animate-in fade-in slide-in-from-bottom-2",children:[e.jsx("h4",{className:"text-xs font-bold text-theme-text-primary mb-2 pb-1 border-b border-theme-border-subtle font-terminal",children:l("production.prod_details")}),e.jsxs("div",{className:"space-y-1 text-[10px] font-mono font-terminal",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"text-theme-text-muted",children:[l("production.staff")," (",P.pCount,")"]}),e.jsx("span",{className:"text-theme-text-secondary",children:l("production.base")})]}),v&&e.jsxs("div",{className:"flex justify-between text-theme-success",children:[e.jsx("span",{children:"Hydroponics"}),e.jsx("span",{children:"x1.5"})]}),C&&e.jsxs("div",{className:"flex justify-between text-theme-secondary",children:[e.jsx("span",{children:"Lab Udstyr"}),e.jsx("span",{children:"x1.5"})]}),e.jsxs("div",{className:"border-t border-theme-border-subtle pt-1 mt-1 flex justify-between font-bold",children:[e.jsx("span",{className:"text-theme-text-primary",children:l("production.total")}),e.jsxs("span",{className:"text-theme-success",children:[S.toFixed(1)," /s"]})]})]})]})]}),e.jsxs("div",{onClick:T=>{T.stopPropagation(),g(m==="sell"?null:"sell")},className:`bg-theme-bg-primary/40 rounded-lg p-3 border relative overflow-visible cursor-pointer active:scale-95 transition-all
                            ${m==="sell"?"border-theme-warning/50 bg-theme-warning/10":"border-theme-border-subtle active:border-theme-border-default"}
                        `,children:[e.jsxs("div",{className:"flex justify-between items-center mb-1.5",children:[e.jsx("span",{className:"text-[10px] text-theme-text-muted uppercase font-bold tracking-wide",children:l("production.sell")}),P.sCount>0&&e.jsxs("span",{className:"text-[10px] text-theme-warning font-bold bg-theme-warning/20 px-1.5 py-0.5 rounded",children:[P.sCount,"x"]})]}),e.jsx("div",{className:"font-mono text-theme-text-secondary font-bold text-sm number-ticker",children:H>0?e.jsxs("span",{className:"text-theme-warning",children:["-",H.toFixed(1),"/s"]}):e.jsx("span",{className:"text-theme-text-muted",children:"0/s"})}),e.jsx("div",{className:"text-[9px] text-theme-text-secondary mt-1 truncate",children:P.sell}),m==="sell"&&e.jsxs("div",{className:"absolute bottom-full right-0 mb-2 w-48 bg-theme-surface-elevated border border-theme-warning/30 rounded-lg p-3 shadow-xl z-50 animate-in fade-in slide-in-from-bottom-2",children:[e.jsx("h4",{className:"text-xs font-bold text-theme-text-primary mb-2 pb-1 border-b border-theme-border-subtle font-terminal",children:l("production.sell_details")}),e.jsxs("div",{className:"space-y-1 text-[10px] font-mono font-terminal",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"text-theme-text-muted",children:["S√¶lgere (",P.sCount,")"]}),e.jsx("span",{className:"text-theme-text-secondary",children:l("production.base")})]}),s.activeBuffs?.hype>h&&e.jsxs("div",{className:"flex justify-between text-theme-warning",children:[e.jsx("span",{children:"HYPE!"}),e.jsx("span",{children:"x2.0"})]}),e.jsxs("div",{className:"border-t border-theme-border-subtle pt-1 mt-1 flex justify-between font-bold",children:[e.jsx("span",{className:"text-theme-text-primary",children:l("production.total")}),e.jsxs("span",{className:"text-theme-warning",children:[H.toFixed(1)," /s"]})]})]})]})]})]}),e.jsx("div",{className:"px-4 mb-4 relative z-10",children:e.jsx(A,{onClick:T=>{Object.values(s.inv).reduce((D,I)=>D+I,0)>=50*(s.upgrades.warehouse||1),u||(n(t.id,T),Object.values(s.inv).reduce((D,I)=>D+I,0)<50*(s.upgrades.warehouse||1)&&(i&&i(T.clientX,T.clientY,`+${t.batchSize||1} ${j}`,"success"),le(T.clientX,T.clientY,t.color==="emerald"||t.color==="amber"?"cash":"dirty",8)))},disabled:u||Object.values(s.inv).reduce((T,D)=>T+D,0)>=50*(s.upgrades.warehouse||1),variant:"ghost",className:`w-full !py-3 rounded-lg font-black uppercase text-sm tracking-wider transition-all flex items-center justify-center gap-2 h-auto
                        ${u?"!bg-theme-surface-elevated !text-theme-text-muted cursor-wait !border-theme-border-subtle":`!bg-theme-surface-base border ${k.border} ${k.text} active:!bg-theme-surface-elevated active:!text-theme-text-primary ${k.glow} active:scale-95`}
                    `,children:u?e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fa-solid fa-circle-notch fa-spin"})," ",l("production.producing")]}):Object.values(s.inv).reduce((T,D)=>T+D,0)>=50*(s.upgrades.warehouse||1)?e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fa-solid fa-ban"})," ",l("production.card_storage_full")]}):e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fa-solid fa-hammer"})," ",l("production.produce_now")]})})}),e.jsxs("div",{className:"mt-auto bg-theme-bg-primary/20 p-4 pt-0 border-t border-theme-border-subtle relative z-10",children:[u&&e.jsx("div",{className:"absolute top-0 left-0 h-[1px] bg-green-500 z-50 animate-pulse w-full"}),e.jsxs("div",{className:"flex justify-between items-center h-12 mb-2",children:[e.jsxs("div",{className:`flex items-center gap-3 cursor-pointer group/toggle p-2.5 rounded-lg border transition-all duration-300 relative overflow-hidden h-12 flex-1 mr-3
                            ${N?`bg-theme-surface-elevated ${k.border} ${k.glow}`:"bg-theme-surface-base border-theme-border-subtle hover:border-theme-border-default"}
                        `,onClick:T=>{T.stopPropagation(),a(t.id)},children:[e.jsx("div",{className:`w-3 h-3 rounded-full shadow-[0_0_5px_currentColor] transition-colors duration-300 ${N?`${k.text} ${k.bg}`:"text-theme-text-disabled bg-theme-surface-elevated"}`}),e.jsx("div",{className:"flex flex-col",children:e.jsx("span",{className:`text-xs font-black uppercase tracking-wider leading-none mb-0.5 transition-colors ${N?"text-theme-text-primary":"text-theme-text-muted"}`,children:l(N?"production.auto_on":"production.auto_off")})})]}),e.jsx(A,{onClick:T=>{r(t.id,o,T),le(T.clientX,T.clientY,t.color==="emerald"||t.color==="amber"?"cash":"dirty",12)},disabled:o<1,className:"px-4 !h-12 text-sm font-bold uppercase tracking-wider flex-1",variant:"neutral",children:l("production.sell_all")})]})]})]})},It=B.memo(Ot,(t,s)=>{if(t.item.id!==s.item.id||t.state.inv[t.item.id]!==s.state.inv[s.item.id]||t.state.isProcessing[t.item.id]!==s.state.isProcessing[s.item.id]||t.state.level<t.item.unlockLevel!=s.state.level<s.item.unlockLevel||t.state.autoSell?.[t.item.id]!==s.state.autoSell?.[s.item.id])return!1;const n=t.state.productionRates?.[t.item.id]||{produced:0,sold:0},r=s.state.productionRates?.[s.item.id]||{produced:0,sold:0};return!(n.produced!==r.produced||n.sold!==r.sold)}),Ht=({state:t,setState:s,addLog:n,addFloat:r})=>{const{t:a}=O(),{produce:i,handleSell:l,toggleAutoSell:c}=Pt(t,s,n,r);B.useEffect(()=>{const f=p=>{const m=Object.keys(x.production).sort((w,h)=>x.production[w].unlockLevel-x.production[h].unlockLevel),g=parseInt(p.key);!isNaN(g)&&g>0&&g<=m.length&&i(m[g-1])};return window.addEventListener("keydown",f),()=>window.removeEventListener("keydown",f)},[t.level,t.isProcessing,t.inv,t.dirtyCash,i]);const o=Object.values(t.inv).reduce((f,p)=>f+p,0),d=Ce(t),u=Math.min(100,o/d*100);return e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-end mb-6 gap-4 border-b border-white/10 pb-6",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-3xl font-black uppercase tracking-tighter text-terminal-green flex items-center gap-3 font-terminal",children:[e.jsx("i",{className:"fa-solid fa-industry"})," ",a("production.title")]}),e.jsxs("p",{className:"text-xs text-zinc-400 mt-2 leading-relaxed font-terminal",children:[e.jsx("strong",{className:"text-terminal-green",children:a("production.title")})," ",a("production.subtitle").replace(a("production.title"),""),e.jsx("br",{}),a("production.shortcuts_hint")," (",e.jsx("span",{className:"text-terminal-cyan",children:"1-6"}),")"]})]}),e.jsxs("div",{className:"w-full md:w-64 mx-auto md:mx-0",children:[e.jsxs("div",{className:"flex justify-between items-center text-[10px] uppercase font-bold text-theme-text-muted mb-1 font-terminal",children:[e.jsxs("span",{children:[a("production.storage_cap"),e.jsxs("span",{className:u>90?"text-theme-danger":"text-theme-text-secondary",children:[" ",o," / ",d]})]}),u>=100&&e.jsxs("span",{className:"text-theme-danger ml-2 animate-pulse",children:[e.jsx("i",{className:"fa-solid fa-triangle-exclamation"})," ",a("production.storage_full")]})]}),e.jsx("div",{className:"w-full h-2 bg-theme-surface-dark rounded-full overflow-hidden border border-theme-border-subtle",children:e.jsx("div",{className:`h-full transition-all duration-300 ${u>90?"bg-theme-danger":"bg-theme-success"}`,style:{width:`${u}%`}})})]}),e.jsxs("div",{className:"bg-theme-surface-elevated border border-theme-border-default rounded-2xl p-4 relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-5 pointer-events-none",children:e.jsx("i",{className:"fa-solid fa-chart-line text-6xl text-white"})}),e.jsxs("h3",{className:"text-xs font-black text-theme-text-muted uppercase tracking-widest mb-4 flex items-center gap-2 border-b border-theme-border-subtle pb-2 font-terminal",children:[e.jsx("i",{className:"fa-solid fa-chart-bar"})," ",a("production.stats_title")]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center group hover:bg-theme-surface-dark rounded-lg p-2 transition-colors",children:[e.jsx("div",{className:"text-2xl font-mono font-bold text-theme-success group-hover:scale-110 transition-transform",children:E(Object.values(t.stats.produced||{}).reduce((f,p)=>f+p,0))}),e.jsx("div",{className:"text-[10px] text-theme-text-muted uppercase font-terminal",children:a("production.total_produced")})]}),e.jsxs("div",{className:"text-center group hover:bg-theme-surface-dark rounded-lg p-2 transition-colors",children:[e.jsx("div",{className:"text-2xl font-mono font-bold text-theme-warning group-hover:scale-110 transition-transform",children:E(t.stats.sold||0)}),e.jsx("div",{className:"text-[10px] text-theme-text-muted uppercase font-terminal",children:a("production.total_sold")})]}),e.jsxs("div",{className:"text-center group hover:bg-white/5 rounded-lg p-2 transition-colors",children:[e.jsx("div",{className:"text-2xl font-mono font-bold text-terminal-cyan group-hover:scale-110 transition-transform",children:o}),e.jsx("div",{className:"text-[10px] text-zinc-500 uppercase font-terminal",children:a("production.in_stock")})]}),e.jsxs("div",{className:"text-center group hover:bg-white/5 rounded-lg p-2 transition-colors",children:[e.jsxs("div",{className:"text-2xl font-mono font-bold text-white group-hover:scale-110 transition-transform",children:[Object.keys(x.production).filter(f=>t.level>=x.production[f].unlockLevel).length,"/",Object.keys(x.production).length]}),e.jsx("div",{className:"text-[10px] text-zinc-500 uppercase font-terminal",children:a("production.unlocked")})]})]})]})]}),e.jsx("div",{className:"bg-zinc-900/50 border border-white/5 rounded-lg p-3 mb-6 hidden md:block",children:e.jsxs("div",{className:"flex items-center gap-2 text-xs text-zinc-400 font-terminal",children:[e.jsx("i",{className:"fa-solid fa-keyboard text-terminal-cyan"}),e.jsxs("span",{children:[e.jsx("strong",{className:"text-white",children:a("production.shortcuts")})," ",a("production.shortcuts_hint")]})]})}),e.jsx("div",{className:"flex justify-end mb-6",children:e.jsxs(A,{onClick:()=>s(f=>({...f,isSalesPaused:!f.isSalesPaused})),className:"w-64 h-12",variant:t.isSalesPaused?"danger":"primary",children:[e.jsx("i",{className:`fa-solid ${t.isSalesPaused?"fa-hand":"fa-truck-fast"}`}),e.jsx("span",{children:t.isSalesPaused?a("production.panic_stop"):a("production.distribution")})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 2xl:grid-cols-4 gap-4 pb-4",children:Object.keys(x.production).sort((f,p)=>{const m=t.level<x.production[f].unlockLevel,g=t.level<x.production[p].unlockLevel;return m===g?x.production[f].unlockLevel-x.production[p].unlockLevel:m?1:-1}).map(f=>{const p={...x.production[f],id:f},m={...t,toggleAutoSell:c};return e.jsx(It,{item:p,state:m,produce:i,onSell:l,price:t.prices[f],toggleAutoSell:c,addFloat:r},f)})})]})},$t=(t,s,n,r)=>{const{t:a}=O(),i=y.useMemo(()=>{let h=0,b=0;return x.territories.forEach(_=>{if(t.territories.includes(_.id)){const k=t.territoryLevels?.[_.id]||1,R=_.income*Math.pow(1.5,k-1)*86400;_.type==="clean"?b+=R:h+=R}}),{dirty:h,clean:b}},[t.territories,t.territoryLevels]),l=y.useMemo(()=>Object.entries(t.crypto?.wallet||{}).reduce((h,[b,_])=>{const k=t.crypto?.prices?.[b]||x.crypto.coins[b].basePrice;return h+_*k},0),[t.crypto]),c=y.useMemo(()=>{let h=t.dirtyCash+t.cleanCash+l;return h+=t.bank?.savings||0,h-=t.debt||0,h+=Object.entries(t.inventory||{}).reduce((b,[_,k])=>b+k*x.production[_].baseRevenue,0),h+=Object.keys(t.luxury||{}).reduce((b,_)=>{const k=x.luxury[_];return b+k.cost},0),h+=Object.entries(t.defense||{}).reduce((b,[_,k])=>b+k*x.defense[_].baseCost,0),h},[t.dirtyCash,t.cleanCash,l,t.bank,t.debt,t.inventory,t.luxury,t.defense]),o=y.useCallback((h,b)=>{if(!h||h<=0)return n(a("finance.actions.launder_error_amount"),"error");if(h>t.dirtyCash)return n(a("finance.actions.launder_error_funds"),"error");const _=x.launderingRate*(t.prestige?.multiplier||1),k=h*_;s(R=>({...R,dirtyCash:R.dirtyCash-h,cleanCash:R.cleanCash+k,stats:{...R.stats,launderedTotal:(R.stats?.launderedTotal||0)+h}})),n(`Hvidvasket ${E(h)} kr (Sort) -> ${E(k)} kr (Ren)`,"success"),r&&r(k,"clean"),b&&b.current&&(b.current.value="")},[t.dirtyCash,t.prestige,s,n,r,a]),d=y.useCallback(()=>{const h=x.crypto.manualWashPower*(t.activeBuffs?.launder_click?5:1);t.dirtyCash<h||s(b=>({...b,dirtyCash:b.dirtyCash-h,cleanCash:b.cleanCash+h*x.launderingRate}))},[t.dirtyCash,t.activeBuffs,s]),u=y.useCallback((h,b)=>{const _=x.crypto.coins[h],R=(t.crypto?.prices?.[h]||_.basePrice)*b;if(t.cleanCash<R)return n(a("finance.crypto.error_funds"),"error");s(S=>({...S,cleanCash:S.cleanCash-R,crypto:{...S.crypto,wallet:{...S.crypto.wallet,[h]:(S.crypto.wallet?.[h]||0)+b}}})),n(`K√∏bt ${b} ${_.symbol}`,"success")},[t.cleanCash,t.crypto,s,n,a]),f=y.useCallback((h,b)=>{if(!t.crypto?.wallet?.[h]||t.crypto.wallet[h]<b)return n(a("finance.crypto.error_assets"),"error");const _=x.crypto.coins[h],R=(t.crypto?.prices?.[h]||_.basePrice)*b;s(S=>({...S,cleanCash:S.cleanCash+R,crypto:{...S.crypto,wallet:{...S.crypto.wallet,[h]:S.crypto.wallet[h]-b}}})),n(`Solgt ${b} ${_.symbol} for ${E(R)} kr`,"success")},[t.crypto,s,n,a]),p=y.useCallback(h=>{s(b=>({...b,cleanCash:b.cleanCash+h,debt:(b.debt||0)+h})),n(`L√•nte ${E(h)} kr`,"success")},[s,n]),m=y.useCallback(h=>{if(t.cleanCash<h)return n("Ikke nok penge!","error");s(b=>({...b,cleanCash:b.cleanCash-h,debt:Math.max(0,(b.debt||0)-h)})),n(`Afbetalte ${E(h)} kr p√• g√¶ld`,"success")},[t.cleanCash,s,n]),g=y.useCallback(h=>{if(h<=0)return;if(t.cleanCash<h)return n("Ikke nok penge!","error");const b=(t.level||1)*x.crypto.bank.maxSavingsFactor;if((t.bank?.savings||0)+h>b)return n(`Bank loft n√•et (Max: ${E(b)})`,"error");s(k=>({...k,cleanCash:k.cleanCash-h,bank:{...k.bank,savings:(k.bank?.savings||0)+h}})),n(`Indsat ${E(h)} kr i banken`,"success")},[t.cleanCash,t.level,t.bank,s,n]),w=y.useCallback(h=>{const b=t.bank?.savings||0;let _=h==="max"?b:h;_<=0||(_>b&&(_=b),s(k=>({...k,cleanCash:k.cleanCash+_,bank:{...k.bank,savings:(k.bank?.savings||0)-_}})),n(`H√¶vet ${E(_)} kr fra banken`,"success"))},[t.bank,s,n]);return{netWorth:c,cryptoValue:l,territoryIncomeValue:i,handleLaunder:o,handleManualWash:d,buyCrypto:u,sellCrypto:f,borrow:p,repay:m,deposit:g,withdraw:w}},Bt=({data:t,color:s="#10b981",height:n=100})=>{const{t:r}=O();if(!t||t.length<2)return e.jsxs("div",{className:"w-full relative bg-theme-bg-secondary/50 rounded overflow-hidden",style:{height:n},children:[e.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(to_right,#ffffff05_1px,transparent_1px),linear-gradient(to_bottom,#ffffff05_1px,transparent_1px)] bg-[size:10px_10px]"}),e.jsx("div",{className:"absolute top-1/2 left-0 w-full h-[1px] bg-theme-success/30"}),e.jsx("div",{className:"absolute top-0 bottom-0 w-[2px] bg-theme-success shadow-[0_0_10px_rgba(16,185,129,0.5)] animate-[ping_2s_cubic-bezier(0,0,0.2,1)_infinite] left-1/2 opacity-50"}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsxs("div",{className:"bg-theme-bg-primary/80 px-3 py-1 rounded text-[10px] uppercase font-mono tracking-widest text-theme-success animate-pulse border border-theme-success/20",children:[e.jsx("i",{className:"fa-solid fa-satellite-dish mr-2 animate-spin"}),r("finance.chart.collecting")]})})]});const a=Math.max(...t),i=Math.min(...t),l=a-i||1,c=t.map((f,p)=>{const m=p/(t.length-1)*100,g=100-(f-i)/l*100;return`${m},${g}`}),o=`M ${c.join(" L ")}`,d=`${o} L 100,100 L 0,100 Z`,u=c[c.length-1].split(",");return e.jsxs("div",{className:"w-full relative select-none",style:{height:n},children:[e.jsxs("svg",{viewBox:"0 0 100 100",className:"w-full h-full overflow-visible",preserveAspectRatio:"none",children:[e.jsx("line",{x1:"0",y1:"0",x2:"100",y2:"0",stroke:"white",strokeOpacity:"0.1",strokeWidth:"0.5",strokeDasharray:"2"}),e.jsx("line",{x1:"0",y1:"50",x2:"100",y2:"50",stroke:"white",strokeOpacity:"0.05",strokeWidth:"0.5",strokeDasharray:"2"}),e.jsx("line",{x1:"0",y1:"100",x2:"100",y2:"100",stroke:"white",strokeOpacity:"0.1",strokeWidth:"0.5"}),e.jsx("path",{d,fill:s,fillOpacity:"0.1",vectorEffect:"non-scaling-stroke"}),e.jsx("path",{d:o,fill:"none",stroke:s,strokeWidth:"2",vectorEffect:"non-scaling-stroke",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("circle",{cx:u[0],cy:u[1],r:"2",fill:"white",stroke:s,strokeWidth:"0.5",vectorEffect:"non-scaling-stroke",className:"animate-pulse"})]}),e.jsx("div",{className:"absolute top-0 right-0 text-[9px] text-theme-text-muted font-mono bg-theme-bg-primary/60 px-1 rounded backdrop-blur-sm border border-theme-border-subtle translate-y-[-50%]",children:E(a)}),e.jsx("div",{className:"absolute bottom-0 right-0 text-[9px] text-theme-text-muted font-mono bg-theme-bg-primary/60 px-1 rounded backdrop-blur-sm border border-theme-border-subtle translate-y-[50%]",children:E(i)})]})},X=({children:t,className:s="",variant:n="elevated",padding:r="p-6",rounded:a="rounded-3xl",hover:i=!1,...l})=>{const c="relative overflow-hidden transition-all",o={elevated:"bg-theme-surface-elevated border border-theme-border-subtle shadow-lg",outlined:"bg-transparent border border-theme-border-subtle",ghost:"bg-white/5 border border-white/5"},d=i?"hover:border-theme-primary/40 hover:shadow-xl group":"";return e.jsx("div",{className:`${c} ${o[n]} ${r} ${a} ${d} ${s}`,...l,children:t})},De=({label:t,value:s,unit:n="",trend:r,trendLabel:a,variant:i="neutral",className:l=""})=>{const o={neutral:"text-white",success:"text-theme-success",warning:"text-theme-warning",danger:"text-theme-danger",info:"text-theme-info"}[i]||"text-white";return e.jsxs(X,{variant:"elevated",padding:"p-5",rounded:"rounded-2xl",className:`flex flex-col justify-center min-w-[200px] ${l}`,children:[e.jsx("span",{className:"text-[10px] font-black text-theme-text-muted uppercase tracking-widest mb-1",children:t}),e.jsxs("div",{className:`text-3xl font-mono font-black ${o}`,children:[s," ",e.jsx("span",{className:"text-sm",children:n})]}),r&&e.jsx("div",{className:"text-[10px] mt-1",children:a||`${r}%`})]})},Ft=({state:t,setState:s,addLog:n,addFloat:r,purchaseLuxury:a})=>{const{netWorth:i,territoryIncomeValue:l,handleLaunder:c,handleManualWash:o,buyCrypto:d,sellCrypto:u,borrow:f,repay:p,deposit:m,withdraw:g}=$t(t,s,n,r),[w,h]=y.useState(0),[b,_]=y.useState(1),{t:k}=O();B.useEffect(()=>{const j=setInterval(()=>h(Date.now()),1e3);return()=>clearInterval(j)},[]);const R=l.clean+l.dirty,H=Object.keys(x.staff).reduce((j,N)=>j+(t.staff[N]||0)*(x.staff[N].salary||0),0),F=R-H,P=t.bank?.savings||0,v=(j,N)=>{if(t.dirtyCash<=0)return;const M=t.dirtyCash*j;c(M),N&&le(N.clientX,N.clientY,"cash",15)},C=j=>{o(),r&&j&&j.clientX!==void 0&&j.clientY!==void 0&&(r(`+${x.crypto.manualWashPower}`,j.clientX,j.clientY-20,"text-emerald-400 font-black text-lg"),le(j.clientX,j.clientY,"cash",6))};return e.jsxs("div",{className:"max-w-6xl mx-auto space-y-10 pb-24 animate-in fade-in slide-in-from-bottom-4 duration-700",children:[e.jsx(Te,{title:k("finance.title"),subtitle:k("finance.subtitle"),icon:"fa-solid fa-vault",accentColor:"warning",variant:"underlined",children:e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 w-full xl:w-auto",children:[e.jsx(De,{label:k("finance.net_worth"),value:E(i),unit:"kr",variant:i>=0?"success":"danger"}),e.jsx(De,{label:k("finance.cashflow_5m"),value:`${F>=0?"+":""}${E(F)}`,unit:"kr",variant:F>=0?"info":"warning"})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[e.jsxs("div",{className:"lg:col-span-7 space-y-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(X,{padding:"p-6",hover:!0,className:"group",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-emerald-500/5 rounded-full blur-3xl"}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("span",{className:"text-[10px] font-black text-emerald-500 uppercase tracking-widest block mb-2",children:k("finance.liquid_clean")}),e.jsxs("div",{className:"text-3xl font-mono font-black text-white",children:[E(t.cleanCash)," ",e.jsx("span",{className:"text-xs",children:"kr"})]}),e.jsx("div",{className:"mt-4 h-1 w-full bg-white/5 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-emerald-500",style:{width:`${Math.min(100,t.cleanCash/(i||1)*100)}%`}})})]})]}),e.jsxs(X,{padding:"p-6",hover:!0,className:"group",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-red-500/5 rounded-full blur-3xl"}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("span",{className:"text-[10px] font-black text-red-500 uppercase tracking-widest block mb-2",children:k("finance.dirty_cash")}),e.jsxs("div",{className:"text-3xl font-mono font-black text-white",children:[E(t.dirtyCash)," ",e.jsx("span",{className:"text-xs",children:"kr"})]}),e.jsx("div",{className:"mt-4 h-1 w-full bg-white/5 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-red-500",style:{width:`${Math.min(100,t.dirtyCash/(i||1)*100)}%`}})})]})]})]}),e.jsxs(X,{padding:"p-8",className:"shadow-2xl",children:[e.jsx("div",{className:"absolute -right-4 -top-4 opacity-5 text-terminal-green text-9xl pointer-events-none transform rotate-12",children:e.jsx("i",{className:"fa-solid fa-soap"})}),e.jsxs("div",{className:"flex justify-between items-start mb-8 relative z-10",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-terminal-green font-bold uppercase tracking-[0.2em] text-xs flex items-center gap-3 mb-1",children:[e.jsx("i",{className:"fa-solid fa-hands-wash"})," ",k("finance.laundering.title")]}),e.jsx("div",{className:"text-2xl font-black text-white uppercase italic",children:k("finance.laundering.op_name")})]}),e.jsxs("div",{className:"px-4 py-1.5 bg-terminal-green/10 rounded-full border border-terminal-green/30 text-[10px] text-terminal-green font-black tracking-widest",children:[k("finance.laundering.rate"),": ",((x.launderingRate*(t.upgrades.studio?1.2:1)+(t.activeBuffs?.cryptoCrash>w?.15:0))*100).toFixed(0),"%"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-8 items-center relative z-10",children:[e.jsxs("div",{className:"md:col-span-7 space-y-6",children:[e.jsxs("p",{className:"text-xs text-zinc-400 leading-relaxed font-terminal",children:[k("finance.laundering.desc"),t.activeBuffs?.cryptoCrash>w&&e.jsxs("span",{className:"block mt-2 text-red-500 animate-pulse font-black uppercase",children:["‚ö†Ô∏è ",k("finance.laundering.warn_crash")]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsx(A,{onClick:j=>v(.25,j),disabled:t.dirtyCash<=0,className:"py-4 text-[10px] font-black uppercase",variant:"neutral",children:"25%"}),e.jsx(A,{onClick:j=>v(.5,j),disabled:t.dirtyCash<=0,className:"py-4 text-[10px] font-black uppercase",variant:"neutral",children:"50%"}),e.jsx(A,{onClick:j=>v(1,j),disabled:t.dirtyCash<=0,className:"py-4 text-[10px] font-black uppercase shadow-[0_0_15px_rgba(var(--terminal-green-rgb),0.3)]",variant:"primary",children:k("finance.laundering.wash_all")})]})]}),e.jsx("div",{className:"md:col-span-5",children:e.jsxs("button",{onClick:C,disabled:t.dirtyCash<=0,className:"w-full aspect-square rounded-full border-4 border-dashed border-white/5 hover:border-terminal-green/40 flex flex-col items-center justify-center gap-3 transition-all active:scale-95 group disabled:opacity-20 disabled:grayscale",children:[e.jsx("div",{className:"w-20 h-20 rounded-full bg-white/5 flex items-center justify-center text-3xl text-zinc-500 group-hover:bg-terminal-green group-hover:text-black transition-colors group-hover:shadow-[0_0_30px_rgba(var(--terminal-green-rgb),0.5)]",children:e.jsx("i",{className:"fa-solid fa-fingerprint"})}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-[10px] font-black text-white uppercase tracking-widest",children:k("finance.laundering.manual_wash")}),e.jsx("div",{className:"text-[8px] text-zinc-500 uppercase mt-1",children:k("finance.laundering.manual_desc")})]})]})})]})]}),e.jsxs(X,{padding:"p-8",hover:!0,className:"group",children:[e.jsx("div",{className:"absolute top-0 right-0 p-10 opacity-5 text-blue-500 text-8xl pointer-events-none",children:e.jsx("i",{className:"fa-solid fa-piggy-bank"})}),e.jsxs("div",{className:"flex justify-between items-center mb-8 relative z-10",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-blue-400 font-bold uppercase tracking-[0.2em] text-xs flex items-center gap-3 mb-1",children:[e.jsx("i",{className:"fa-solid fa-vault"})," ",k("finance.bank.title")]}),e.jsx("div",{className:"text-2xl font-black text-white tracking-tight",children:k("finance.bank.bank_name")})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("span",{className:"text-[10px] font-black text-zinc-500 uppercase block mb-1",children:k("finance.bank.balance")}),e.jsxs("div",{className:"text-3xl font-mono font-black text-blue-400 drop-shadow-[0_0_8px_rgba(59,130,246,0.5)]",children:[E(P)," ",e.jsx("span",{className:"text-xs",children:"kr"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 relative z-10",children:[e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"p-4 bg-white/5 rounded-2xl border border-white/5",children:[e.jsxs("div",{className:"flex justify-between text-[10px] font-black uppercase text-zinc-500 mb-2",children:[e.jsx("span",{children:k("finance.bank.interest")}),e.jsx("span",{className:"text-emerald-400",children:"2.0%"})]}),e.jsxs("div",{className:"flex justify-between text-[10px] font-black uppercase text-zinc-500",children:[e.jsx("span",{children:k("finance.bank.next_payout")}),e.jsxs("span",{className:"text-white font-mono",children:[Math.max(0,Math.ceil((x.crypto.bank.interestInterval-(w-(t.bank?.lastInterest||0)))/1e3)),"s"]})]})]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx(A,{onClick:()=>m(1e4),disabled:t.cleanCash<1e4,className:"flex-1 py-3 text-[10px] font-black uppercase",variant:"neutral",children:k("finance.bank.deposit_10k")}),e.jsx(A,{onClick:()=>m(Math.floor(t.cleanCash)),disabled:t.cleanCash<1,className:"flex-1 py-3 text-[10px] font-black uppercase",variant:"neutral",children:k("finance.bank.deposit_all")})]}),e.jsx(A,{onClick:()=>g("max"),disabled:P<=0,className:"w-full py-3 text-[10px] font-black uppercase border-blue-500/20 text-blue-400",variant:"ghost",children:k("finance.bank.withdraw_all")})]})]})]}),e.jsxs(X,{padding:"p-8",children:[e.jsxs("h3",{className:"text-amber-500 font-bold uppercase tracking-[0.2em] text-xs flex items-center gap-3 mb-6",children:[e.jsx("i",{className:"fa-solid fa-gem"})," ",k("finance.luxury.title")]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:x.luxuryItems.map(j=>{const N=t.luxuryItems?.includes(j.id);return e.jsxs("div",{className:`p-5 rounded-2xl border transition-all ${N?"bg-amber-500/10 border-amber-500/40 shadow-[0_0_20px_rgba(245,158,11,0.1)]":"bg-white/[0.02] border-white/5 opacity-60 hover:opacity-100"}`,children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsx("div",{className:`p-3 rounded-xl ${N?"bg-amber-500 text-black":"bg-white/5 text-amber-500"}`,children:e.jsx("i",{className:`fa-solid ${j.icon} text-lg`})}),N?e.jsxs("span",{className:"text-[10px] font-black text-amber-500 uppercase flex items-center gap-1",children:[e.jsx("i",{className:"fa-solid fa-check-circle"})," ",k("finance.luxury.owned")]}):e.jsxs("span",{className:"text-[10px] font-mono font-bold text-amber-500/80",children:[E(j.cost)," kr"]})]}),e.jsx("div",{className:"font-black text-white uppercase text-sm mb-1",children:k(`finance.luxury.${j.id}`)}),e.jsx("p",{className:"text-[10px] text-zinc-500 leading-tight mb-4",children:k(`finance.luxury.${j.id}_desc`)}),!N&&e.jsx(A,{onClick:()=>a(j.id),disabled:t.cleanCash<j.cost,className:"w-full py-2 text-[10px] font-black uppercase",variant:"primary",children:k("finance.luxury.invest")})]},j.id)})})]})]}),e.jsxs("div",{className:"lg:col-span-5 space-y-8",children:[e.jsxs(X,{padding:"p-8",className:"shadow-xl",children:[e.jsxs("h3",{className:"text-white font-black uppercase tracking-tight text-xl mb-6 flex items-center gap-3",children:[e.jsx("i",{className:"fa-solid fa-chart-pie text-indigo-500"})," ",k("finance.cashflow.title")]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center p-3 bg-emerald-500/5 rounded-xl border border-emerald-500/10",children:[e.jsx("span",{className:"text-xs font-bold text-zinc-400 uppercase",children:k("finance.cashflow.income")}),e.jsxs("span",{className:"text-sm font-mono font-black text-emerald-400",children:["+",E(R)," kr"]})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-red-500/5 rounded-xl border border-red-500/10",children:[e.jsx("span",{className:"text-xs font-bold text-zinc-400 uppercase",children:k("finance.cashflow.expenses")}),e.jsxs("span",{className:"text-sm font-mono font-black text-red-500",children:["-",E(H)," kr"]})]}),e.jsxs("div",{className:"pt-4 border-t border-white/5 flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-black text-white uppercase tracking-tighter",children:k("finance.cashflow.net_profit")}),e.jsxs("span",{className:`text-xl font-mono font-black ${F>=0?"text-blue-400":"text-amber-500"}`,children:[E(F)," kr"]})]})]}),e.jsx("div",{className:"mt-8 h-24 w-full opacity-40",children:t.stats?.history?.netWorth&&e.jsx(Bt,{data:t.stats.history.netWorth,color:"#6366f1",height:96})})]}),e.jsxs(X,{padding:"p-8",className:"shadow-xl flex flex-col",children:[e.jsxs("div",{className:"flex justify-between items-center mb-8",children:[e.jsxs("h3",{className:"text-indigo-400 font-black uppercase tracking-tight text-xl flex items-center gap-3",children:[e.jsx("i",{className:"fa-brands fa-bitcoin"})," ",k("finance.portfolio.title")]}),e.jsx("div",{className:"flex gap-1",children:[1,10,"max"].map(j=>e.jsx("button",{onClick:()=>_(j),className:`px-3 py-1 text-[10px] font-black rounded-lg transition-all ${b===j?"bg-indigo-600 text-white":"bg-white/5 text-zinc-500 hover:text-white"}`,children:j==="max"?"MAX":`√ó${j}`},j))})]}),e.jsx("div",{className:"space-y-4",children:Object.entries(x.crypto.coins).map(([j,N])=>{const M=t.crypto?.prices?.[j]||N.basePrice,T=t.crypto?.history?.[j]||[],D=t.crypto?.wallet?.[j]||0,I=T.length>1?(M-T[0])/T[0]*100:0,K=I>=0;return e.jsxs("div",{className:"p-4 bg-white/[0.02] rounded-2xl border border-white/5 hover:border-white/10 transition-all",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-white/5 flex items-center justify-center text-lg shadow-inner",children:e.jsx("i",{className:`fa-brands fa-${j==="monero"?"mask":j}`})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-black text-white uppercase leading-none mb-1",children:N.name}),e.jsxs("div",{className:"text-[10px] font-mono text-zinc-500 uppercase tracking-tighter",children:[k("finance.portfolio.held"),": ",D.toFixed(4)]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-sm font-mono font-black text-white leading-none mb-1",children:[E(M)," kr"]}),e.jsxs("div",{className:`text-[10px] font-bold ${K?"text-emerald-400":"text-red-500"}`,children:[K?"‚Üë":"‚Üì"," ",Math.abs(I).toFixed(2),"%"]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(A,{onClick:()=>d(j,b==="max"?Math.floor(t.cleanCash/M):Math.min(b,Math.floor(t.cleanCash/M))),disabled:t.cleanCash<M,className:"flex-1 py-2 text-[10px] font-black uppercase",variant:"neutral",children:k("finance.portfolio.buy")}),e.jsx(A,{onClick:()=>u(j,b==="max"?D:Math.min(D,b)),disabled:D<=0,className:"flex-1 py-2 text-[10px] font-black uppercase",variant:"ghost",children:k("finance.portfolio.sell")})]})]},j)})})]}),e.jsxs(X,{padding:"p-8",className:"border-theme-danger/30",children:[e.jsx("div",{className:"absolute -right-4 -bottom-4 opacity-5 text-red-500 text-7xl",children:e.jsx("i",{className:"fa-solid fa-ghost"})}),e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h3",{className:"text-red-500 font-bold uppercase tracking-widest text-xs",children:k("finance.debt.title")}),e.jsxs("div",{className:"text-xl font-mono font-black text-red-600",children:[E(t.debt)," kr"]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx(A,{onClick:()=>f(5e4),className:"py-3 text-[10px] font-black uppercase border-red-500/20 text-red-400",variant:"ghost",children:k("finance.debt.borrow_50k")}),e.jsx(A,{onClick:()=>p(5e4),disabled:t.debt<=0||t.cleanCash<5e4,className:"py-3 text-[10px] font-black uppercase",variant:"neutral",children:"KUN 50k"}),e.jsx(A,{onClick:()=>p(Math.min(t.debt,t.cleanCash)),disabled:t.debt<=0||t.cleanCash<=0,className:"py-3 text-[10px] font-black uppercase",variant:"neutral",children:k("finance.debt.pay_all")})]})]})]})]})]})},Kt=(t,s,n)=>{const r=y.useCallback((l,c=1)=>{const o=x.staff[l];if(t.level<(o.reqLevel||1)){n(`Du skal v√¶re Level ${o.reqLevel} for at ans√¶tte en ${o.name}!`,"error");return}const d=t.staff[l]||0;let u=c,f=0;c==="max"&&(u=ae(o.baseCost,o.costFactor,d,t.cleanCash),u<=0&&(u=1)),f=se(o.baseCost,o.costFactor,d,u),t.cleanCash>=f&&u>0?(s(p=>{const m=(p.staff[l]||0)+u,g={...p.staffHiredDates};return(!p.staff[l]||p.staff[l]===0)&&(g[l]=Date.now()),{...p,cleanCash:p.cleanCash-f,staff:{...p.staff,[l]:m},staffHiredDates:g}}),t.heat>80&&!t.informantActive&&Math.random()<.05&&s(p=>({...p,informantActive:!0,logs:[{msg:"‚ö†Ô∏è MULVARPE: En nyansat stakker har infiltreret operationen! Hvidvaskning er kompromitteret!",type:"danger",time:new Date().toLocaleTimeString()},...p.logs].slice(0,50)})),n(`Ansatte ${u}x ${o.name} for ${f.toLocaleString()} kr.`,"success")):n(`Ikke nok penge til ${u}x ${o.name}!`,"error")},[t.level,t.staff,t.cleanCash,t.heat,t.informantActive,s,n]),a=y.useCallback((l,c=1)=>{const o=t.staff[l]||0;if(o<=0)return;let d=c;c==="max"&&(d=o);const u=Math.min(o,d);u>0&&(s(f=>{const p=(f.staff[l]||0)-u,m={...f.staffHiredDates};return p<=0&&delete m[l],{...f,staff:{...f.staff,[l]:p},staffHiredDates:m}}),n(`Fyrede ${u}x ${x.staff[l].name}. (Ingen refusion)`,"warning"))},[t.staff,s,n]),i=y.useCallback((l,c=1)=>{const o=x.upgrades[l],d=t.upgrades[l]||0;let u=c;c==="max"&&(u=ae(o.baseCost,o.costFactor||1.5,d,t.cleanCash),u<=0&&(u=1));const f=se(o.baseCost,o.costFactor||1.5,d,u);t.cleanCash>=f&&u>0?(s(p=>({...p,cleanCash:p.cleanCash-f,upgrades:{...p.upgrades,[l]:(p.upgrades[l]||0)+u}})),n(`K√∏bte ${u}x ${o.name} for ${f.toLocaleString()} kr.`,"success")):n(`Ikke nok penge til ${u}x ${o.name}!`,"error")},[t.upgrades,t.cleanCash,s,n]);return{buyStaff:r,fireStaff:a,buyUpgrade:i}},Gt=y.memo(({item:t,count:s,role:n,onBuy:r,onSell:a,canAfford:i,locked:l,costToDisplay:c,actualAmount:o,isWorking:d,isExpanded:u,onToggle:f,hiredDate:p})=>{const{t:m}=O(),{buyAmount:g}=U(),[w,h]=B.useState(0);return B.useEffect(()=>{if(l||s<=0||!p){h(0);return}const b=(Date.now()-p)/(1e3*60*60*24);h(Math.min(20,Math.floor(b)))},[l,s,n,p]),e.jsxs("div",{className:`p-5 rounded-xl border flex flex-col gap-3 group relative overflow-hidden card-interactive
            ${l?"bg-zinc-900/50 border-zinc-800 opacity-60 grayscale disabled":"bg-[#0a0a0c] border-white/5"}
            ${u?"ring-2 ring-indigo-500/50 bg-[#0c0c0e]":""}
            min-h-[180px]`,children:[l&&e.jsx("div",{className:"absolute inset-0 bg-black/60 z-20 flex items-center justify-center backdrop-blur-[1px]",children:e.jsxs("div",{className:"text-red-500 font-black uppercase text-sm flex items-center gap-2 border border-red-500/30 px-3 py-2 rounded bg-black/90 shadow-xl",children:[e.jsx("i",{className:"fa-solid fa-lock"}),m("ui.locked")," (Lvl ",t.reqLevel||1,")"]})}),d&&!l&&e.jsx("div",{className:"absolute top-2 right-12 z-20 animate-in fade-in zoom-in duration-300",children:e.jsxs("span",{className:"flex items-center gap-1.5 px-2 py-1 rounded-full bg-emerald-500/10 border border-emerald-500/30 text-[10px] font-bold text-emerald-400 shadow-[0_0_10px_rgba(16,185,129,0.2)]",children:[e.jsx("i",{className:"fa-solid fa-rotate-right animate-spin text-[8px]"}),m("management.active").toUpperCase()]})}),w>0&&e.jsx("div",{className:"absolute top-2 right-2 z-20 animate-in fade-in zoom-in duration-300",children:e.jsxs("span",{className:"flex items-center gap-1 px-2 py-1 rounded-full bg-amber-500/10 border border-amber-500/30 text-[10px] font-bold text-amber-400 shadow-[0_0_10px_rgba(251,191,36,0.2)]",children:[e.jsx("i",{className:"fa-solid fa-star text-[8px]"}),"+",w,"%"]})}),e.jsxs("div",{onClick:()=>!l&&f(),className:`flex justify-between items-start cursor-pointer hover:bg-white/5 rounded-lg p-2 -m-2 transition-colors relative z-10 select-none ${l?"cursor-default":""}`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center text-lg border relative z-10 transition-transform group-hover:scale-110 duration-300
                        ${t.role==="producer"?"bg-emerald-900/20 text-emerald-400 border-emerald-500/20":t.role==="seller"?"bg-indigo-900/20 text-indigo-400 border-indigo-500/20":"bg-purple-900/20 text-purple-400 border-purple-500/20"}`,children:e.jsx("i",{className:`fa-solid ${t.icon||"fa-user"}`})}),e.jsxs("div",{children:[e.jsxs("div",{className:"text-sm font-black text-white uppercase tracking-tight flex items-center gap-2",children:[m(`staff.${n}.name`),!l&&e.jsx("i",{className:`fa-solid fa-chevron-down text-[10px] text-zinc-600 transition-transform ${u?"rotate-180":""}`})]}),e.jsx("div",{className:"text-[11px] text-zinc-400 leading-tight max-w-[160px]",children:m(`staff.${n}.desc`)})]})]}),e.jsx("div",{className:"text-right",children:e.jsx("div",{className:"text-sm font-bold text-white bg-white/5 px-2.5 py-1 rounded border border-white/5 inline-block min-w-[32px] text-center number-ticker",children:s})})]}),e.jsxs("div",{className:"flex flex-col gap-2 relative z-10 mt-auto",children:[e.jsxs("div",{onClick:()=>!l&&f(),className:"grid grid-cols-2 gap-2 text-[10px] bg-black/20 p-2 rounded-lg border border-white/5 cursor-pointer hover:border-white/10 transition-colors",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-zinc-600 uppercase font-bold tracking-wider text-[10px]",children:m("management.salary")}),e.jsxs("span",{className:"text-red-400 font-mono text-xs number-ticker",children:["-",E(t.salary)," kr"]})]}),e.jsxs("div",{className:"flex flex-col items-end",children:[e.jsx("span",{className:"text-zinc-600 uppercase font-bold tracking-wider text-[10px]",children:"Status"}),e.jsx("span",{className:`${s>0?"text-emerald-400":"text-zinc-500"} font-mono uppercase text-xs`,children:s>0?m("management.active"):m("management.inactive")})]})]}),u&&e.jsxs("div",{className:"p-2 space-y-2 bg-indigo-500/5 border border-indigo-500/20 rounded animate-in fade-in slide-in-from-top-1",children:[e.jsxs("div",{className:"flex justify-between items-center border-b border-indigo-500/10 pb-1",children:[e.jsx("span",{className:"text-[9px] text-indigo-300 font-bold uppercase",children:m("management.details")}),e.jsx("span",{className:"text-[8px] text-zinc-500 italic",children:m("management.per_unit")})]}),e.jsxs("div",{className:"space-y-1",children:[t.role==="producer"&&Object.entries(t.rates||{}).map(([b,_])=>e.jsxs("div",{className:"flex justify-between text-[10px]",children:[e.jsxs("span",{className:"text-zinc-400 font-mono capitalize",children:[b.replace("_"," "),":"]}),e.jsxs("span",{className:"text-emerald-400 font-bold number-ticker",children:["+",(_*60).toFixed(1),"/min"]})]},b)),t.role==="seller"&&Object.entries(t.rates||{}).map(([b,_])=>e.jsxs("div",{className:"flex justify-between text-[10px]",children:[e.jsxs("span",{className:"text-zinc-400 font-mono capitalize",children:[b.replace("_"," "),":"]}),e.jsxs("span",{className:"text-amber-400 font-bold number-ticker",children:["~",(_*60).toFixed(1),"/min"]})]},b)),t.role==="reducer"&&e.jsxs("div",{className:"flex justify-between text-[10px]",children:[e.jsx("span",{className:"text-zinc-400 font-mono",children:t.target==="heat"?"Heat Dekay:":"Vask Rate:"}),e.jsx("span",{className:"text-blue-400 font-bold number-ticker",children:t.target==="heat"?`-${t.rate}/s`:`+${(t.rate*100).toFixed(0)}%`})]}),w>0&&e.jsxs("div",{className:"flex justify-between text-[10px] border-t border-amber-500/10 pt-1 mt-1",children:[e.jsxs("span",{className:"text-amber-400 font-mono flex items-center gap-1",children:[e.jsx("i",{className:"fa-solid fa-star text-[8px]"}),m("management.loyalty"),":"]}),e.jsxs("span",{className:"text-amber-400 font-bold number-ticker",children:["+",w,"%"]})]})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between mt-auto pt-2 border-t border-white/5 relative z-10 min-h-[42px]",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{className:`text-sm font-mono font-bold number-ticker ${i?"text-emerald-400":"text-red-500"}`,children:[E(c)," kr."]}),g!==1&&e.jsxs("div",{className:"text-[10px] text-zinc-500 font-mono number-ticker",children:["for ",o," stk"]})]}),e.jsxs("div",{className:"flex gap-4 items-center",onClick:b=>b.stopPropagation(),children:[s>0&&a&&e.jsx(A,{onClick:()=>a(n,g),className:"w-8 h-8 !p-0 flex items-center justify-center opacity-80 hover:opacity-100",variant:"danger",title:`${m("management.fire")} ${g==="max"?m("ui.max"):g}`,disabled:l,children:e.jsx("i",{className:"fa-solid fa-user-minus"})}),e.jsxs(A,{onClick:()=>r(n,g),disabled:!i||l,variant:i&&!l?"primary":"neutral",className:`flex items-center gap-2 font-bold transition-all px-6 py-1.5 
                            ${s===0?"bg-emerald-500/10 animate-pulse":""}`,children:[e.jsx("span",{children:m("management.hire")}),e.jsx("i",{className:"fa-solid fa-plus text-[10px]"})]})]})]})]})}),zt=y.memo(({itemKey:t,item:s,currentLevel:n,onBuy:r,state:a})=>{const{t:i}=O(),{buyAmount:l}=U();if(a.level<s.reqLevel)return null;const o=s.costFactor||1.5;let d=l;l==="max"&&(d=ae(s.baseCost,o,n,a.cleanCash)),d<=0&&(d=1);const u=se(s.baseCost,o,n,d),f=a.cleanCash>=u;return e.jsxs("div",{className:"p-4 bg-zinc-900/30 border border-white/5 rounded-lg flex justify-between items-center group card-interactive",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-bold text-white max-w-[140px] truncate group-hover:text-purple-400 transition-colors",children:i(`upgrades.${t}.name`)}),e.jsxs("div",{className:"text-[10px] text-zinc-500 font-mono mt-0.5",children:["Lvl ",n,l!==1&&d>1&&e.jsxs("span",{className:"text-emerald-500 font-bold ml-1",children:["+",d]})]})]}),e.jsxs(A,{onClick:()=>r(t,l),disabled:!f,variant:f?"primary":"neutral",size:"sm",className:"min-w-[70px]",title:`${i("ui.buy")} ${l==="max"?d:l}x`,children:[E(u)," kr"]})]})}),Vt=({state:t,setState:s,addLog:n})=>{const{t:r}=O(),{buyAmount:a}=U(),{buyStaff:i,fireStaff:l,buyUpgrade:c}=Kt(t,s,n),[o,d]=y.useState(null),u=y.useCallback(p=>{d(m=>m===p?null:p)},[]),f=y.useMemo(()=>Object.keys(t.staff||{}).reduce((p,m)=>{const g=t.staff[m]||0,w=x.staff[m]?.salary||0;return p+g*w},0),[t.staff]);return e.jsxs("div",{className:"max-w-7xl mx-auto h-full flex flex-col pb-24",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-end mb-8 gap-4 border-b border-theme-border-default pb-6",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-3xl font-black uppercase tracking-tighter text-theme-text-primary flex items-center gap-3",children:[e.jsx("i",{className:"fa-solid fa-users text-purple-500"})," ",r("management.title")]}),e.jsx("p",{className:"text-theme-text-secondary text-sm mt-1",children:r("management.subtitle")})]}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-end",children:[e.jsxs(A,{onClick:()=>{t.cleanCash>=f&&(s(p=>({...p,cleanCash:p.cleanCash-f,payroll:{...p.payroll,lastPaid:Date.now(),isStriking:!1}})),n(`L√∏n udbetalt manuelt: ${E(f)} kr.`,"success"))},disabled:t.cleanCash<f||f===0,className:"px-6 py-2 h-10 text-xs font-bold whitespace-nowrap",variant:t.payroll?.isStriking?"danger":"neutral",title:"Nulstil l√∏n-timeren ved at betale nu",children:[t.payroll?.isStriking?r("management.stop_strike"):r("management.pay_salary")," (",E(f),")"]}),e.jsx(ve,{})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2 space-y-6",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(x.staff).map(([p,m])=>{const g=t.staff[p]||0,w=t.level<m.reqLevel;let h=a;a==="max"&&(h=ae(m.baseCost,m.costFactor||1.15,g,t.cleanCash)),h<=0&&(h=1);const b=se(m.baseCost,m.costFactor||1.15,g,h),_=t.cleanCash>=b,k=p==="accountant"&&g>0&&t.dirtyCash>0;return e.jsx(Gt,{role:p,item:m,count:g,onBuy:i,onSell:l,locked:w,canAfford:_,costToDisplay:b,actualAmount:h,isWorking:k,isExpanded:o===p,onToggle:()=>u(p),hiredDate:t.staffHiredDates?.[p]},p)})})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-theme-surface-elevated border border-theme-border-subtle rounded-2xl p-4 shadow-xl",children:[e.jsxs("h3",{className:"text-xs font-black text-blue-500 uppercase tracking-widest mb-4 flex items-center gap-2",children:[e.jsx("i",{className:"fa-solid fa-chart-line"})," ",r("management.economy")]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center text-xs border-b border-theme-border-subtle pb-2",children:[e.jsx("span",{className:"text-theme-text-muted font-bold uppercase text-[9px]",children:r("management.salary_interval")}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("span",{className:"text-theme-danger font-mono",children:["-",E(f)," kr / 5 min"]})})]}),e.jsxs("div",{className:"flex justify-between items-center text-xs border-b border-theme-border-subtle pb-2",children:[e.jsx("span",{className:"text-theme-text-muted font-bold uppercase text-[9px]",children:r("management.total_revenue")}),e.jsxs("span",{className:"text-theme-success font-mono",children:[E(t.lifetime?.earnings||0)," kr."]})]}),e.jsxs("div",{className:"flex justify-between items-center text-xs",children:[e.jsx("span",{className:"text-theme-text-muted font-bold uppercase text-[9px]",children:r("management.laundered")}),e.jsxs("span",{className:"text-theme-info font-mono",children:[E(t.lifetime?.laundered||0)," kr."]})]})]})]}),e.jsxs("div",{className:"bg-theme-surface-elevated border border-theme-border-subtle rounded-2xl p-4 shadow-xl",children:[e.jsxs("h3",{className:"text-xs font-black text-purple-500 uppercase tracking-widest mb-4 flex items-center gap-2",children:[e.jsx("i",{className:"fa-solid fa-arrow-up-right-dots"})," ",r("management.upgrades")]}),e.jsx("div",{className:"space-y-3",children:Object.entries(x.upgrades).map(([p,m])=>e.jsx(zt,{itemKey:p,item:m,currentLevel:t.upgrades[p]||0,onBuy:c,state:t},p))})]})]})]})]})},Ut=(t,s,n)=>{const{t:r}=O(),a=y.useCallback((l,c)=>{const o=x.defense[l],d=t.defense[l]||0;let u=c==="max"?ae(o.baseCost,o.costFactor,d,t.cleanCash):c;if(u<=0)return;const f=se(o.baseCost,o.costFactor,d,u);t.cleanCash>=f&&(s(p=>({...p,cleanCash:p.cleanCash-f,defense:{...p.defense,[l]:(p.defense[l]||0)+u}})),n(`${r("rivals.buy")} ${u}x ${r(`rivals_interactive.defense.${l}.name`)}`,"success"))},[t.cleanCash,t.defense,s,n,r]),i=y.useCallback(l=>{if(!l||l.trim()==="")return n(r("rivals_interactive.wars.error_empty"),"error"),!1;try{const c=JSON.parse(atob(l));if(!c.n||!c.s||!c.l)throw new Error("Manglende data felter");if(typeof c.l!="number"||c.l<1||c.l>100)throw new Error("Ugyldigt level");if(typeof c.s!="number"||c.s<0||c.s>200)throw new Error("Ugyldig styrke");if(typeof c.n!="string"||c.n.length>50)throw new Error("Ugyldigt navn");return s(o=>({...o,rival:{...o.rival,name:c.n,strength:Math.min(100,Math.max(0,c.s)),level:c.l}})),n(`${r("rivals_interactive.wars.search_success",{name:c.n,level:c.l})}`,"success"),!0}catch{return n(r("rivals_interactive.wars.error_invalid"),"error"),!1}},[s,n,r]);return{buyDefense:a,findRival:i}},qt=({state:t,setState:s,addLog:n,...r})=>{const{t:a}=O(),[i,l]=y.useState(1),{buyDefense:c,findRival:o}=Ut(t,s,n),{sabotageRival:d,raidRival:u,bribePolice:f,strikeRival:p}=r;return e.jsxs("div",{className:"max-w-6xl mx-auto space-y-10 pb-24 animate-in fade-in slide-in-from-bottom-4 duration-700",children:[e.jsx(Te,{title:a("rivals.title"),subtitle:a("rivals.subtitle"),icon:"fa-solid fa-skull-crossbones",accentColor:"danger",variant:"underlined"}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:e.jsxs("div",{className:"lg:col-span-12 xl:col-span-7 space-y-8",children:[e.jsxs(X,{padding:"p-8",hover:!0,className:"shadow-[0_0_40px_rgba(59,130,246,0.05)] group",children:[e.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-blue-600/5 rounded-full blur-[80px] -mr-32 -mt-32"}),e.jsx("div",{className:"absolute -right-4 top-4 opacity-5 text-blue-500 text-[12rem] pointer-events-none select-none",children:e.jsx("i",{className:"fa-solid fa-tower-broadcast animate-pulse"})}),e.jsxs("div",{className:"flex justify-between items-start mb-8 relative z-10",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-blue-400 font-bold uppercase tracking-[0.2em] text-xs flex items-center gap-3 mb-1",children:[e.jsx("span",{className:"w-2 h-2 rounded-full bg-blue-500 animate-ping"}),a("rivals.scanner.title")]}),e.jsx("div",{className:"text-2xl font-black text-white uppercase tracking-tight",children:a("rivals.scanner.police")})]}),e.jsx("div",{className:`px-4 py-1.5 rounded-full text-[10px] font-black uppercase tracking-widest border transition-all duration-500
                                ${t.heat>80?"bg-red-600/20 text-red-500 border-red-500/40 animate-pulse":"bg-blue-600/10 text-blue-400 border-blue-500/30"}`,children:t.heat>80?a("rivals.scanner.status_raid"):a("rivals.scanner.status_active")})]}),e.jsxs("div",{className:"mb-10 relative z-10",children:[e.jsxs("div",{className:"flex justify-between items-end mb-3",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("span",{className:"text-[10px] font-black text-zinc-500 uppercase tracking-widest block",children:a("rivals.scanner.threat_level")}),e.jsxs("div",{className:`text-4xl font-mono font-black ${t.heat>80?"text-red-500":t.heat>50?"text-amber-500":"text-blue-500"}`,children:[t.heat.toFixed(1),"%"]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("span",{className:"text-[10px] font-bold text-zinc-600 uppercase block mb-1",children:a("rivals.scanner.status_label")}),e.jsx("div",{className:"text-xs font-bold text-white uppercase",children:t.heat>80?a("rivals.scanner.level.critical"):t.heat>50?a("rivals.scanner.level.high"):a("rivals.scanner.level.safe")})]})]}),e.jsxs("div",{className:"relative h-6 w-full bg-black/40 rounded-full border border-white/5 p-1 overflow-hidden shadow-inner",children:[e.jsx("div",{className:"absolute inset-0 flex justify-between px-4 pointer-events-none",children:[...Array(10)].map((m,g)=>e.jsx("div",{className:"w-px h-full bg-white/5"},g))}),e.jsx("div",{className:`h-full rounded-full transition-all duration-700 relative shadow-[0_0_15px_rgba(59,130,246,0.3)]
                                    ${t.heat>80?"bg-gradient-to-r from-red-600 to-red-400 shadow-red-600/40":t.heat>50?"bg-gradient-to-r from-amber-600 to-amber-400 shadow-amber-600/40":"bg-gradient-to-r from-blue-600 to-blue-400 shadow-blue-600/40"}`,style:{width:`${Math.min(100,t.heat)}%`},children:e.jsx("div",{className:"absolute inset-x-0 top-0 h-1/2 bg-white/10 rounded-full"})})]})]}),e.jsx("div",{className:"relative z-10",children:e.jsx(A,{onClick:f,disabled:t.dirtyCash<5e4||t.heat<=0,className:"w-full p-0 overflow-hidden bg-white/[0.02] border-white/5 hover:bg-white/[0.05] hover:border-blue-500/30 group transition-all",variant:"ghost",children:e.jsxs("div",{className:"flex items-center justify-between w-full p-4 md:p-6",children:[e.jsxs("div",{className:"flex items-center gap-5",children:[e.jsx("div",{className:"w-14 h-14 rounded-2xl bg-blue-600/10 text-blue-400 flex items-center justify-center border border-blue-500/20 group-hover:scale-110 transition-transform",children:e.jsx("i",{className:"fa-solid fa-money-bill-transfer text-2xl"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"text-lg font-black text-white uppercase tracking-tight",children:a("rivals.actions.bribe")}),e.jsx("div",{className:"text-xs text-zinc-500 font-medium font-mono",children:a("rivals.actions.bribe_desc")})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-[10px] font-bold text-zinc-500 uppercase mb-1",children:a("rivals.cost")}),e.jsxs("div",{className:"text-xl font-mono font-black text-amber-500",children:["50.000 ",e.jsx("span",{className:"text-xs",children:"kr"})]})]})]})})})]}),e.jsxs(X,{padding:"p-8",hover:!1,className:"shadow-[0_0_40px_rgba(220,38,38,0.05)] group hover:border-theme-danger/40 hover:shadow-xl",children:[e.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-red-600/5 rounded-full blur-[80px] -mr-32 -mt-32"}),e.jsxs("div",{className:"flex justify-between items-end mb-8 relative z-10",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs("h3",{className:"text-red-500 font-bold uppercase tracking-[0.2em] text-xs flex items-center gap-3",children:[e.jsx("i",{className:"fa-solid fa-user-secret"})," ",a("rivals.rival_syndicate")]}),(()=>{const m=t.level<4?{name:"Lille A",desc:a("rival_profiles.lille_a")}:t.level<8?{name:"Baronen",desc:a("rival_profiles.baronen")}:{name:"Onkel J",desc:a("rival_profiles.onkel_j")};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"text-3xl font-black text-white uppercase tracking-tighter italic",children:m.name}),e.jsx("p",{className:"text-[10px] text-zinc-500 mt-2 font-terminal leading-relaxed max-w-sm",children:m.desc})]})})()]}),e.jsxs("div",{className:"text-right",children:[e.jsx("span",{className:"text-[10px] font-black text-zinc-500 uppercase tracking-widest block mb-1",children:a("rivals.hostility")}),e.jsxs("div",{className:"text-4xl font-mono font-black text-red-600 drop-shadow-[0_0_10px_rgba(220,38,38,0.3)]",children:[t.rival.hostility.toFixed(1),"%"]})]})]}),e.jsxs("div",{className:"mb-6 relative z-10",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-[10px] font-black text-amber-500 uppercase tracking-widest",children:a("rivals.strength")}),e.jsxs("span",{className:"text-sm font-mono font-black text-amber-500",children:[t.rival.strength.toFixed(1),"%"]})]}),e.jsx("div",{className:"h-2 bg-black/40 rounded-full overflow-hidden border border-white/5",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-amber-600 to-amber-400 transition-all duration-700 shadow-[0_0_10px_rgba(251,191,36,0.4)]",style:{width:`${t.rival.strength}%`}})})]}),e.jsx("div",{className:"relative mb-10 z-10",children:e.jsx("div",{className:"w-full h-2 bg-black/60 rounded-full overflow-hidden border border-white/5 shadow-inner p-px",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-red-900 via-red-600 to-red-400 shadow-[0_0_20px_rgba(220,38,38,0.4)] transition-all duration-1000 relative",style:{width:`${t.rival.hostility}%`},children:e.jsx("div",{className:"absolute top-0 right-0 h-full w-4 bg-white/20 blur-sm"})})})}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 relative z-10",children:[e.jsxs(A,{onClick:d,disabled:t.cleanCash<25e3,className:"group relative overflow-hidden bg-white/[0.02] border-white/5 hover:border-amber-500/30 transition-all p-6",variant:"ghost",children:[e.jsxs("div",{className:"relative z-10 text-left",children:[e.jsx("div",{className:"text-[10px] text-amber-500/80 uppercase font-black tracking-widest mb-2",children:a("rivals.actions.sabotage")}),e.jsx("div",{className:"text-lg font-black text-white mb-2 uppercase leading-none",children:a("rivals.actions.sabotage_desc")}),e.jsxs("div",{className:"flex justify-between items-center mt-4 text-[10px] font-bold",children:[e.jsx("span",{className:"text-zinc-500 uppercase",children:a("rivals.cost")}),e.jsx("span",{className:"text-emerald-400",children:"25k"})]})]}),e.jsx("div",{className:"absolute -right-4 -bottom-4 opacity-5 text-amber-500 text-6xl group-hover:scale-110 transition-transform",children:e.jsx("i",{className:"fa-solid fa-clock-rotate-left"})})]}),e.jsxs(A,{onClick:u,disabled:t.heat>80,className:"group relative overflow-hidden bg-red-950/5 border-red-500/10 hover:border-red-500/40 hover:bg-red-950/20 transition-all p-6",variant:"ghost",children:[e.jsxs("div",{className:"relative z-10 text-left",children:[e.jsx("div",{className:"text-[10px] text-red-500 uppercase font-black tracking-widest mb-2",children:a("rivals.actions.raid")}),e.jsx("div",{className:"text-lg font-black text-white mb-2 uppercase leading-none",children:a("rivals.actions.raid_desc")}),e.jsxs("div",{className:"flex justify-between items-center mt-4 text-[10px] font-bold uppercase",children:[e.jsx("span",{className:"text-zinc-500",children:a("rivals.risk")}),e.jsx("span",{className:"text-red-500 animate-pulse",children:"Heat +++"})]})]}),e.jsx("div",{className:"absolute -right-4 -bottom-4 opacity-5 text-red-500 text-6xl group-hover:scale-110 transition-transform",children:e.jsx("i",{className:"fa-solid fa-burst"})})]}),e.jsxs(A,{onClick:p,disabled:t.cleanCash<5e4,className:"group relative overflow-hidden bg-red-600/10 border-red-600/20 hover:border-red-600/60 transition-all p-6",variant:"ghost",children:[e.jsxs("div",{className:"relative z-10 text-left",children:[e.jsx("div",{className:"text-[10px] text-red-500 uppercase font-black tracking-widest mb-2",children:a("rivals.actions.war")}),e.jsx("div",{className:"text-lg font-black text-white mb-2 uppercase leading-none",children:a("rivals.actions.war_desc")}),e.jsxs("div",{className:"flex justify-between items-center mt-4 text-[10px] font-bold",children:[e.jsxs("span",{className:"text-zinc-500 uppercase",children:[a("rivals.cost"),"."]}),e.jsx("span",{className:"text-emerald-400",children:"50k"})]})]}),e.jsx("div",{className:"absolute -right-4 -bottom-4 opacity-10 text-red-600 text-6xl group-hover:scale-110 transition-transform",children:e.jsx("i",{className:"fa-solid fa-gun"})})]})]})]}),e.jsxs(X,{padding:"p-8",hover:!1,className:"shadow-lg mb-8 hover:border-purple-500/40 group",children:[e.jsxs("div",{className:"bg-zinc-900/40 rounded-3xl p-8 border border-white/5 relative overflow-hidden",children:[e.jsx("div",{className:"flex justify-between items-start mb-6",children:e.jsx("div",{children:e.jsxs("h3",{className:"text-xl font-black text-white uppercase flex items-center gap-3",children:[e.jsx("i",{className:"fa-solid fa-users-crosshairs text-indigo-400"}),a("rivals.wars.title"),e.jsx("span",{className:"text-[10px] bg-indigo-500 text-white px-2 py-0.5 rounded-full tracking-widest",children:a("rivals.wars.beta")})]})})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"bg-black/30 p-6 rounded-2xl border border-white/5",children:[e.jsx("h4",{className:"text-indigo-300 font-bold uppercase text-sm mb-2",children:a("rivals.wars.challenge")}),e.jsx("p",{className:"text-zinc-500 text-xs mb-4",children:a("rivals.wars.challenge_desc")}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"bg-black/50 p-2 rounded border border-white/10 font-mono text-zinc-300 text-xs flex-1 text-center select-all",children:t.syndicateId||"SYN-8291-XJ"}),e.jsx(A,{size:"xs",variant:"primary",className:"!py-2",onClick:()=>{const m=btoa(JSON.stringify({n:a(`ranks.${(t.level||1)-1}`)||"Gangster",s:Math.min(100,50+(t.level||1)*5),l:t.level||1}));navigator.clipboard.writeText(m),n(`${a("rivals_interactive.wars.copy_success")}`,"success")},children:a("rivals.wars.copy")})]})]}),e.jsxs("div",{className:"bg-black/30 p-6 rounded-2xl border border-white/5",children:[e.jsx("h4",{className:"text-indigo-300 font-bold uppercase text-sm mb-2",children:a("rivals.wars.find")}),e.jsx("p",{className:"text-zinc-500 text-xs mb-4",children:a("rivals.wars.find_desc")}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",id:"rivalCodeInput",placeholder:"SYN-XXXX-XX",className:"bg-black/50 p-2 rounded border border-white/10 font-mono text-white text-xs flex-1 outline-none focus:border-indigo-500 transition-colors"}),e.jsx(A,{size:"xs",variant:"neutral",className:"!py-2",onClick:()=>{const m=document.getElementById("rivalCodeInput");m?o(m.value)&&(m.value=""):n(a("rivals_interactive.wars.error_input_not_found"),"error")},children:a("rivals.wars.search")})]})]})]})]}),e.jsxs("div",{className:"mt-8",children:[e.jsx("div",{className:"flex justify-between items-end mb-4",children:e.jsxs("div",{children:[e.jsxs("h3",{className:"text-xl font-black text-white uppercase flex items-center gap-3",children:[e.jsx("i",{className:"fa-solid fa-map-location-dot text-purple-400"}),a("rivals.grid.title")]}),e.jsxs("div",{className:"text-[10px] font-bold text-zinc-500 uppercase tracking-widest",children:[a("rivals.grid.dominance"),": ",((t.territories?.length||0)/x.territories.length*100).toFixed(0),"%"]})]})}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-4",children:x.territories.map(m=>{const g=t.territories?.includes(m.id),w=t.rival.occupiedTerritories?.includes(m.id),h=t.level<m.reqLevel;return e.jsxs("div",{className:`relative p-4 rounded-xl border transition-all duration-500 text-center flex flex-col items-center justify-between min-h-[120px]
                                        ${g?"bg-indigo-500/10 border-indigo-500/50 shadow-[0_0_15px_rgba(99,102,241,0.1)]":w?"bg-red-500/10 border-red-500/50 shadow-[0_0_15px_rgba(220,38,38,0.1)]":h?"bg-white/5 border-white/5 opacity-50 grayscale":"bg-white/5 border-white/10"}`,children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center mb-2 shadow-inner
                                            ${g?"bg-indigo-500 text-white":w?"bg-red-600 text-white animate-pulse":"bg-black/40 text-zinc-600"}`,children:e.jsx("i",{className:`fa-solid ${h?"fa-lock":w?"fa-skull":"fa-city"} text-sm`})}),e.jsx("div",{className:"text-[9px] font-black text-white uppercase truncate w-full mb-1",children:m.name}),e.jsx("div",{className:"mt-auto text-[8px] font-bold uppercase tracking-wider",children:h?`Lvl ${m.reqLevel}`:g?e.jsx("span",{className:"text-indigo-400",children:a("network.controlled")}):w?e.jsx("span",{className:"text-red-500",children:a("network.rival_occupation")}):e.jsx("span",{className:"text-zinc-600",children:"-"})})]},m.id)})})]}),e.jsxs("div",{className:"bg-gradient-to-br from-zinc-900 via-zinc-950 to-black rounded-3xl border border-white/5 p-8 relative overflow-hidden mt-8",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-end mb-8 gap-4 relative z-10",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-2xl font-black text-white uppercase tracking-tighter flex items-center gap-3",children:[e.jsx("i",{className:"fa-solid fa-shield-dog text-emerald-500"}),a("rivals.defense.title")]}),e.jsx("p",{className:"text-zinc-500 text-sm mt-1",children:a("rivals.defense.hq")})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("span",{className:"text-[10px] font-bold text-zinc-600 uppercase block mb-1",children:a("rivals.defense.total_value")}),e.jsxs("div",{className:"text-3xl font-mono font-black text-emerald-500",children:[Object.entries(t.defense).reduce((m,[g,w])=>m+w*x.defense[g].defenseVal,0),e.jsx("span",{className:"text-sm text-zinc-600 ml-2",children:a("rivals.defense.points")})]})]})]}),e.jsx("div",{className:"flex justify-end mb-6",children:e.jsx(ve,{buyAmount:i,setBuyAmount:l})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 relative z-10",children:Object.entries(x.defense).map(([m,g])=>{const w=t.defense[m]||0;let h=i;i==="max"&&(h=ae(g.baseCost,g.costFactor,w,t.cleanCash)),h<=0&&(h=1);const b=se(g.baseCost,g.costFactor,w,h),_=t.cleanCash>=b;return e.jsxs("div",{className:"bg-black/40 rounded-xl p-5 border border-white/5 hover:border-emerald-500/30 transition-all group relative overflow-hidden",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-lg bg-emerald-900/20 text-emerald-500 flex items-center justify-center border border-emerald-500/20 text-xl group-hover:scale-110 transition-transform",children:e.jsx("i",{className:`fa-solid ${g.icon}`})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-white uppercase text-sm",children:a(`rivals_interactive.defense.${m}.name`)}),e.jsxs("div",{className:"text-[10px] text-emerald-400 font-mono",children:["+",g.defenseVal," ",a("rivals.defense.points")]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-2xl font-black text-white",children:w}),e.jsx("div",{className:"text-[9px] text-zinc-600 uppercase tracking-wider",children:a("rivals.defense.active")})]})]}),e.jsx("p",{className:"text-[10px] text-zinc-500 mb-4 h-8 leading-tight",children:a(`rivals_interactive.defense.${m}.desc`)}),e.jsxs(A,{onClick:()=>c(m,i),disabled:!_,className:`w-full py-3 text-[10px] flex justify-between px-4 items-center ${_?"hover:bg-emerald-500/20 hover:border-emerald-500/50":"opacity-50"}`,variant:"neutral",children:[e.jsxs("span",{className:"font-bold uppercase tracking-wider group-hover:text-emerald-400 transition-colors",children:[a("rivals.defense.buy")," (",h,"x)"]}),e.jsxs("span",{className:"font-mono text-emerald-500/80 bg-black/50 px-2 py-0.5 rounded border border-emerald-500/20",children:[E(b)," kr"]})]})]},m)})})]})]})]})})]})},Wt=({state:t,activateGhostMode:s})=>t.heat<100?null:e.jsxs("div",{className:"fixed inset-0 z-[1000] bg-red-950/95 backdrop-blur-2xl flex flex-col items-center justify-center p-8 animate-in fade-in duration-500 overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 opacity-20 pointer-events-none",children:[e.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(rgba(255,0,0,0.1)_1px,transparent_1px)] bg-[size:100%_4px] animate-scanline"}),e.jsx("div",{className:"absolute inset-0 bg-red-600/10 mix-blend-overlay"})]}),e.jsxs("div",{className:"relative max-w-2xl w-full bg-theme-bg-primary border-2 border-theme-danger rounded-3xl p-10 shadow-[0_0_100px_rgba(220,38,38,0.5)] flex flex-col items-center text-center",children:[e.jsx("div",{className:"w-24 h-24 rounded-full bg-theme-danger flex items-center justify-center text-black text-5xl mb-8 animate-pulse",children:e.jsx("i",{className:"fa-solid fa-skull-crossbones"})}),e.jsxs("h1",{className:"text-6xl font-black text-white uppercase tracking-tighter italic mb-4",children:["GHOST ",e.jsx("span",{className:"text-theme-danger",children:"MODE"})]}),e.jsx("h2",{className:"text-theme-danger font-bold uppercase tracking-[0.3em] text-xs mb-8",children:"EMERGENCY LOCKDOWN PROTOCOL ACTIVE"}),e.jsxs("div",{className:"bg-theme-danger/10 border border-theme-danger/30 rounded-2xl p-6 mb-10 w-full text-left font-mono",children:[e.jsxs("p",{className:"text-theme-danger font-bold text-sm mb-4 leading-relaxed",children:["Politiet st√•r for d√∏ren. Dine servere er overophedet, og dine lokationer er overv√•get. Aktivering af ",e.jsx("span",{className:"text-white font-bold",children:"GHOST MODE"})," vil slette alle spor, men prisen er total."]}),e.jsxs("ul",{className:"text-[10px] text-theme-danger space-y-2 uppercase font-black",children:[e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("i",{className:"fa-solid fa-check"})," Reset Heat til 0%"]}),e.jsxs("li",{className:"flex items-center gap-2 text-white",children:[e.jsx("i",{className:"fa-solid fa-triangle-exclamation"})," Slet alle beskidte penge (100% loss)"]}),e.jsxs("li",{className:"flex items-center gap-2 text-white",children:[e.jsx("i",{className:"fa-solid fa-triangle-exclamation"})," -10% vaskede penge (Sletning af spor)"]})]})]}),e.jsx(A,{onClick:s,className:"w-full py-6 text-xl bg-theme-danger hover:bg-red-500 text-black border-theme-danger shadow-[0_0_30px_rgba(220,38,38,0.4)]",variant:"neutral",children:"AKTIVER GHOST PROTOCOL"}),e.jsx("p",{className:"text-[10px] text-theme-text-muted mt-6 uppercase tracking-widest animate-pulse font-terminal",children:"DO NOT DISCONNECT. SITTING DUCK STATUS: DETECTED."})]}),e.jsx("div",{className:"absolute top-10 left-10 text-red-900/40 text-8xl font-black italic select-none pointer-events-none -rotate-12",children:"POLITI RAZZIA"}),e.jsx("div",{className:"absolute bottom-10 right-10 text-red-900/40 text-8xl font-black italic select-none pointer-events-none rotate-12",children:"TOTAL LOCKDOWN"})]}),Ve=()=>{const[t,s]=y.useState(null),n=y.useCallback(l=>s(l),[]),r=y.useCallback(()=>s(null),[]),a=y.useCallback(l=>s(c=>c===l?null:l),[]);y.useEffect(()=>{const l=c=>{c.key==="Escape"&&r()};return document.addEventListener("keydown",l),()=>document.removeEventListener("keydown",l)},[r]);const i=y.useCallback(l=>({role:"button",tabIndex:0,"aria-expanded":t===l,"aria-controls":`${l}-tooltip`,onClick:c=>{c.stopPropagation(),a(l)},onKeyDown:c=>{(c.key==="Enter"||c.key===" ")&&(c.preventDefault(),a(l))}}),[t,a]);return{activeId:t,open:n,close:r,toggle:a,isOpen:l=>t===l,getTriggerProps:i}},pe=({isOpen:t,onClose:s,accentColor:n="primary",position:r="bottom",className:a="",children:i})=>{if(!t)return null;const l={primary:{border:"border-theme-primary",text:"text-theme-primary"},success:{border:"border-theme-success",text:"text-theme-success"},warning:{border:"border-theme-warning",text:"text-theme-warning"},danger:{border:"border-theme-danger",text:"text-theme-danger"},info:{border:"border-theme-info",text:"text-theme-info"}},c=l[n]||l.primary,o={bottom:"top-full left-1/2 -translate-x-1/2 mt-2","bottom-left":"top-full left-0 mt-2","bottom-right":"top-full right-0 mt-2",top:"bottom-full left-1/2 -translate-x-1/2 mb-2"};return e.jsxs("div",{role:"tooltip",onClick:d=>d.stopPropagation(),className:`absolute ${o[r]||o.bottom} w-56 bg-theme-surface-elevated rounded-lg border ${c.border}/50 p-4 z-[100] shadow-2xl animate-in fade-in slide-in-from-top-2 ${a}`,children:[e.jsx("button",{onClick:d=>{d.stopPropagation(),s()},className:"absolute top-2 right-2 w-6 h-6 flex items-center justify-center text-theme-text-muted hover:text-theme-text-primary transition-colors rounded hover:bg-theme-bg-primary/10","aria-label":"Close tooltip",children:e.jsx("i",{className:"fa-solid fa-xmark text-xs"})}),i]})},fe=({title:t,accentColor:s="primary"})=>{const n={primary:"text-theme-primary border-theme-primary/20",success:"text-theme-success border-theme-success/20",warning:"text-theme-warning border-theme-warning/20",danger:"text-theme-danger border-theme-danger/20",info:"text-theme-info border-theme-info/20"},r=n[s]||n.primary;return e.jsx("div",{className:`text-[10px] font-bold uppercase tracking-wider mb-2 border-b pb-1 pr-6 ${r}`,children:t})},ge=({children:t,className:s=""})=>e.jsx("div",{className:`space-y-1 text-xs ${s}`,children:t}),ee=({label:t,value:s,valueClass:n="text-theme-text-primary"})=>e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"text-theme-text-secondary",children:[t,":"]}),e.jsx("span",{className:`font-mono ${n}`,children:s})]}),Ne=({children:t,className:s=""})=>e.jsx("div",{className:`mt-3 text-[9px] text-theme-text-muted italic border-t border-theme-border-subtle pt-2 text-center ${s}`,children:t}),Yt=({state:t,incomeClean:s,incomeDirty:n,bribePolice:r})=>{const{t:a}=O(),{isOpen:i,close:l,getTriggerProps:c}=Ve();return e.jsx("div",{className:"h-[44px] bg-theme-bg-secondary/60 border-b border-theme-border-subtle backdrop-blur-md",children:e.jsxs("div",{className:"w-full max-w-6xl mx-auto h-full flex justify-between items-center px-4",children:[e.jsxs("div",{...c("clean"),className:`flex items-center gap-3 w-1/3 relative cursor-pointer group transition-all ${i("clean")?"scale-105":""}`,children:[e.jsxs(pe,{isOpen:i("clean"),onClose:l,accentColor:"success",position:"bottom-left",children:[e.jsx(fe,{title:a("header.clean_tooltip.title"),accentColor:"success"}),e.jsxs(ge,{children:[e.jsx(ee,{label:a("header.clean_tooltip.launder"),value:`+${E(s)}/s`}),e.jsx(ee,{label:a("header.clean_tooltip.legal"),value:"0/s"})]}),e.jsx(Ne,{children:a("header.clean_tooltip.footer")})]}),e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center shrink-0 transition-all ${i("clean")?"bg-theme-success text-black":"bg-theme-success/20 text-theme-success"} ${t.activeBuffs?.showCleanWarning?"animate-bounce-short bg-theme-danger/20 text-theme-danger border border-theme-danger/50":""}`,children:e.jsx("i",{className:"fa-solid fa-sack-dollar text-sm"})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:`text-[9px] font-bold uppercase tracking-wider leading-none transition-colors ${t.activeBuffs?.showCleanWarning?"text-theme-danger":"text-theme-success"}`,children:t.activeBuffs?.showCleanWarning?a("header.clean_cash_warning"):a("header.clean_cash")}),e.jsxs("div",{className:"flex items-baseline gap-1",children:[e.jsx("span",{className:`text-sm font-black font-mono leading-none transition-all ${t.activeBuffs?.showCleanWarning?"text-theme-danger scale-110":i("clean")?"text-theme-success":"text-theme-text-primary"}`,children:E(t.cleanCash)}),s>0&&e.jsxs("span",{className:"text-[9px] text-theme-success font-mono animate-pulse",children:["+",E(s)]})]})]})]}),e.jsxs("div",{...c("heat"),className:`flex flex-col items-center justify-center w-1/3 px-2 relative cursor-pointer group transition-transform ${t.heat>80&&!i("heat")?"animate-shake":""} ${i("heat")?"scale-105":""}`,children:[e.jsxs(pe,{isOpen:i("heat"),onClose:l,accentColor:"danger",position:"bottom",children:[e.jsx(fe,{title:a("header.heat_tooltip.title"),accentColor:"danger"}),e.jsxs(ge,{children:[e.jsx(ee,{label:a("header.heat_tooltip.level"),value:`${t.heat.toFixed(1)}%`,valueClass:t.heat>80?"text-theme-danger font-bold":"text-theme-text-primary"}),e.jsx("div",{className:"w-full h-px bg-theme-border-default my-1"}),e.jsx(ee,{label:a("header.heat_tooltip.risk"),value:`${Math.min(100,Math.max(0,t.heat-50)*2).toFixed(0)}%`,valueClass:"text-theme-danger"}),e.jsx(ee,{label:a("header.heat_tooltip.lawyers"),value:`-${((t.staff.lawyer||0)*.15*60).toFixed(1)}/min`,valueClass:"text-theme-success"}),t.prestige?.perks?.shadow_network>0&&e.jsx(ee,{label:a("header.heat_tooltip.shadow_network"),value:`-${(t.prestige.perks.shadow_network*.05*10).toFixed(2)}/s`,valueClass:"text-theme-text-secondary"})]}),e.jsxs("div",{className:"mt-3 pt-2 border-t border-theme-border-subtle",children:[e.jsxs(A,{onClick:o=>{o.stopPropagation(),r()},disabled:t.dirtyCash<5e4||t.heat<=0,className:"w-full py-1.5 text-[10px] uppercase font-bold flex justify-between px-2",size:"xs",variant:"neutral",children:[e.jsx("span",{children:a("header.heat_tooltip.bribe")}),e.jsx("span",{className:t.dirtyCash>=5e4?"text-theme-warning":"text-theme-danger",children:"50k"})]}),e.jsx(Ne,{className:"border-none pt-1 mt-0",children:a("header.heat_tooltip.cost_warning")})]})]}),e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("i",{className:`fa-solid fa-taxi text-[10px] ${t.heat>100?"text-theme-danger animate-pulse":t.heat>80?"text-theme-warning":"text-theme-text-muted"}`}),e.jsx("span",{className:`text-[10px] font-black uppercase tracking-widest ${t.heat>100?"text-theme-danger animate-pulse":t.heat>80?"text-theme-warning":"text-theme-text-muted"}`,children:t.heat>100?a("header.heat_overheat"):a("header.heat_status")}),e.jsxs("span",{className:`text-[10px] font-mono ${t.heat>100?"text-theme-danger font-black":t.heat>80?"text-theme-warning font-bold":"text-theme-text-secondary"}`,children:[t.heat.toFixed(0)," %"]})]}),e.jsx("div",{className:`w-full max-w-[200px] h-1.5 bg-theme-surface-base rounded-full overflow-hidden border ${t.heat>100?"border-theme-danger/50 shadow-[0_0_10px_rgba(239,68,68,0.3)]":"border-theme-border-subtle"}`,children:e.jsx("div",{className:`h-full transition-all duration-500 ease-out ${t.heat>100?"bg-gradient-to-r from-theme-danger via-theme-danger to-theme-danger animate-pulse":t.heat>80?"bg-gradient-to-r from-theme-warning to-theme-danger":"bg-gradient-to-r from-theme-info to-theme-primary"}`,style:{width:`${Math.min(100,t.heat)}%`}})})]}),e.jsxs("div",{...c("dirty"),className:`flex items-center gap-3 w-1/3 justify-end relative cursor-pointer group transition-all ${i("dirty")?"scale-105":""}`,children:[e.jsxs(pe,{isOpen:i("dirty"),onClose:l,accentColor:"warning",position:"bottom-right",children:[e.jsx(fe,{title:a("header.dirty_tooltip.title"),accentColor:"warning"}),e.jsxs(ge,{className:"mb-2",children:[e.jsx(ee,{label:a("header.dirty_tooltip.sales"),value:`+${E(n)}/s`}),e.jsx("p",{className:"text-[10px] text-theme-text-muted mt-2 italic",children:a("header.dirty_tooltip.desc")})]}),e.jsx(Ne,{children:a("header.dirty_tooltip.footer")})]}),e.jsxs("div",{className:"flex flex-col items-end",children:[e.jsx("span",{className:"text-[9px] text-theme-warning font-bold uppercase tracking-wider leading-none",children:a("header.dirty_cash")}),e.jsxs("div",{className:"flex items-baseline gap-1",children:[n>0&&e.jsxs("span",{className:"text-[9px] text-theme-warning font-mono animate-pulse",children:["+",E(n)]}),e.jsx("span",{className:`text-sm font-black font-mono leading-none transition-all ${i("dirty")?"text-theme-warning":"text-theme-text-secondary"}`,style:{textShadow:i("dirty")?"0 0 10px rgba(245, 158, 11, 0.8)":"0 0 10px rgba(245, 158, 11, 0.4)"},children:E(t.dirtyCash)})]})]}),e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center shrink-0 transition-colors ${i("dirty")?"bg-theme-warning text-black":"bg-theme-warning/20 text-theme-warning"}`,children:e.jsx("i",{className:"fa-solid fa-briefcase text-sm"})})]})]})})},Xt=({state:t})=>{const{t:s}=O(),{isOpen:n,close:r,getTriggerProps:a}=Ve();return e.jsxs("div",{className:"flex items-center gap-3 w-1/3",children:[e.jsxs("div",{...a("xp"),className:`w-9 h-9 md:w-10 md:h-10 rounded-lg bg-theme-surface-elevated border flex items-center justify-center font-black text-theme-text-primary text-xs shadow-inner relative cursor-pointer transition-all shrink-0 ${n("xp")?"border-theme-info scale-105 shadow-[0_0_15px_rgba(59,130,246,0.3)]":"border-theme-border-subtle"}`,children:[t.level,e.jsxs(pe,{isOpen:n("xp"),onClose:r,accentColor:"info",position:"bottom-left",children:[e.jsx(fe,{title:s("header.xp.title"),accentColor:"info"}),e.jsxs(ge,{children:[e.jsx(ee,{label:s("header.xp.current"),value:E(t.xp),valueClass:"text-theme-text-primary font-bold"}),e.jsx(ee,{label:s("header.xp.next"),value:E(t.nextLevelXp),valueClass:"text-theme-text-muted"}),e.jsx("div",{className:"w-full h-2 bg-theme-surface-base rounded-full overflow-hidden border border-theme-border-subtle mt-2",children:e.jsx("div",{className:"h-full bg-theme-info shadow-[0_0_10px_rgba(59,130,246,0.5)]",style:{width:`${Math.min(100,t.xp/t.nextLevelXp*100)}%`}})})]})]})]}),e.jsxs("div",{className:"flex flex-col justify-center gap-0.5 w-full max-w-[140px]",children:[e.jsx("div",{className:"text-[10px] font-black text-theme-text-primary uppercase tracking-tighter truncate leading-none",children:s(`ranks.${t.level-1}`)||x.levelTitles[t.level-1]}),e.jsx("div",{className:"w-full h-1.5 bg-theme-surface-base/50 rounded-full overflow-hidden border border-theme-border-subtle",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-theme-info to-theme-primary",style:{width:`${Math.min(100,t.xp/t.nextLevelXp*100)}%`}})})]})]})},Jt=()=>{const[t,s]=y.useState(!1),[n]=y.useState(.2),r=y.useRef(null),a=y.useRef(0),i=y.useRef(null),l=y.useRef(0),c=()=>{r.current||(r.current=new(window.AudioContext||window.webkitAudioContext))},o=(p,m)=>{const g=r.current,w=p%4;if(w%1===0){const h=g.createOscillator(),b=g.createGain();h.type="square",h.frequency.setValueAtTime(8e3,m),b.gain.setValueAtTime(.02*n,m),b.gain.exponentialRampToValueAtTime(.001,m+.05),h.connect(b),b.connect(g.destination),h.start(m),h.stop(m+.05)}if(w===0){const h=g.createOscillator(),b=g.createGain();h.frequency.setValueAtTime(150,m),h.frequency.exponentialRampToValueAtTime(.01,m+.5),b.gain.setValueAtTime(.5*n,m),b.gain.exponentialRampToValueAtTime(.01,m+.5),h.connect(b),b.connect(g.destination),h.start(m),h.stop(m+.5)}if(w===2){const h=g.createOscillator(),b=g.createGain();h.type="triangle",h.frequency.setValueAtTime(250,m),b.gain.setValueAtTime(.2*n,m),b.gain.exponentialRampToValueAtTime(.01,m+.2),h.connect(b),b.connect(g.destination),h.start(m),h.stop(m+.2)}p%16===0&&(p%32===0?[261.63,311.13,392]:[220,261.63,329.63]).forEach(_=>{const k=g.createOscillator(),R=g.createGain();k.type="sine",k.frequency.value=_,R.gain.setValueAtTime(0,m),R.gain.linearRampToValueAtTime(.05*n,m+2),R.gain.linearRampToValueAtTime(0,m+8),k.connect(R),R.connect(g.destination),k.start(m),k.stop(m+9)})},d=()=>{a.current+=.75,l.current++},u=()=>{for(;a.current<r.current.currentTime+.1;)o(l.current,a.current),d();i.current=requestAnimationFrame(u)},f=()=>{c(),r.current.state==="suspended"&&r.current.resume(),t?(s(!1),i.current&&cancelAnimationFrame(i.current)):(s(!0),a.current=r.current.currentTime+.1,l.current=0,u())};return y.useEffect(()=>()=>{i.current&&cancelAnimationFrame(i.current),r.current&&t&&r.current.close()},[t]),e.jsxs("div",{className:"flex items-center gap-2 bg-theme-surface-base/40 rounded-full px-3 py-1 border border-theme-border-subtle",children:[e.jsx(A,{onClick:f,size:"icon",variant:"ghost",className:`!w-6 !h-6 ${t?"text-theme-primary animate-pulse":"text-theme-text-muted"}`,children:e.jsx("i",{className:`fa-solid ${t?"fa-pause":"fa-music"}`})}),t&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"text-[10px] text-theme-primary font-mono",children:"LO-FI RADIO"}),e.jsxs("div",{className:"flex gap-0.5 items-end h-3",children:[e.jsx("span",{className:"w-0.5 bg-theme-primary animate-[musicBar_0.6s_ease-in-out_infinite] h-2"}),e.jsx("span",{className:"w-0.5 bg-theme-primary animate-[musicBar_0.8s_ease-in-out_infinite] h-3"}),e.jsx("span",{className:"w-0.5 bg-theme-primary animate-[musicBar_0.5s_ease-in-out_infinite] h-1.5"})]})]})]})},Zt=()=>{const{setSettingsModal:t,setHelpModal:s}=U();return e.jsxs("div",{className:"flex items-center gap-2 justify-end w-1/3",children:[e.jsx(Jt,{}),e.jsx(A,{onClick:()=>s(!0),className:"w-8 h-8 !p-0 flex items-center justify-center bg-theme-bg-primary/5 border-transparent hover:bg-theme-bg-primary/10",variant:"ghost","aria-label":"Open Help",children:e.jsx("i",{className:"fa-solid fa-book"})}),e.jsx(A,{onClick:()=>t(!0),className:"w-8 h-8 !p-0 flex items-center justify-center bg-theme-bg-primary/5 border-transparent hover:bg-theme-bg-primary/10",variant:"ghost","aria-label":"Open Settings",children:e.jsx("i",{className:"fa-solid fa-gear"})})]})},Qt=({state:t,incomeClean:s,incomeDirty:n,bribePolice:r})=>{const{t:a}=O(),[i,l]=B.useState(0);return B.useEffect(()=>{l(Date.now());const c=setInterval(()=>l(Date.now()),1e3);return()=>clearInterval(c)},[]),e.jsxs("div",{className:"flex flex-col w-full h-full pointer-events-auto text-white",children:[e.jsx("div",{className:"md:hidden w-full h-1.5 bg-theme-bg-secondary border-b border-theme-border-subtle relative overflow-hidden",children:e.jsx("div",{className:`h-full transition-all duration-500 ease-out ${t.heat>100?"bg-gradient-to-r from-theme-danger via-theme-danger to-theme-danger animate-pulse":t.heat>80?"bg-gradient-to-r from-theme-warning to-theme-danger":"bg-gradient-to-r from-theme-info to-theme-primary"}`,style:{width:`${Math.min(100,t.heat)}%`}})}),e.jsx("div",{className:"h-[44px] bg-theme-bg-primary/40 border-b border-theme-border-subtle backdrop-blur-md",children:e.jsxs("div",{className:"w-full max-w-6xl mx-auto h-full flex justify-between items-center px-4",children:[e.jsx(Xt,{state:t}),e.jsx("div",{className:"hidden md:block absolute left-1/2 -translate-x-1/2 opacity-30 pointer-events-none",children:e.jsxs("h1",{className:"text-lg font-black tracking-widest italic text-theme-text-primary",children:["SYNDICATE",e.jsx("span",{className:"text-theme-success",children:"OS"})]})}),e.jsx(Zt,{})]})}),e.jsx(Yt,{state:t,incomeClean:s,incomeDirty:n,bribePolice:r}),t.territoryAttacks&&Object.keys(t.territoryAttacks).length>0&&e.jsx("div",{className:"w-full bg-theme-danger/90 border-b border-theme-danger backdrop-blur-md animate-pulse",children:e.jsxs("div",{className:"w-full max-w-6xl mx-auto px-4 py-2 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("i",{className:"fa-solid fa-triangle-exclamation text-white text-lg animate-bounce"}),e.jsxs("div",{children:[e.jsxs("div",{className:"text-white font-black text-xs uppercase tracking-wider",children:["‚ö†Ô∏è ",Object.keys(t.territoryAttacks).length," ",a("header.siege_alert")]}),e.jsx("div",{className:"text-theme-surface-base text-[9px] font-medium",children:a("header.siege_desc")})]})]}),e.jsx("div",{className:"flex items-center gap-2",children:Object.keys(t.territoryAttacks).map(c=>{const o=t.territoryAttacks[c],d=Math.max(0,o.expiresAt-i);return e.jsxs("div",{className:"bg-black/30 px-2 py-1 rounded text-[9px] font-mono text-white",children:[c,": ",Math.ceil(d/1e3),"s"]},c)})})]})})]})},es=y.memo(({logs:t,onNewsClick:s})=>{const{t:n}=O();return e.jsx("div",{className:"fixed top-[88px] left-0 w-full h-6 bg-theme-bg-primary z-30 border-b border-theme-border-subtle overflow-hidden flex items-center group",children:e.jsxs("div",{className:"whitespace-nowrap animate-marquee text-[10px] font-mono font-bold text-theme-text-secondary px-4",children:[e.jsx("span",{className:"text-theme-success mr-2",children:n("news.system_ready")}),t.slice(0,5).map((r,a)=>e.jsxs("span",{onClick:()=>r.action&&s(r.action),className:`
                        mr-8 transition-colors duration-200
                        ${r.action?"cursor-pointer hover:text-theme-text-primary underline decoration-dotted":"text-theme-text-muted"}
                    `,children:[e.jsxs("span",{className:r.type==="error"?"text-theme-danger":r.type==="success"?"text-theme-success":"text-theme-info",children:["[",r.time,"]"]})," ",r.msg," ",r.action&&e.jsx("i",{className:"fa-solid fa-arrow-pointer ml-1 text-[8px] opacity-70"})]},a))]})})}),ts=y.memo(({logs:t})=>{const[s,n]=y.useState(!1),[r,a]=y.useState("ALL"),i=y.useRef(null);y.useEffect(()=>{s&&i.current&&i.current.scrollIntoView({behavior:"smooth"})},[t,s]);const l=t.filter(o=>r==="ALL"?!0:r==="COMBAT"?o.type==="rival"||o.type==="raid"||o.type==="boss":r==="MONEY"?o.type==="sale"||o.type==="laundering":r==="SYSTEM"?o.type==="system"||o.type==="save":!0),c=o=>o==="rival"||o==="raid"?"fa-skull text-theme-danger":o==="sale"||o==="laundering"?"fa-sack-dollar text-theme-success":o==="system"?"fa-gears text-theme-text-muted":o==="warning"?"fa-triangle-exclamation text-theme-warning":"fa-terminal text-theme-text-secondary";return e.jsxs("div",{className:`
                w-full z-[60] transition-all duration-300 ease-in-out border-t border-theme-border-subtle
                ${s?"h-64 bg-theme-bg-primary/95 backdrop-blur-md shadow-[0_-5px_50px_rgba(0,0,0,0.8)]":"h-8 bg-theme-bg-primary"}
            `,children:[e.jsxs("div",{onClick:()=>n(!s),className:"h-8 flex items-center justify-between px-4 cursor-pointer active:bg-white/5 transition-colors group select-none relative",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("i",{className:`fa-solid fa-chevron-up text-xs text-theme-text-muted transition-transform ${s?"rotate-180":""}`}),e.jsx("span",{className:"font-mono text-[10px] font-bold uppercase tracking-widest text-theme-text-secondary active:text-theme-text-primary transition-colors",children:"System Log"}),!s&&t.length>0&&e.jsxs("span",{className:"ml-4 font-mono text-[10px] text-theme-text-muted truncate max-w-[200px] md:max-w-md opacity-60",children:["> ",t[0].msg]})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-theme-success animate-pulse"}),e.jsx("span",{className:"text-theme-success text-[9px] font-mono",children:"LIVE"})]})})]}),s&&e.jsxs("div",{className:"h-[calc(100%-32px)] flex flex-col p-2",children:[e.jsx("div",{className:"flex gap-2 mb-2 pb-2 border-b border-theme-border-subtle overflow-x-auto custom-scrollbar",children:["ALL","COMBAT","MONEY","SYSTEM"].map(o=>e.jsx(A,{onClick:()=>a(o),size:"xs",variant:"ghost",className:`
                                    !px-3 !py-1 rounded text-[9px] font-bold uppercase tracking-wider border transition-all
                                    ${r===o?"!bg-theme-success/30 !text-theme-success !border-theme-success/30":"!bg-theme-bg-primary !text-theme-text-muted !border-theme-border-subtle active:!bg-theme-surface-elevated active:!text-theme-text-secondary"}
                                `,children:o},o))}),e.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar font-mono text-[10px] md:text-xs",children:[l.map((o,d)=>e.jsxs("div",{className:"flex gap-3 active:bg-theme-surface-base py-0.5 px-2 rounded -mx-2 group/log",children:[e.jsx("span",{className:"opacity-30 min-w-[50px] text-theme-text-muted",children:o.time}),e.jsx("i",{className:`fa-solid ${c(o.type)} w-4 text-center mt-0.5`}),e.jsx("span",{className:`flex-1 ${o.type==="error"||o.type==="rival"?"text-theme-danger":o.type==="success"?"text-theme-success":o.type==="warning"?"text-theme-warning":"text-theme-text-secondary"}`,children:o.msg})]},d)),l.length===0&&e.jsx("div",{className:"text-theme-text-muted italic px-2 mt-4 text-center",children:"Ingen data i denne kanal."}),e.jsx("div",{ref:i})]})]})]})}),ss=({gameState:t,addFloat:s})=>(y.useEffect(()=>{if(t.lastTick&&t.settings?.particles!==!1){if(t.lastTick.clean>0){const n=window.innerWidth*.7+(Math.random()*100-50),r=window.innerHeight*.2+Math.random()*50;s(`+ ${E(t.lastTick.clean)} kr`,n,r,"text-theme-success text-lg md:text-2xl")}if(t.lastTick.dirty>0){const n=window.innerWidth*.8+(Math.random()*100-50),r=window.innerHeight*.3+Math.random()*50;s(`+ ${E(t.lastTick.dirty)} sort`,n,r,"text-theme-danger text-sm md:text-xl")}}},[t.floats,s,t.settings?.particles,t.lastTick]),null),rs=({active:t,onClick:s,icon:n,label:r,alert:a})=>e.jsxs("button",{onClick:s,className:`
                relative flex flex - col items - center justify - center gap - 1 min - w - [64px] h - [56px] px - 2 rounded - xl transition - all duration - 300
                ${t?"bg-theme-primary/10 -translate-y-2shadow-[0_0_15px_rgba(var(--colors-primary-rgb),0.3)]":"hover:bg-theme-surface-elevated hover:-translate-y-1"}
`,children:[e.jsx("div",{className:`
w - 8 h - 8 rounded - lg flex items - center justify - center text - sm transition - all duration - 300
                ${t?"bg-theme-primary text-black transform scale-110 shadow-glow":"bg-theme-surface-elevated text-theme-text-muted group-hover:text-theme-text-primary border border-theme-border-default"}
`,children:e.jsx("i",{className:`fa - solid ${n} `})}),e.jsx("span",{className:`
text - [9px] uppercase font - bold tracking - wider transition - colors duration - 300
                ${t?"text-theme-primary":"text-theme-text-muted"}
`,children:r}),e.jsx("div",{className:`
                absolute bottom - 1 w - 1 h - 1 rounded - full transition - all duration - 300
                ${t?"bg-theme-primary scale-100":"bg-transparent scale-0"}
`}),a&&e.jsx("div",{className:"absolute top-1 right-2 w-2.5 h-2.5 bg-theme-danger rounded-full animate-pulse shadow-[0_0_8px_var(--colors-danger)] border border-black"})]}),Pe=[{id:"sultan",icon:"fa-comment-dots",labelKey:"tabs.sultan",color:"text-theme-warning"},{id:"production",icon:"fa-flask",labelKey:"tabs.production",color:"text-theme-success"},{id:"network",icon:"fa-globe",labelKey:"tabs.network",color:"text-theme-info",showCount:!0},{id:"rivals",icon:"fa-skull-crossbones",labelKey:"tabs.rivals",color:"text-theme-danger"},{id:"finance",icon:"fa-sack-dollar",labelKey:"tabs.finance",color:"text-theme-warning",alertCheck:t=>(t.dirtyCash||0)>5e3},{id:"management",icon:"fa-briefcase",labelKey:"tabs.management",color:"text-theme-info"},{id:"empire",icon:"fa-crown",labelKey:"tabs.empire",color:"text-theme-primary"}],as=({gameState:t,addFloat:s,onNewsClick:n,bribePolice:r,children:a})=>{const{activeTab:i,setActiveTab:l,setHelpModal:c,setSettingsModal:o}=U(),d=t.settings?.particles!==!1,{t:u}=O(),f=at(t),p=t.level>=10?"theme-gold":t.level>=7?"theme-purple":t.level>=4?"theme-cyan":"";return e.jsxs("div",{id:"game-layout",className:`h-screen max-h-screen bg-theme-surface-base text-theme-text-primary font-sans select-none flex flex-col transition-colors duration-500 overflow-hidden ${p}`,children:[e.jsx("a",{href:"#main-content",className:"sr-only focus:not-sr-only focus:absolute focus:z-[100] focus:top-2 focus:left-2 focus:p-4 focus:bg-theme-surface-elevated focus:text-theme-primary focus:font-bold focus:border-2 focus:border-theme-primary focus:rounded-lg focus:outline-none focus:shadow-glow-green",children:"Skip to main content"}),e.jsx("a",{href:"#navigation",className:"sr-only focus:not-sr-only focus:absolute focus:z-[100] focus:top-2 focus:left-48 focus:p-4 focus:bg-theme-surface-elevated focus:text-theme-primary focus:font-bold focus:border-2 focus:border-theme-primary focus:rounded-lg focus:outline-none focus:shadow-glow-green",children:"Skip to navigation"}),d&&e.jsx("div",{className:"scanline pointer-events-none z-50"}),d&&e.jsx("div",{className:"absolute inset-0 bg-[url('https://transparenttextures.com/patterns/carbon-fibre.png')] opacity-5 pointer-events-none z-0"}),e.jsx(ss,{gameState:t,addFloat:s}),d&&t.floats&&t.floats.map(m=>e.jsx("div",{className:`fixed pointer-events-none z-[70] font-black text-xl ${m.color} float-anim`,style:{left:m.x,top:m.y},children:m.text},m.id)),e.jsx(Qt,{state:t,incomeClean:f.clean,incomeDirty:f.dirty,bribePolice:r}),e.jsx("main",{id:"main-content",className:"relative min-h-0 flex flex-col",style:{height:"calc(100vh - 60px - 40px - 60px - 60px)"},role:"main","aria-label":"Game Screen",children:e.jsxs("div",{className:"flex-1 w-full max-w-6xl mx-auto flex flex-col md:flex-row relative min-h-0 overflow-hidden",children:[e.jsx("nav",{id:"navigation",className:"md:w-64 shrink-0 flex flex-col border-r border-theme-border-default bg-theme-surface-glass backdrop-blur-sm z-20 md:z-0 absolute md:relative h-full -translate-x-full md:translate-x-0 transition-transform duration-300","aria-label":"Main Navigation",children:e.jsx("div",{className:"p-2 space-y-1 flex-1 overflow-y-auto",children:Pe.map(m=>{const g=i===m.id,w=u(m.labelKey);return e.jsxs("button",{onClick:()=>l(m.id),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all duration-200 group relative overflow-hidden ${g?"bg-theme-primary/10 text-theme-primary border border-theme-primary/30 shadow-[0_0_10px_rgba(var(--colors-primary-rgb),0.1)]":"text-theme-text-muted hover:bg-theme-surface-elevated hover:text-theme-text-primary border border-transparent"}`,"aria-current":g?"page":void 0,children:[e.jsx("div",{className:`w-8 h-8 rounded flex items-center justify-center transition-colors ${g?"bg-theme-primary text-black":"bg-theme-surface-elevated group-hover:bg-theme-surface-elevated"}`,children:e.jsx("i",{className:`fa-solid ${m.icon} ${g?"":"text-theme-text-secondary"}`})}),e.jsxs("div",{className:"flex flex-col items-start",children:[e.jsx("span",{className:`text-sm font-bold uppercase tracking-wider ${g?"text-theme-primary":"text-theme-text-secondary group-hover:text-theme-text-primary"}`,children:w}),m.showCount&&m.id==="network"&&e.jsxs("span",{className:"text-[9px] text-theme-text-muted",children:[Object.keys(t.territories).filter(h=>t.territories[h].owned).length," / ",Object.keys(t.territories).length]})]}),g&&e.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-1 bg-theme-primary shadow-[0_0_10px_var(--colors-primary)]"})]},m.id)})})}),e.jsxs("div",{className:"flex-1 relative overflow-hidden bg-theme-surface-base min-h-0",children:[e.jsx("div",{className:"h-full overflow-y-auto overflow-x-hidden scrollbar-thin scrollbar-thumb-theme-border-emphasis scrollbar-track-theme-surface-base p-4 md:p-6 pb-32 md:pb-8",children:e.jsx("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-300",children:a})}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-16 bg-gradient-to-t from-theme-surface-base to-transparent pointer-events-none z-10"})]})]})}),e.jsx("div",{className:"flex-none shrink-0 z-30",children:e.jsx(es,{logs:t.logs,onNewsClick:n})}),e.jsx("div",{className:"flex-none shrink-0 relative z-40 h-auto md:h-auto overflow-hidden",children:e.jsx(ts,{logs:t.logs})}),e.jsxs("nav",{role:"navigation","aria-label":"Game tabs",id:"navigation",className:"flex-none z-50 bg-theme-bg-primary/95 backdrop-blur-xl border-t border-theme-border-subtle pb-[env(safe-area-inset-bottom)] shadow-[0_-10px_40px_-15px_rgba(0,0,0,0.8)]",children:[e.jsx("div",{className:"absolute top-0 left-0 w-full h-[1px] bg-gradient-to-r from-transparent via-theme-border-subtle to-transparent"}),e.jsx("div",{className:"max-w-7xl mx-auto px-2 py-2 flex justify-between items-center gap-1 md:gap-4 overflow-x-auto custom-scrollbar-hide relative mask-linear-fade",children:Pe.map(m=>e.jsx(rs,{active:i===m.id,onClick:()=>l(m.id),icon:m.icon,label:u(m.labelKey),color:m.color,alert:m.alertCheck?m.alertCheck(t)&&i!==m.id:!1},m.id))})]}),e.jsxs("div",{"aria-live":"polite","aria-atomic":"true",className:"sr-only",children:["Clean cash: ",E(t.cleanCash)," kr. Dirty cash: ",E(t.dirtyCash)," kr."]})]})},he=t=>{const s=y.useRef(null),n=y.useRef(null);return y.useEffect(()=>{n.current=document.activeElement;const r=s.current;if(!r)return;const a=r.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');if(a.length===0)return;const i=a[0],l=a[a.length-1];i?.focus();const c=o=>{o.key==="Tab"&&(o.shiftKey?document.activeElement===i&&(o.preventDefault(),l?.focus()):document.activeElement===l&&(o.preventDefault(),i?.focus()))};return r.addEventListener("keydown",c),()=>{r.removeEventListener("keydown",c),n.current?.focus()}},[t]),s},ns=({data:t,onClose:s})=>{const{t:n}=O(),r=he(!0);if(B.useEffect(()=>{const c=o=>{o.key==="Escape"&&s()};return document.addEventListener("keydown",c),()=>document.removeEventListener("keydown",c)},[s]),!t)return null;const a=Object.keys(t.produced||{}).length>0,i=(t.raids?.attempted||0)>0,l=t.earnings+t.cleanEarnings-t.salaryPaid-(t.raids?.moneyLost||0);return e.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-theme-surface-overlay backdrop-blur-md p-4",onClick:s,children:e.jsxs("div",{ref:r,onClick:c=>c.stopPropagation(),className:"bg-theme-surface-base border border-theme-border-subtle p-0 rounded-sm max-w-md w-full shadow-2xl overflow-hidden relative",role:"dialog","aria-modal":"true","aria-labelledby":"welcome-title",children:[e.jsx("div",{className:"h-2 bg-theme-surface-elevated bg-[linear-gradient(45deg,transparent_75%,#000_75%),linear-gradient(-45deg,transparent_75%,#000_75%)] bg-[length:10px_10px]"}),e.jsxs("div",{className:"p-6 font-mono text-sm text-theme-text-secondary",children:[e.jsxs("div",{className:"text-center mb-6 border-b border-theme-border-subtle pb-4 border-dashed",children:[e.jsx("h2",{id:"welcome-title",className:"text-xl font-black text-theme-text-primary uppercase tracking-widest mb-1",children:n("offline_report.title")}),e.jsxs("p",{className:"text-xs text-theme-text-muted",children:[new Date().toLocaleDateString()," ‚Ä¢ ",new Date().toLocaleTimeString()]}),e.jsx("p",{className:"text-xs text-theme-text-muted mt-1",children:n("offline_report.time",{minutes:t.time})})]}),a&&e.jsxs("div",{className:"mb-4 text-xs",children:[e.jsx("div",{className:"uppercase font-bold text-theme-text-muted mb-1 border-b border-theme-border-subtle border-dashed",children:n("offline_report.production_title")}),Object.entries(t.produced).map(([c,o])=>e.jsxs("div",{className:"flex justify-between py-0.5",children:[e.jsx("span",{children:n(`items.${c}.name`)}),e.jsxs("span",{children:["x",o.toLocaleString()]})]},c))]}),i&&e.jsxs("div",{className:"mb-4 text-xs",children:[e.jsx("div",{className:"uppercase font-bold text-theme-text-muted mb-1 border-b border-theme-border-subtle border-dashed",children:n("offline_report.security_title")}),e.jsxs("div",{className:"flex justify-between py-0.5 text-theme-text-muted",children:[e.jsx("span",{children:n("offline_report.raids")}),e.jsx("span",{children:t.raids.attempted})]}),e.jsxs("div",{className:"flex justify-between py-0.5 text-theme-success",children:[e.jsx("span",{children:n("offline_report.defended")}),e.jsx("span",{children:t.raids.defended})]}),t.raids.lost>0&&e.jsxs("div",{className:"flex justify-between py-0.5 text-theme-danger font-bold",children:[e.jsx("span",{children:n("offline_report.failed")}),e.jsxs("span",{children:[t.raids.lost," (-",t.raids.moneyLost.toLocaleString()," kr)"]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("div",{className:"uppercase font-bold text-theme-text-muted mb-1 border-b border-theme-border-subtle border-dashed",children:n("offline_report.finance_title")}),e.jsxs("div",{className:"flex justify-between py-0.5 mt-1 text-theme-text-secondary",children:[e.jsx("span",{children:n("offline_report.dirty_income")}),e.jsxs("span",{children:["+",Math.floor(t.earnings).toLocaleString()," kr"]})]}),e.jsxs("div",{className:"flex justify-between py-0.5 text-theme-text-secondary",children:[e.jsx("span",{children:n("offline_report.clean_income")}),e.jsxs("span",{children:["+",Math.floor(t.cleanEarnings).toLocaleString()," kr"]})]}),t.laundered>0&&e.jsxs("div",{className:"flex justify-between py-0.5 text-theme-accent text-[10px] italic",children:[e.jsx("span",{children:n("offline_report.laundered_sub")}),e.jsxs("span",{children:[Math.floor(t.laundered).toLocaleString()," kr"]})]}),t.salaryPaid>0&&e.jsxs("div",{className:"flex justify-between py-0.5 text-theme-danger",children:[e.jsx("span",{children:n("offline_report.salaries")}),e.jsxs("span",{children:["-",Math.floor(t.salaryPaid).toLocaleString()," kr"]})]}),t.interest>0&&e.jsxs("div",{className:"flex justify-between py-0.5 text-theme-danger",children:[e.jsx("span",{children:n("offline_report.interest")}),e.jsxs("span",{children:["-",Math.floor(t.interest).toLocaleString()," kr"]})]}),e.jsx("div",{className:"border-t border-theme-text-muted border-dashed my-2"}),e.jsxs("div",{className:"flex justify-between py-1 text-lg font-bold text-theme-text-primary",children:[e.jsx("span",{children:n("offline_report.net")}),e.jsxs("span",{className:l>=0?"text-theme-success":"text-theme-danger",children:[l>0?"+":"",Math.floor(l).toLocaleString()," kr"]})]})]}),e.jsx(A,{onClick:s,className:"w-full py-3",variant:"neutral",children:n("offline_report.close_btn")}),e.jsx("div",{className:"text-center mt-4 text-[10px] text-theme-text-muted font-serif italic",children:n("offline_report.quote")})]}),e.jsx("div",{className:"h-2 bg-theme-surface-elevated bg-[linear-gradient(135deg,transparent_75%,#000_75%),linear-gradient(-135deg,transparent_75%,#000_75%)] bg-[length:10px_10px] rotate-180"})]})})},is=({data:t,onClose:s})=>{const n=he(!0),{t:r}=O();if(B.useEffect(()=>{const f=p=>{p.key==="Escape"&&s()};return document.addEventListener("keydown",f),()=>document.removeEventListener("keydown",f)},[s]),!t)return null;const a=t.type==="raid"||!t.result||t.result==="fail",i=t.result==="win"||t.type==="success",l=i?"border-theme-success":a?"border-theme-danger":"border-theme-accent",c=i?"shadow-theme-success/50":a?"shadow-theme-danger/50":"shadow-theme-accent/50",o=i?"fa-trophy":a?"fa-siren-on animate-pulse":"fa-info-circle",d=i?"text-theme-success":a?"text-theme-danger":"text-theme-accent",u=i?"bg-theme-success active:bg-theme-success/90":a?"bg-theme-danger active:bg-theme-danger/90":"bg-theme-accent active:bg-theme-accent/90";return e.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-theme-surface-overlay backdrop-blur-md p-4 animate-in fade-in zoom-in duration-300",onClick:s,children:e.jsxs("div",{ref:n,onClick:f=>f.stopPropagation(),className:`bg-theme-surface-base border-2 ${l} p-8 rounded-2xl max-w-md w-full shadow-[0_0_100px_rgba(0,0,0,0.5)] ${c} relative overflow-hidden`,role:"dialog","aria-modal":"true","aria-labelledby":"raid-title",children:[e.jsx("div",{className:"absolute inset-0 bg-[repeating-linear-gradient(45deg,transparent,transparent_10px,rgba(255,255,255,0.03)_10px,rgba(255,255,255,0.03)_20px)] opacity-50"}),e.jsxs("div",{className:"relative z-10 text-center",children:[e.jsx("i",{className:`fa-solid ${o} text-6xl mb-6 ${d}`}),e.jsx("h2",{id:"raid-title",className:"text-3xl font-black text-theme-text-primary italic uppercase mb-2 tracking-tighter",children:t.title||(a?"RAZZIA!":"INFO")}),e.jsx("p",{className:"text-theme-text-secondary mb-8 font-medium whitespace-pre-wrap",children:t.msg}),e.jsx(A,{onClick:()=>{s(),t.onClose&&t.onClose()},className:`px-8 py-3 shadow-lg ${u.includes("accent")?"!bg-theme-accent active:!bg-theme-accent/90 !border-theme-accent":""}`,variant:i?"primary":a?"danger":"neutral",children:r("ui.understood")})]})]})})},Z={colors:{primary:"#00ff41",secondary:"#b026ff",danger:"#ff0040",warning:"#ffb000",success:"#10b981",accent:"#00d9ff",money:{clean:"#10b981",dirty:"#f59e0b"},heat:{normal:"#3b82f6",warning:"#f97316",danger:"#ef4444"},surface:{base:"#0a0a0a",elevated:"#18181b",glass:"rgba(10, 10, 10, 0.95)",overlay:"rgba(0, 0, 0, 0.8)"},text:{primary:"#ffffff",secondary:"#e5e7eb",muted:"#9ca3af",disabled:"#6b7280",inverse:"#0a0a0a"},border:{subtle:"rgba(255, 255, 255, 0.05)",default:"rgba(255, 255, 255, 0.1)",emphasis:"rgba(255, 255, 255, 0.2)"}},spacing:{0:"0px",xs:"4px",sm:"8px",md:"16px",lg:"24px",xl:"32px","2xl":"48px","3xl":"64px"},borderRadius:{none:"0",sm:"4px",md:"8px",lg:"12px",xl:"16px","2xl":"24px",full:"9999px"},typography:{fontFamily:{terminal:"'VT323', 'Courier New', monospace",code:"'Fira Code', 'Consolas', monospace",sans:"'Inter', sans-serif"},fontSize:{xs:"clamp(10px, 2vw, 12px)",sm:"clamp(12px, 2.5vw, 14px)",base:"clamp(14px, 3vw, 16px)",lg:"clamp(16px, 3.5vw, 18px)",xl:"clamp(18px, 4vw, 22px)","2xl":"clamp(22px, 5vw, 28px)","3xl":"clamp(28px, 6vw, 36px)"},lineHeight:{tight:"1.2",normal:"1.4",relaxed:"1.6"},fontWeight:{normal:"400",medium:"600",bold:"800"}},animations:{duration:{instant:"0ms",fast:"150ms",normal:"300ms",slow:"500ms",slower:"1000ms"},easing:{default:"cubic-bezier(0.4, 0, 0.2, 1)",in:"cubic-bezier(0.4, 0, 1, 1)",out:"cubic-bezier(0, 0, 0.2, 1)",inOut:"cubic-bezier(0.4, 0, 0.2, 1)",spring:"cubic-bezier(0.68, -0.55, 0.265, 1.55)"}},shadows:{sm:"0 1px 2px 0 rgba(0, 0, 0, 0.5)",md:"0 4px 6px -1px rgba(0, 0, 0, 0.5)",lg:"0 10px 15px -3px rgba(0, 0, 0, 0.5)",xl:"0 20px 25px -5px rgba(0, 0, 0, 0.5)","2xl":"0 25px 50px -12px rgba(0, 0, 0, 0.5)",glow:{green:"0 0 10px rgba(0, 255, 65, 0.6)",amber:"0 0 10px rgba(255, 176, 0, 0.6)",red:"0 0 10px rgba(255, 0, 64, 0.8)",blue:"0 0 10px rgba(59, 130, 246, 0.6)"}},zIndex:{base:0,dropdown:10,sticky:20,fixed:30,overlay:40,modal:50,popover:60,tooltip:70,notification:80,debug:9999},breakpoints:{sm:"640px",md:"768px",lg:"1024px",xl:"1280px","2xl":"1536px",tablet:"768px",tabletLandscape:"1024px",desktop:"1280px"}},Ue=(t,s="")=>Object.keys(t).reduce((n,r)=>{const a=s?`${s}-${r}`:r,i=t[r];if(typeof i=="object"&&i!==null&&!Array.isArray(i))Object.assign(n,Ue(i,a));else{const l=a.replace(/([A-Z])/g,"-$1").toLowerCase();n[`--${l}`]=i}return n},{}),ls=(t=Z)=>Ue(t),os=t=>Object.entries(t).map(([s,n])=>`  ${s}: ${n};`).join(`
`),cs={...Z,id:"dark",name:"Dark Mode",description:"Original dark cyberpunk theme"},ds={...Z,id:"light",name:"Light Mode",description:"Clean light theme for daytime use",colors:{...Z.colors,surface:{base:"#fafafa",elevated:"#ffffff",glass:"rgba(255, 255, 255, 0.95)",overlay:"rgba(0, 0, 0, 0.3)"},text:{primary:"#0a0a0a",secondary:"#3f3f46",muted:"#71717a",disabled:"#a1a1aa",inverse:"#ffffff"},border:{subtle:"rgba(0, 0, 0, 0.05)",default:"rgba(0, 0, 0, 0.1)",emphasis:"rgba(0, 0, 0, 0.2)"}}},ms={...Z,id:"cyberpunk",name:"Cyberpunk Neon",description:"Extra vibrant neon cyberpunk",colors:{...Z.colors,primary:"#ff00ff",secondary:"#00ffff",accent:"#ffff00",danger:"#ff0066",warning:"#ff9900",success:"#00ff00",surface:Z.colors.surface,text:Z.colors.text,border:Z.colors.border}},hs={...Z,id:"matrix",name:"Matrix",description:"Green terminal aesthetic",colors:{...Z.colors,primary:"#00ff41",secondary:"#00cc33",accent:"#00ff88",danger:"#ff4444",warning:"#ffaa00",success:"#00ff41",surface:{base:"#000000",elevated:"#0a0a0a",glass:"rgba(0, 20, 0, 0.95)",overlay:"rgba(0, 0, 0, 0.9)"},text:{primary:"#00ff41",secondary:"#00cc33",muted:"#008822",disabled:"#004411",inverse:"#000000"}}},ie={dark:cs,light:ds,cyberpunk:ms,matrix:hs},qe="dark",Oe=t=>ie[t]||ie[qe],We=y.createContext(null),us=({children:t})=>{const[s,n]=y.useState(()=>localStorage.getItem("syndicateOS_theme")||qe);y.useEffect(()=>{localStorage.setItem("syndicateOS_theme",s);const i=Oe(s),l=ls(i),c=os(l),o=document.getElementById("theme-variables");o&&o.remove();const d=document.createElement("style");d.id="theme-variables",d.innerHTML=`:root {
${c}
}`,document.head.appendChild(d),document.body.className=document.body.className.split(" ").filter(u=>!u.startsWith("theme-")).concat(`theme-${s}`).join(" "),document.documentElement.setAttribute("data-theme",s)},[s]);const r=i=>{ie[i]&&n(i)},a={theme:s,themeData:Oe(s),setTheme:r,availableThemes:Object.keys(ie).map(i=>({id:i,name:ie[i].name,description:ie[i].description}))};return e.jsx(We.Provider,{value:a,children:t})},xs=()=>{const t=y.useContext(We);if(!t)throw new Error("useTheme must be used within ThemeProvider");return t},ps=({onClose:t,onExport:s,onImport:n,onReset:r,version:a,settings:i,setGameState:l})=>{const{t:c,language:o,setLanguage:d}=O(),{theme:u,setTheme:f,availableThemes:p}=xs(),m=()=>{l(S=>({...S,settings:{...S.settings,numberFormat:S.settings?.numberFormat==="scientific"?"standard":"scientific"}}))},g=()=>{l(S=>({...S,settings:{...S.settings,particles:!S.settings?.particles}}))},[w,h]=B.useState(ct()),b=()=>{const S=!w;ot(S),h(S)},_=i?.numberFormat==="scientific",k=i?.particles!==!1,R=he(!0);return B.useEffect(()=>{const S=H=>{H.key==="Escape"&&t()};return document.addEventListener("keydown",S),()=>document.removeEventListener("keydown",S)},[t]),e.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-theme-surface-overlay backdrop-blur-sm p-4",onClick:t,children:e.jsxs("div",{ref:R,onClick:S=>S.stopPropagation(),className:"bg-theme-surface-elevated border border-theme-border-default p-6 rounded-2xl max-w-md w-full shadow-2xl",role:"dialog","aria-modal":"true","aria-labelledby":"settings-title",children:[e.jsxs("h3",{id:"settings-title",className:"text-xl font-bold text-theme-text-primary mb-6 flex items-center gap-2",children:[e.jsx("i",{className:"fa-solid fa-gear text-theme-text-muted"})," ",c("settings.title")]}),e.jsxs("div",{className:"space-y-4 mb-6",children:[e.jsxs("div",{className:"flex justify-between items-center p-3 bg-theme-surface-base/50 rounded-lg border border-theme-border-subtle",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-bold text-theme-text-primary",children:c("settings.language")}),e.jsx("div",{className:"text-[10px] text-theme-text-muted",children:o==="da"?"Dansk":"English"})]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx(A,{onClick:()=>d("da"),className:"px-2 py-1 text-xs",variant:o==="da"?"primary":"neutral",children:"üá©üá∞"}),e.jsx(A,{onClick:()=>d("en"),className:"px-2 py-1 text-xs",variant:o==="en"?"primary":"neutral",children:"üá∫üá∏"})]})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-theme-surface-base/50 rounded-lg border border-theme-border-subtle",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-bold text-theme-text-primary",children:c("settings.format")}),e.jsx("div",{className:"text-[10px] text-theme-text-muted",children:c(_?"settings.format_desc_sci":"settings.format_desc_std")})]}),e.jsx(A,{onClick:m,className:"px-3 py-1 text-xs",variant:_?"primary":"neutral",children:_?"SCIENTIFIC":"STANDARD"})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-theme-surface-base/50 rounded-lg border border-theme-border-subtle",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-bold text-theme-text-primary",children:c("settings.particles")}),e.jsx("div",{className:"text-[10px] text-theme-text-muted",children:c(k?"settings.particles_desc_on":"settings.particles_desc_off")})]}),e.jsx(A,{onClick:g,className:"px-3 py-1 text-xs",variant:k?"primary":"neutral",children:c(k?"settings.on":"settings.off")})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-theme-surface-base/50 rounded-lg border border-theme-border-subtle",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-bold text-theme-text-primary",children:c("settings.sound")}),e.jsx("div",{className:"text-[10px] text-theme-text-muted",children:c(w?"settings.sound_desc_muted":"settings.sound_desc_active")})]}),e.jsx(A,{onClick:b,className:"px-3 py-1 text-xs",variant:w?"neutral":"primary",children:c(w?"settings.unmute":"settings.mute")})]})]}),e.jsxs("div",{className:"mb-6 pt-6 border-t border-theme-border-default",children:[e.jsxs("div",{className:"text-sm font-bold text-theme-text-primary mb-3 flex items-center gap-2",children:[e.jsx("i",{className:"fa-solid fa-palette text-theme-text-muted"}),"Theme"]}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:p.map(S=>e.jsxs("button",{onClick:()=>f(S.id),className:`p-3 rounded-lg border-2 transition-all text-left ${u===S.id?"border-theme-primary bg-theme-primary/10":"border-theme-border-default bg-theme-surface-base/50 hover:border-theme-border-emphasis"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("span",{className:"text-xs font-bold text-theme-text-primary",children:S.name}),u===S.id&&e.jsx("i",{className:"fa-solid fa-check text-theme-primary text-sm"})]}),e.jsx("div",{className:"text-[9px] text-theme-text-muted",children:S.description})]},S.id))})]}),e.jsxs("div",{className:"space-y-3 pt-6 border-t border-theme-border-default",children:[e.jsxs(A,{onClick:s,className:"w-full py-3 flex items-center justify-center gap-2",variant:"neutral",children:[e.jsx("i",{className:"fa-solid fa-download"})," ",c("settings.export_save")]}),e.jsxs(A,{onClick:n,className:"w-full py-3 flex items-center justify-center gap-2",variant:"neutral",children:[e.jsx("i",{className:"fa-solid fa-upload"})," ",c("settings.import_save")]}),e.jsx(A,{onClick:r,className:"w-full py-3 mt-4",variant:"danger",children:c("settings.hard_reset")}),e.jsx(A,{onClick:t,className:"w-full py-3 mt-4",variant:"ghost",children:c("ui.close")}),e.jsxs("div",{className:"mt-4 text-center text-[10px] text-theme-text-disabled font-mono",children:["Syndicate OS v",a||"UNKNOWN"]})]})]})})},fs=({boss:t,onAttack:s})=>{const{t:n}=O(),[r,a]=B.useState([]),i=()=>{s((o,d)=>{const u={id:Date.now(),value:d?`CRIT! ${o}`:`${o}`,x:Math.random()*40+30+"%",y:Math.random()*40+30+"%",isCrit:d};a(f=>[...f,u]),setTimeout(()=>a(f=>f.filter(p=>p.id!==u.id)),800)})},l=t.hp/t.maxHp*100,c=he(!0);return e.jsx("div",{className:`absolute inset-0 z-50 flex items-center justify-center bg-theme-surface-overlay backdrop-blur-md p-4 animate-in fade-in duration-500 ${t.enraged?"ring-inset ring-8 ring-theme-danger/50":""}`,children:e.jsxs("div",{ref:c,className:`glass p-8 rounded-2xl max-w-md w-full border-4 border-theme-danger shadow-[0_0_150px_rgba(220,38,38,0.6)] text-center relative overflow-hidden transition-all duration-75 ${t.enraged?"scale-105 translate-y-1 shadow-[0_0_200px_rgba(220,38,38,0.8)]":""}`,role:"dialog","aria-modal":"true","aria-labelledby":"boss-title",children:[r.map(o=>e.jsx("div",{className:`absolute font-black pointer-events-none z-50 animate-bounce ${o.isCrit?"text-5xl text-theme-warning":"text-4xl text-theme-text-primary"}`,style:{left:o.x,top:o.y,textShadow:o.isCrit?"0 0 20px orange":"0 0 10px red"},children:o.value},o.id)),e.jsx("div",{className:"absolute inset-0 bg-theme-danger/10 animate-pulse"}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("h2",{id:"boss-title",className:"text-4xl font-black uppercase tracking-widest text-theme-danger mb-2 drop-shadow-lg",children:"BOSS BATTLE"}),e.jsx("div",{className:"w-32 h-32 mx-auto bg-theme-danger/20 rounded-full border-4 border-theme-danger flex items-center justify-center mb-6 shadow-[0_0_50px_rgba(220,38,38,0.4)] relative",children:e.jsx("i",{className:"fa-solid fa-skull-crossbones text-6xl text-theme-danger animate-bounce"})}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex justify-between text-xs font-bold uppercase text-theme-success mb-1 font-terminal",children:[e.jsx("span",{children:n("boss_modal.your_hp")}),e.jsxs("span",{children:[Math.floor(t.playerHp||0)," / ",t.playerMaxHp||100]})]}),e.jsx("div",{className:"h-4 bg-theme-surface-base border border-theme-success/30",children:e.jsx("div",{className:"h-full bg-theme-success transition-all duration-300",style:{width:`${(t.playerHp||0)/(t.playerMaxHp||100)*100}%`}})})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex justify-between text-xs font-bold uppercase text-theme-danger mb-1 font-terminal",children:[e.jsxs("span",{children:[n("boss_modal.boss_hp")," ",t.enraged?`üî• ${n("boss_modal.enraged")}`:""]}),e.jsxs("span",{children:[Math.floor(t.hp)," / ",t.maxHp]})]}),e.jsx("div",{className:`h-4 border transition-all ${t.enraged?"bg-theme-danger/50 border-theme-danger animate-pulse":"bg-theme-danger/20 border-theme-danger/30"}`,children:e.jsx("div",{className:`h-full transition-all duration-100 ${t.enraged,"bg-theme-danger"}`,style:{width:`${l}%`}})})]}),e.jsx("p",{className:"text-theme-danger/80 font-bold mb-8 text-sm",children:n("boss_modal.taunt")}),e.jsx(A,{onClick:i,variant:"ghost",className:"w-full !py-6 !bg-theme-danger active:!bg-theme-danger/80 !text-theme-text-primary font-black rounded-2xl uppercase tracking-[0.2em] text-2xl transition-all active:scale-95 shadow-xl border-b-8 border-theme-danger/50 active:border-b-0 active:translate-y-2 h-auto",children:n("boss_modal.attack_btn")}),e.jsx("div",{className:"mt-2 text-[10px] text-theme-success/50 font-terminal",children:n("boss_modal.speed_bonus",{rate:t.enraged?"1":"2"})})]})]})})},gs=({onClose:t})=>{const[s,n]=y.useState("welcome"),r=[{id:"welcome",icon:"fa-hand-fist",label:"Listen up, Rookie"},{id:"mechanics",icon:"fa-book-skull",label:"How to Survive"},{id:"math",icon:"fa-calculator",label:"The Math"},{id:"strategy",icon:"fa-chess",label:"Street Smarts"},{id:"social",icon:"fa-comments",label:"App & Community"},{id:"keys",icon:"fa-keyboard",label:"System Keys"}],a=he(!0);return B.useEffect(()=>{const i=l=>{l.key==="Escape"&&t()};return document.addEventListener("keydown",i),()=>document.removeEventListener("keydown",i)},[t]),e.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-theme-surface-overlay backdrop-blur-md p-2 md:p-4 text-theme-text-primary animate-in fade-in duration-200",onClick:t,children:e.jsxs("div",{ref:a,onClick:i=>i.stopPropagation(),className:"bg-theme-surface-base border border-theme-border-subtle w-full max-w-4xl max-h-[95vh] md:h-[700px] rounded-xl md:rounded-2xl flex flex-col md:flex-row overflow-hidden shadow-2xl relative",role:"dialog","aria-modal":"true","aria-labelledby":"help-title",children:[e.jsx("div",{className:"absolute inset-0 pointer-events-none opacity-5 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] bg-repeat opacity-[0.03]"}),e.jsxs("div",{className:"w-full md:w-60 bg-theme-surface-elevated border-b md:border-b-0 md:border-r border-theme-border-subtle p-3 md:p-4 flex flex-col gap-2 shrink-0 z-10",children:[e.jsxs("h2",{id:"help-title",className:"text-xl font-black uppercase tracking-tighter text-theme-text-muted mb-4 pl-2 flex items-center gap-2",children:[e.jsx("i",{className:"fa-solid fa-book-journal-whills"})," Handbook"]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-1 gap-1 md:space-y-1",children:r.map(i=>e.jsxs(A,{onClick:()=>n(i.id),variant:"ghost",className:`w-full !justify-start gap-3 px-3 py-2.5 rounded-lg text-xs font-bold transition-all text-left ${s===i.id?"!bg-theme-surface-highlight !text-theme-text-primary border-l-2 !border-theme-primary shadow-lg":"!text-theme-text-muted hover:!text-theme-text-secondary"}`,children:[e.jsx("i",{className:`fa-solid ${i.icon} w-5 text-center`}),e.jsx("span",{children:i.label})]},i.id))}),e.jsx("div",{className:"hidden md:block mt-auto pt-4 border-t border-theme-border-subtle px-2",children:e.jsxs("div",{className:"text-[10px] text-theme-text-muted font-mono",children:["SYSTEM: ",e.jsx("span",{className:"text-theme-success",children:"ONLINE"}),e.jsx("br",{}),"VER: ",e.jsx("span",{className:"text-theme-text-muted",children:Ie})," [Year 1 Edition]"]})}),e.jsx("div",{className:"mt-2 md:mt-4 pt-2 md:pt-4 border-t border-theme-border-subtle",children:e.jsx(A,{onClick:t,className:"w-full py-3 text-xs",variant:"neutral",children:"Close Handbook"})})]}),e.jsxs("div",{className:"flex-1 p-6 md:p-10 overflow-y-auto custom-scrollbar bg-theme-surface-base relative z-10 font-mono",children:[s==="welcome"&&e.jsxs("div",{className:"space-y-8 animate-in slide-in-from-right-4 duration-300 max-w-2xl",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-4xl md:text-5xl font-black text-theme-text-primary mb-4 tracking-tighter",children:["Welcome to the ",e.jsx("span",{className:"text-theme-primary",children:"Underworld"}),"."]}),e.jsxs("p",{className:"text-lg text-theme-text-secondary leading-relaxed font-sans",children:["You thought it would be easy? Making money on the streets? ",e.jsx("br",{}),"Forget it. This isn't a game. It's an ",e.jsx("b",{children:"economic simulation"})," of organized crime."]})]}),e.jsxs("div",{className:"p-6 bg-theme-primary/10 border-l-4 border-theme-primary rounded-r-lg",children:[e.jsx("h3",{className:"text-theme-primary font-bold uppercase text-sm mb-2",children:"Your Goal"}),e.jsxs("p",{className:"text-sm text-theme-text-secondary",children:["Start with nothing on N√∏rrebrogade. Build an empire that controls all of Copenhagen.",e.jsx("br",{}),"You must balance three currencies: ",e.jsx("span",{className:"text-theme-text-primary font-bold",children:"Money"}),", ",e.jsx("span",{className:"text-theme-danger font-bold",children:"Heat"}),", and ",e.jsx("span",{className:"text-theme-warning font-bold",children:"Respect"}),"."]})]}),e.jsx("p",{className:"text-sm text-theme-text-muted italic",children:`"Real gangsters don't use weapons. They use spreadsheets." ‚Äî The Sultan`})]}),s==="mechanics"&&e.jsxs("div",{className:"space-y-8 animate-in slide-in-from-right-4 duration-300",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-black text-theme-text-primary mb-2 uppercase tracking-tight",children:"System Core"}),e.jsx("p",{className:"text-theme-text-muted text-sm",children:"How to survive the daily grind."})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"text-theme-success font-bold text-sm uppercase border-b border-theme-success/20 pb-1",children:"1. Sultan (The Hub)"}),e.jsxs("p",{className:"text-xs text-theme-text-muted",children:["Your mentor and mission provider. Check ",e.jsx("b",{children:"News Feed"}),' for market trends (e.g., "Roskilde Festival" = higher prices).']})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"text-theme-warning font-bold text-sm uppercase border-b border-theme-warning/20 pb-1",children:"2. Production & Sales"}),e.jsxs("p",{className:"text-xs text-theme-text-muted",children:["Go to ",e.jsx("b",{children:"Production"})," to make goods. Hash is safe, Coke is profitable. Hire ",e.jsx("b",{children:"Pushers"})," in ",e.jsx("b",{children:"Operations"})," to sell automatically.",e.jsx("br",{}),"Follow your ",e.jsx("b",{children:"Live Assistant"})," (HUD bottom right) for next steps."]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"text-theme-accent font-bold text-sm uppercase border-b border-theme-accent/20 pb-1",children:"3. Finance & Laundering"}),e.jsxs("p",{className:"text-xs text-theme-text-muted",children:[e.jsx("b",{children:"Dirty Money"})," can be used for salaries and bribes.",e.jsx("b",{children:"Clean Money"})," (laundered) is used for investments and real estate. Use ",e.jsx("b",{children:"Accountants"})," or ",e.jsx("b",{children:"Crypto"})," (BTC/XMR) to launder money."]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"text-blue-400 font-bold text-sm uppercase border-b border-blue-400/20 pb-1",children:"4. Territory Specialization"}),e.jsxs("p",{className:"text-xs text-theme-text-muted",children:["When a territory reaches ",e.jsx("b",{children:"Level 5"}),", you can choose a specialization:",e.jsx("br",{}),e.jsx("span",{className:"text-theme-success font-bold",children:"SafeHouse:"})," +25% Defense.",e.jsx("br",{}),e.jsx("span",{className:"text-theme-primary font-bold",children:"Front:"})," Reduces Global Heat Generation (-10%).",e.jsx("br",{}),e.jsx("span",{className:"text-theme-warning font-bold",children:"Warehouse:"})," +100 extra storage capacity per level."]})]})]})]}),s==="math"&&e.jsxs("div",{className:"space-y-6 animate-in slide-in-from-right-4 duration-300",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-black text-theme-text-primary mb-2 uppercase tracking-tight",children:"The Algorithm"}),e.jsx("p",{className:"text-theme-text-secondary text-sm",children:"For the brains. Here's the math behind the system."})]}),e.jsxs("div",{className:"bg-theme-surface-elevated p-6 rounded-xl border border-theme-border-subtle font-mono text-xs space-y-6",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-theme-warning block mb-2 font-bold",children:"// EXPONENTIAL COST SCALING"}),e.jsx("div",{className:"bg-theme-surface-elevated p-3 rounded text-theme-text-secondary",children:"Cost(n) = BaseCost * (GrowthFactor ^ CurrentCount)"}),e.jsx("p",{className:"mt-2 text-theme-text-muted",children:'GrowthFactor varies from 1.15 (Junkies) to 2.5 (Cyber-Security). This means you can never "buy everything". You must choose your strategy.'})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-theme-danger block mb-2 font-bold",children:"// HEAT ALGORITHM"}),e.jsx("div",{className:"bg-theme-surface-elevated p-3 rounded text-theme-text-secondary",children:"HeatGen = (BaseGain * Activity) * (1 - DefenseBuffs)"}),e.jsxs("p",{className:"mt-2 text-theme-text-muted",children:["Heat decays passively based on: ",e.jsx("code",{className:"text-theme-text-primary",children:"1.0 + (Lawyers * 0.15)"}),". If Heat reaches 100, you lose 25% of your cash. In ",e.jsx("b",{children:"Hardcore Mode"}),", your save is permanently deleted."]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-theme-text-secondary block mb-2 font-bold",children:"// MIDDLEMAN FEE"}),e.jsx("div",{className:"bg-theme-surface-elevated p-3 rounded text-theme-text-secondary",children:"BribeCost = DirtyCash(50k) + CleanCash(Cost * 0.10)"}),e.jsx("p",{className:"mt-2 text-theme-text-muted",children:`You can't bribe cops with drug money alone. You need "clean" connections.`})]})]})]}),s==="strategy"&&e.jsxs("div",{className:"space-y-8 animate-in slide-in-from-right-4 duration-300",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-black text-theme-text-primary mb-2 uppercase tracking-tight",children:"Street Smarts"}),e.jsx("p",{className:"text-theme-text-muted text-sm",children:"Three paths to the top. Choose your style."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"p-4 bg-theme-surface-elevated rounded-xl border border-theme-border-subtle hover:border-theme-primary/30 transition-all group",children:[e.jsx("div",{className:"text-theme-primary text-2xl mb-3",children:e.jsx("i",{className:"fa-solid fa-bolt"})}),e.jsx("h3",{className:"font-bold text-theme-text-primary mb-2",children:"The Hustler"}),e.jsxs("p",{className:"text-[10px] text-theme-text-secondary leading-relaxed",children:[e.jsx("b",{children:"Style:"})," Active & Aggressive.",e.jsx("br",{}),"Click fast. Buy many small units (Hash/Pills). Keep Heat low by constantly selling small amounts. Ignore long-term investments."]})]}),e.jsxs("div",{className:"p-4 bg-theme-surface-elevated rounded-xl border border-theme-border-subtle hover:border-theme-warning/30 transition-all group",children:[e.jsx("div",{className:"text-theme-warning text-2xl mb-3",children:e.jsx("i",{className:"fa-solid fa-chess-king"})}),e.jsx("h3",{className:"font-bold text-theme-text-primary mb-2",children:"The Kingpin"}),e.jsxs("p",{className:"text-[10px] text-theme-text-secondary leading-relaxed",children:[e.jsx("b",{children:"Style:"})," Passive & Scaling.",e.jsx("br",{}),"Rush to Level 10. Use ",e.jsx("b",{children:"Accountants"})," to automate everything. Buy ",e.jsx("b",{children:"Hellerup"})," territory for clean income and let the game run in the background while you earn millions."]})]}),e.jsxs("div",{className:"p-4 bg-theme-surface-elevated rounded-xl border border-theme-border-subtle hover:border-theme-text-muted/30 transition-all group",children:[e.jsx("div",{className:"text-theme-text-muted text-2xl mb-3",children:e.jsx("i",{className:"fa-solid fa-ghost"})}),e.jsx("h3",{className:"font-bold text-theme-text-primary mb-2",children:"The Ghost"}),e.jsxs("p",{className:"text-[10px] text-theme-text-secondary leading-relaxed",children:[e.jsx("b",{children:"Style:"})," Stealth & Crypto.",e.jsx("br",{}),"Play the market. Buy Bitcoin when it crashes. Keep 0 Heat. Use ",e.jsx("b",{children:"Private Jet"})," and ",e.jsx("b",{children:"Shadow Network"})," to never get caught."]})]})]})]}),s==="social"&&e.jsxs("div",{className:"space-y-8 animate-in slide-in-from-right-4 duration-300",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-black text-theme-text-primary mb-2 uppercase tracking-tight",children:"Community & App"}),e.jsx("p",{className:"text-theme-text-muted text-sm",children:"Take the streets with you in your pocket."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"p-5 bg-theme-accent/10 border border-theme-accent/30 rounded-xl",children:[e.jsxs("h3",{className:"text-theme-accent font-bold uppercase text-sm mb-2",children:[e.jsx("i",{className:"fa-solid fa-mobile-screen"})," Install the App"]}),e.jsxs("p",{className:"text-xs text-theme-text-secondary mb-2",children:["Syndicate OS is now a ",e.jsx("b",{children:"PWA (Progressive Web App)"}),"."]}),e.jsxs("ol",{className:"list-decimal pl-4 text-xs text-theme-text-secondary space-y-1",children:[e.jsx("li",{children:"Open the game in Chrome (Android) or Safari (iOS)."}),e.jsx("li",{children:'Tap "Menu" (three dots) or "Share".'}),e.jsxs("li",{children:["Select ",e.jsx("b",{children:'"Add to Home Screen"'}),"."]})]}),e.jsx("div",{className:"mt-3 text-[10px] text-theme-accent italic",children:"Now you can play offline on the bus without the browser bar!"})]}),e.jsxs("div",{className:"p-5 bg-theme-secondary/10 border border-theme-secondary/30 rounded-xl",children:[e.jsxs("h3",{className:"text-theme-secondary font-bold uppercase text-sm mb-2",children:[e.jsx("i",{className:"fa-solid fa-users"})," Gang Wars (BETA)"]}),e.jsx("p",{className:"text-xs text-theme-text-secondary mb-2",children:"You can now fight your friends asynchronously."}),e.jsxs("ul",{className:"list-disc pl-4 text-xs text-theme-text-secondary space-y-1",children:[e.jsxs("li",{children:["Go to ",e.jsx("b",{children:"Underworld (Rivals)"})," tab."]}),e.jsxs("li",{children:["Scroll down to find the ",e.jsx("b",{children:"Gang Wars"})," panel."]}),e.jsx("li",{children:"Copy your code or enter a friend's code."})]})]})]}),e.jsxs("div",{className:"border-t border-theme-border-subtle pt-6",children:[e.jsx("h3",{className:"font-bold text-theme-text-primary mb-4",children:"Reviews"}),e.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[e.jsxs("blockquote",{className:"p-4 bg-theme-surface-elevated border-l-2 border-theme-success",children:[e.jsx("p",{className:"text-sm text-theme-text-secondary italic mb-2",children:'"Det f√∏les √¶gte. For √¶gte. Slangen, varmen, m√•den priserne stiger p√• n√•r Roskilde starter. Det er som at v√¶re tilbage p√• pladsen."'}),e.jsx("footer",{className:"text-[10px] text-theme-success font-bold uppercase",children:'‚Äî "The Ex-Kingpin", Bl√•g√•rds Plads'})]}),e.jsxs("blockquote",{className:"p-4 bg-theme-surface-elevated border-l-2 border-theme-accent",children:[e.jsx("p",{className:"text-sm text-theme-text-secondary italic mb-2",children:'"Endelig et tycoon spil hvor matematikken holder. √òkonomien balancerer perfekt p√• kanten af sammenbrud."'}),e.jsx("footer",{className:"text-[10px] text-theme-accent font-bold uppercase",children:'‚Äî "System Architect", Silicon Valley'})]}),e.jsxs("blockquote",{className:"p-4 bg-theme-surface-elevated border-l-2 border-theme-warning",children:[e.jsx("p",{className:"text-sm text-theme-text-secondary italic mb-2",children:'"Jeg missede mit stop med metroen fordi jeg pr√∏vede at crashe Bitcoin markedet. 10/10."'}),e.jsx("footer",{className:"text-[10px] text-theme-warning font-bold uppercase",children:'‚Äî "The Commuter", Gamescom Demo'})]})]})]})]}),s==="keys"&&e.jsxs("div",{className:"space-y-6 animate-in slide-in-from-right-4 duration-300",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-black text-theme-text-primary mb-2 italic",children:"SYSTEM HOTKEYS"}),e.jsx("p",{className:"text-theme-text-muted",children:"Navigate like a professional hacker."})]}),e.jsx("div",{className:"grid grid-cols-2 gap-4",children:[{k:"1",l:"Go to The Lab (Production)"},{k:"2",l:"Go to Underworld (War Room)"},{k:"3",l:"Go to Finance (Crypto & Bank)"},{k:"4",l:"Go to Operations (Personnel)"},{k:"5",l:"Go to Empire (Prestige)"},{k:"6",l:"Go to The Sultan (Missions)"},{k:"ESC",l:"Close all windows / Pause menu"}].map(i=>e.jsxs("div",{className:"bg-theme-surface-elevated p-4 rounded-xl border border-theme-border-subtle flex justify-between items-center group hover:bg-theme-surface-highlight transition-colors",children:[e.jsx("span",{className:"text-theme-text-secondary font-bold text-[11px] uppercase tracking-wider",children:i.l}),e.jsx("kbd",{className:"px-3 py-1.5 bg-theme-bg-secondary rounded-lg text-sm font-black font-mono text-white shadow-lg border border-white/10 group-hover:border-theme-primary/50 transition-colors",children:i.k})]},i.k))})]})]})]})})},bs=({gameState:t,setGameState:s,hardReset:n,exportSave:r,importSave:a,attackBoss:i})=>{const{welcomeModalData:l,setWelcomeModalData:c,raidModalData:o,setRaidModalData:d,settingsModal:u,setSettingsModal:f,helpModal:p,setHelpModal:m}=U();return e.jsxs(e.Fragment,{children:[t.level===1&&t.tutorialStep<4&&e.jsx(ze,{step:t.tutorialStep,state:t,onNext:()=>s(g=>({...g,tutorialStep:g.tutorialStep+1})),onSkip:()=>s(g=>({...g,tutorialStep:99}))}),e.jsx(ns,{data:l,onClose:()=>{l?.hardcoreWipe?n(!0):c(null)}}),e.jsx(is,{data:o,onClose:()=>{o?.hardcoreWipe?n(!0):d(null)}}),t.boss.active&&e.jsx(fs,{boss:t.boss,onAttack:i}),u&&e.jsx(ps,{onClose:()=>f(!1),onExport:r,onImport:a,onReset:n,version:x.includeVersion||t.version,settings:t.settings,setGameState:s}),p&&e.jsx(gs,{onClose:()=>m(!1)})]})},vs=({onSelect:t})=>{const{setLanguage:s}=O(),n=r=>{L("success"),s(r),t&&t()};return e.jsxs("div",{className:"fixed inset-0 bg-theme-bg-primary z-[10000] flex items-center justify-center font-mono overflow-hidden select-none",children:[e.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_center,rgba(var(--colors-success-rgb),0.05)_0%,transparent_70%)] pointer-events-none"}),e.jsx("div",{className:"absolute inset-0 bg-[repeating-linear-gradient(0deg,rgba(0,0,0,0)_0px,rgba(var(--colors-success-rgb),0.03)_1px,transparent_2px)] opacity-30 pointer-events-none"}),e.jsxs("div",{className:"max-w-4xl w-full px-6 flex flex-col items-center animate-in fade-in zoom-in duration-700",children:[e.jsxs("div",{className:"mb-16 text-center",children:[e.jsxs("h1",{className:"text-4xl md:text-6xl font-black text-theme-text-primary tracking-[0.2em] italic uppercase mb-2",children:["SYNDICATE",e.jsx("span",{className:"text-theme-success drop-shadow-[0_0_15px_rgba(16,185,129,0.8)]",children:"OS"})]}),e.jsx("div",{className:"h-px w-full bg-gradient-to-r from-transparent via-theme-success/50 to-transparent"})]}),e.jsx("h2",{className:"text-xl text-theme-text-secondary mb-12 tracking-widest uppercase",children:"Select Language / V√¶lg Sprog"}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-8 w-full max-w-2xl justify-center",children:[e.jsxs("button",{onClick:()=>n("da"),className:"group relative flex-1 p-8 bg-theme-surface-base border border-theme-border-subtle rounded-xl hover:border-theme-success/50 transition-all duration-300 hover:bg-theme-bg-primary/5 hover:scale-[1.02]",children:[e.jsx("div",{className:"absolute inset-0 bg-theme-success/0 group-hover:bg-theme-success/5 transition-all rounded-xl"}),e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx("span",{className:"text-6xl",children:"üá©üá∞"}),e.jsx("div",{className:"text-2xl font-black text-theme-text-primary tracking-widest uppercase group-hover:text-theme-success transition-colors",children:"DANSK"}),e.jsx("div",{className:"text-xs text-theme-text-muted font-bold tracking-widest uppercase",children:"Original Oplevelse"})]})]}),e.jsxs("button",{onClick:()=>n("en"),className:"group relative flex-1 p-8 bg-theme-surface-base border border-theme-border-subtle rounded-xl hover:border-theme-success/50 transition-all duration-300 hover:bg-theme-bg-primary/5 hover:scale-[1.02]",children:[e.jsx("div",{className:"absolute inset-0 bg-theme-success/0 group-hover:bg-theme-success/5 transition-all rounded-xl"}),e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx("span",{className:"text-6xl",children:"üá∫üá∏"}),e.jsx("div",{className:"text-2xl font-black text-theme-text-primary tracking-widest uppercase group-hover:text-theme-success transition-colors",children:"ENGLISH"}),e.jsx("div",{className:"text-xs text-theme-text-muted font-bold tracking-widest uppercase",children:"International Version"})]})]})]}),e.jsx("div",{className:"mt-16 text-xs text-theme-text-muted font-mono tracking-widest",children:"SYSTEM ID: NODE-084-CPH  //  STATUS: AWAITING INPUT"})]})]})},Ye=y.createContext(null),ys=({children:t})=>{const[s,n]=y.useState([]),r=y.useCallback(i=>{n(l=>l.filter(c=>c.id!==i))},[]),a=y.useCallback((i,l="info",c=3e3)=>{const o=Date.now().toString(36)+Math.random().toString(36).substr(2);n(d=>[...d,{id:o,message:i,type:l,duration:c}]),c>0&&setTimeout(()=>{r(o)},c)},[r]);return e.jsx(Ye.Provider,{value:{toasts:s,addToast:a,removeToast:r},children:t})},ks=()=>{const t=y.useContext(Ye);if(!t)throw new Error("useToast must be used within a ToastProvider");return t},js=({id:t,message:s,type:n,onClose:r})=>{const a=()=>{switch(n){case"success":return"border-theme-success text-theme-success bg-theme-surface-elevated/95 shadow-[0_0_15px_rgba(var(--colors-success-rgb),0.3)]";case"error":return"border-theme-danger text-theme-danger bg-theme-surface-elevated/95 shadow-[0_0_15px_rgba(var(--colors-danger-rgb),0.3)]";case"warning":return"border-theme-warning text-theme-warning bg-theme-surface-elevated/95 shadow-[0_0_15px_rgba(var(--colors-warning-rgb),0.3)]";case"achievement":return"border-theme-primary text-theme-primary bg-theme-surface-elevated/95 shadow-[0_0_20px_rgba(var(--colors-primary-rgb),0.5)]";default:return"border-theme-info text-theme-info bg-theme-surface-elevated/95 shadow-[0_0_15px_rgba(var(--colors-info-rgb),0.3)]"}},i=()=>{switch(n){case"success":return"fa-check-circle";case"error":return"fa-exclamation-triangle";case"warning":return"fa-exclamation-circle";case"achievement":return"fa-trophy";default:return"fa-info-circle"}};return e.jsxs("div",{className:`
            mb-3 px-4 py-3 rounded border flex items-center gap-3 min-w-[300px] max-w-sm ml-auto
            animate-in slide-in-from-right-full fade-in duration-300
            ${a()}
        `,children:[e.jsx("i",{className:`fa-solid ${i()} text-lg`}),e.jsx("div",{className:"flex-1 text-sm font-bold font-mono tracking-wide",children:s}),e.jsx("button",{onClick:()=>r(t),className:"opacity-70 hover:opacity-100 transition-opacity p-1","aria-label":"Close notification",children:e.jsx("i",{className:"fa-solid fa-times"})})]})},ws=()=>{const{toasts:t,removeToast:s}=ks();return t.length===0?null:e.jsx("div",{className:"fixed top-20 right-4 z-[9999] flex flex-col items-end pointer-events-none",children:e.jsx("div",{className:"pointer-events-auto",children:t.map(n=>e.jsx(js,{...n,onClose:s},n.id))})})},Ns=({heat:t})=>{const[s,n]=y.useState(""),[r,a]=y.useState(0);return y.useEffect(()=>{const i=Math.max(5e3,2e4-t*150),l=setInterval(()=>{const c=x.policeChatter,o=c[Math.floor(Math.random()*c.length)];a(0),setTimeout(()=>{n(o),a(1)},500),setTimeout(()=>{a(0)},4e3)},i);return()=>clearInterval(l)},[t]),s?e.jsx("div",{className:"fixed bottom-20 left-4 pointer-events-none z-40 transition-opacity duration-500",style:{opacity:r*(.3+t/200)},children:e.jsxs("div",{className:"bg-black/80 border border-red-500/30 px-3 py-1 rounded text-[10px] mono text-red-400 flex items-center gap-2",children:[e.jsx("span",{className:"w-2 h-2 bg-red-500 rounded-full animate-pulse"}),e.jsx("span",{className:"uppercase tracking-widest",children:"[RADIO]:"}),e.jsx("span",{className:"italic",children:s})]})}):null};function _s(){const{state:t,dispatch:s,addFloat:n,triggerShake:r}=Ke(),{language:a}=O(),{activeTab:i,setActiveTab:l,settingsModal:c,setSettingsModal:o,helpModal:d,setHelpModal:u,welcomeModalData:f,setWelcomeModalData:p,raidModalData:m,setRaidModalData:g,buyAmount:w,setBuyAmount:h,showBoot:b,setShowBoot:_,showDrone:k,setShowDrone:R}=U(),{setGameState:S,isRaid:H}=_t(t,s);Nt(t,s);const F=y.useCallback(Y=>{if(R(!1),Y)if((Math.random()>.5?"cash":"hype")==="cash"){const $=Math.floor((t.dirtyCash||1e3)*.1)+5e3;S(ne=>({...ne,dirtyCash:ne.dirtyCash+$,logs:[{msg:`DRONE NEDSKUDT: Du stjal ${$} kr!`,type:"success",time:new Date().toLocaleTimeString()},...ne.logs].slice(0,50)})),L("success")}else S($=>({...$,activeBuffs:{...$.activeBuffs,hype:Date.now()+6e4},logs:[{msg:"DRONE HACKET: Gratis HYPE i 60 sekunder!",type:"success",time:new Date().toLocaleTimeString()},...$.logs].slice(0,50)})),L("levelup")},[t.dirtyCash,S]),P=B.useRef(0),v=y.useCallback((Y,te="system")=>{const $=Date.now();te==="system"&&$-P.current<150||(P.current=$,(te==="success"||te==="story")&&L("success"),te==="error"&&L("error"),S(ne=>({...ne,logs:[{msg:Y,type:te,time:new Date().toLocaleTimeString()},...ne.logs].slice(0,50)})))},[S]);B.useEffect(()=>{const Y=setInterval(()=>{!k&&Math.random()>.3&&(R(!0),v("‚ö†Ô∏è RADAR: Ukendt drone observeret!","warning"))},3e4);return()=>clearInterval(Y)},[k,v]),yt(t,s,v),jt(t,S),wt();const{hardReset:C,exportSave:j,importSave:N,doPrestige:M,attackBoss:T,handleNewsAction:D,sabotageRival:I,raidRival:K,liberateTerritory:q,bribePolice:W,handleMissionChoice:G,buyHype:Q,buyBribeSultan:ye,purchaseLuxuryItem:oe,purchaseMasteryPerk:ue,strikeRival:re,activateGhostMode:ke,triggerMarketTrend:je}=St(t,S,s,v,r);B.useEffect(()=>{t&&!t.bootShown&&t.level===1&&a&&_(!0)},[t,a]);const we=()=>{_(!1),S(Y=>({...Y,bootShown:!0}))};return a?t?b?e.jsx(Tt,{onComplete:we}):e.jsxs(e.Fragment,{children:[e.jsx(At,{}),e.jsx(ze,{}),e.jsx("div",{className:`heat-vignette ${t.heat>=90?"critical":t.heat>=70?"active":""}`}),e.jsx(Ns,{heat:t.heat}),k&&e.jsx(Et,{onCapture:F}),t.isSalesPaused&&e.jsx("div",{className:"sales-paused-vignette"}),e.jsx("div",{className:`transition-transform duration-150 ${t.isShaking?"shake-it":""}`,children:e.jsxs(as,{gameState:t,addFloat:n,isRaid:H,onNewsClick:D,bribePolice:W,children:[i==="sultan"&&e.jsx(Rt,{state:t,setState:S,addLog:v,handleChoice:G,buyHype:Q,buyBribe:ye,triggerMarketTrend:je}),i==="production"&&e.jsx(Ht,{state:t,setState:S,addLog:v,addFloat:n}),i==="network"&&e.jsx(Lt,{state:t,setState:S,addLog:v,addFloat:n,sabotageRival:I,raidRival:K,liberateTerritory:q}),i==="rivals"&&e.jsx(qt,{state:t,setState:S,addLog:v,addFloat:n,sabotageRival:I,raidRival:K,bribePolice:W,strikeRival:re}),i==="finance"&&e.jsx(Ft,{state:t,setState:S,addLog:v,addFloat:n,purchaseLuxury:oe}),i==="management"&&e.jsx(Vt,{state:t,setState:S,addLog:v,addFloat:n}),i==="empire"&&e.jsx(Dt,{state:t,doPrestige:M,purchaseMastery:ue})]})}),e.jsx(Wt,{state:t,activateGhostMode:ke}),e.jsx(bs,{gameState:t,setGameState:S,hardReset:C,exportSave:j,importSave:N,attackBoss:T})]}):e.jsx("div",{className:"text-theme-text-primary p-10",children:"Loading Syndicate OS..."}):e.jsx(vs,{})}function Cs(){return e.jsx(kt,{children:e.jsxs(ys,{children:[e.jsx(_s,{}),e.jsx(ws,{})]})})}class Ss extends B.Component{constructor(s){super(s),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(s){return{hasError:!0,error:s}}componentDidCatch(s,n){console.error("Uncaught error:",s,n),this.setState({errorInfo:n})}render(){return this.state.hasError?e.jsxs("div",{style:{position:"fixed",inset:0,padding:"40px",background:"#050505",color:"#ef4444",height:"100vh",overflow:"auto",fontFamily:"monospace",zIndex:99999},children:[e.jsx("h1",{style:{fontSize:"2rem",marginBottom:"1rem",borderBottom:"1px solid #333"},children:"CRITICAL SYSTEM FAILURE"}),e.jsx("div",{style:{marginBottom:"2rem",color:"#fff"},children:"The game engine encountered a fatal error and had to stop."}),e.jsxs("div",{style:{background:"#111",padding:"20px",borderRadius:"8px",border:"1px solid #333"},children:[e.jsx("h3",{style:{color:"#888",marginBottom:"10px"},children:"ERROR LOG:"}),e.jsx("pre",{style:{whiteSpace:"pre-wrap",wordBreak:"break-all",color:"#ef4444"},children:this.state.error&&this.state.error.toString()}),e.jsx("br",{}),e.jsxs("details",{style:{whiteSpace:"pre-wrap",color:"#666"},children:[e.jsx("summary",{style:{cursor:"pointer",marginBottom:"10px"},children:"View Stack Trace"}),this.state.errorInfo&&this.state.errorInfo.componentStack]})]}),e.jsx(A,{onClick:()=>window.location.reload(),variant:"danger",style:{marginTop:"20px",fontWeight:"bold"},children:"REBOOT SYSTEM"}),e.jsx(A,{onClick:()=>{navigator.clipboard.writeText(`${this.state.error}
${this.state.errorInfo?.componentStack}`),alert("Error copied to clipboard")},variant:"neutral",style:{marginTop:"20px",marginLeft:"10px",fontWeight:"bold"},children:"COPY REPORT"})]}):this.props.children}}try{Je.createRoot(document.getElementById("root")).render(e.jsx(B.StrictMode,{children:e.jsx(Ss,{children:e.jsx(us,{children:e.jsx(et,{children:e.jsx(vt,{children:e.jsx(Cs,{})})})})})}))}catch(t){console.error("OS: CRITICAL BOOT FAILURE",t),document.getElementById("root").innerHTML=`<div style="color:red; padding:20px;"><h1>BOOT FAILURE</h1><pre>${t.message}</pre></div>`}
